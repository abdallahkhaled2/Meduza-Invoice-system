function Aw(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in i)){const l=Object.getOwnPropertyDescriptor(s,r);l&&Object.defineProperty(i,r,l.get?l:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();function ef(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function cl(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function s(){var r=!1;try{r=this instanceof s}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var r=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return i[s]}})}),t}var ed={exports:{}},Rr={};var Ny;function jw(){if(Ny)return Rr;Ny=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:i,type:s,key:c,ref:r!==void 0?r:null,props:l}}return Rr.Fragment=e,Rr.jsx=t,Rr.jsxs=t,Rr}var Py;function Rw(){return Py||(Py=1,ed.exports=jw()),ed.exports}var y=Rw(),td={exports:{}},_e={};var Ly;function Mw(){if(Ly)return _e;Ly=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function C(R,K,te){this.props=R,this.context=K,this.refs=E,this.updater=te||S}C.prototype.isReactComponent={},C.prototype.setState=function(R,K){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,K,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=C.prototype;function A(R,K,te){this.props=R,this.context=K,this.refs=E,this.updater=te||S}var D=A.prototype=new O;D.constructor=A,w(D,C.prototype),D.isPureReactComponent=!0;var P=Array.isArray;function F(){}var z={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function Y(R,K,te){var se=te.ref;return{$$typeof:i,type:R,key:K,ref:se!==void 0?se:null,props:te}}function V(R,K){return Y(R.type,K,R.props)}function $(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function L(R){var K={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(te){return K[te]})}var ee=/\/+/g;function ie(R,K){return typeof R=="object"&&R!==null&&R.key!=null?L(""+R.key):K.toString(36)}function de(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(F,F):(R.status="pending",R.then(function(K){R.status==="pending"&&(R.status="fulfilled",R.value=K)},function(K){R.status==="pending"&&(R.status="rejected",R.reason=K)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function B(R,K,te,se,fe){var pe=typeof R;(pe==="undefined"||pe==="boolean")&&(R=null);var Te=!1;if(R===null)Te=!0;else switch(pe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(R.$$typeof){case i:case e:Te=!0;break;case m:return Te=R._init,B(Te(R._payload),K,te,se,fe)}}if(Te)return fe=fe(R),Te=se===""?"."+ie(R,0):se,P(fe)?(te="",Te!=null&&(te=Te.replace(ee,"$&/")+"/"),B(fe,K,te,"",function(Tn){return Tn})):fe!=null&&($(fe)&&(fe=V(fe,te+(fe.key==null||R&&R.key===fe.key?"":(""+fe.key).replace(ee,"$&/")+"/")+Te)),K.push(fe)),1;Te=0;var nt=se===""?".":se+":";if(P(R))for(var qe=0;qe<R.length;qe++)se=R[qe],pe=nt+ie(se,qe),Te+=B(se,K,te,pe,fe);else if(qe=x(R),typeof qe=="function")for(R=qe.call(R),qe=0;!(se=R.next()).done;)se=se.value,pe=nt+ie(se,qe++),Te+=B(se,K,te,pe,fe);else if(pe==="object"){if(typeof R.then=="function")return B(de(R),K,te,se,fe);throw K=String(R),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Z(R,K,te){if(R==null)return R;var se=[],fe=0;return B(R,se,"","",function(pe){return K.call(te,pe,fe++)}),se}function re(R){if(R._status===-1){var K=R._result;K=K(),K.then(function(te){(R._status===0||R._status===-1)&&(R._status=1,R._result=te)},function(te){(R._status===0||R._status===-1)&&(R._status=2,R._result=te)}),R._status===-1&&(R._status=0,R._result=K)}if(R._status===1)return R._result.default;throw R._result}var ce=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ve={map:Z,forEach:function(R,K,te){Z(R,function(){K.apply(this,arguments)},te)},count:function(R){var K=0;return Z(R,function(){K++}),K},toArray:function(R){return Z(R,function(K){return K})||[]},only:function(R){if(!$(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return _e.Activity=b,_e.Children=ve,_e.Component=C,_e.Fragment=t,_e.Profiler=r,_e.PureComponent=A,_e.StrictMode=s,_e.Suspense=d,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,_e.__COMPILER_RUNTIME={__proto__:null,c:function(R){return z.H.useMemoCache(R)}},_e.cache=function(R){return function(){return R.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(R,K,te){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var se=w({},R.props),fe=R.key;if(K!=null)for(pe in K.key!==void 0&&(fe=""+K.key),K)!k.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(se[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)se.children=te;else if(1<pe){for(var Te=Array(pe),nt=0;nt<pe;nt++)Te[nt]=arguments[nt+2];se.children=Te}return Y(R.type,fe,se)},_e.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},_e.createElement=function(R,K,te){var se,fe={},pe=null;if(K!=null)for(se in K.key!==void 0&&(pe=""+K.key),K)k.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=K[se]);var Te=arguments.length-2;if(Te===1)fe.children=te;else if(1<Te){for(var nt=Array(Te),qe=0;qe<Te;qe++)nt[qe]=arguments[qe+2];fe.children=nt}if(R&&R.defaultProps)for(se in Te=R.defaultProps,Te)fe[se]===void 0&&(fe[se]=Te[se]);return Y(R,pe,fe)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(R){return{$$typeof:h,render:R}},_e.isValidElement=$,_e.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:re}},_e.memo=function(R,K){return{$$typeof:f,type:R,compare:K===void 0?null:K}},_e.startTransition=function(R){var K=z.T,te={};z.T=te;try{var se=R(),fe=z.S;fe!==null&&fe(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(F,ce)}catch(pe){ce(pe)}finally{K!==null&&te.types!==null&&(K.types=te.types),z.T=K}},_e.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},_e.use=function(R){return z.H.use(R)},_e.useActionState=function(R,K,te){return z.H.useActionState(R,K,te)},_e.useCallback=function(R,K){return z.H.useCallback(R,K)},_e.useContext=function(R){return z.H.useContext(R)},_e.useDebugValue=function(){},_e.useDeferredValue=function(R,K){return z.H.useDeferredValue(R,K)},_e.useEffect=function(R,K){return z.H.useEffect(R,K)},_e.useEffectEvent=function(R){return z.H.useEffectEvent(R)},_e.useId=function(){return z.H.useId()},_e.useImperativeHandle=function(R,K,te){return z.H.useImperativeHandle(R,K,te)},_e.useInsertionEffect=function(R,K){return z.H.useInsertionEffect(R,K)},_e.useLayoutEffect=function(R,K){return z.H.useLayoutEffect(R,K)},_e.useMemo=function(R,K){return z.H.useMemo(R,K)},_e.useOptimistic=function(R,K){return z.H.useOptimistic(R,K)},_e.useReducer=function(R,K,te){return z.H.useReducer(R,K,te)},_e.useRef=function(R){return z.H.useRef(R)},_e.useState=function(R){return z.H.useState(R)},_e.useSyncExternalStore=function(R,K,te){return z.H.useSyncExternalStore(R,K,te)},_e.useTransition=function(){return z.H.useTransition()},_e.version="19.2.0",_e}var zy;function tf(){return zy||(zy=1,td.exports=Mw()),td.exports}var I=tf();const kw=ef(I);var nd={exports:{}},Mr={},id={exports:{}},sd={};var By;function Dw(){return By||(By=1,(function(i){function e(B,Z){var re=B.length;B.push(Z);e:for(;0<re;){var ce=re-1>>>1,ve=B[ce];if(0<r(ve,Z))B[ce]=Z,B[re]=ve,re=ce;else break e}}function t(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var Z=B[0],re=B.pop();if(re!==Z){B[0]=re;e:for(var ce=0,ve=B.length,R=ve>>>1;ce<R;){var K=2*(ce+1)-1,te=B[K],se=K+1,fe=B[se];if(0>r(te,re))se<ve&&0>r(fe,te)?(B[ce]=fe,B[se]=re,ce=se):(B[ce]=te,B[K]=re,ce=K);else if(se<ve&&0>r(fe,re))B[ce]=fe,B[se]=re,ce=se;else break e}}return Z}function r(B,Z){var re=B.sortIndex-Z.sortIndex;return re!==0?re:B.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var d=[],f=[],m=1,b=null,v=3,x=!1,S=!1,w=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var Z=t(f);Z!==null;){if(Z.callback===null)s(f);else if(Z.startTime<=B)s(f),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(f)}}function P(B){if(w=!1,D(B),!S)if(t(d)!==null)S=!0,F||(F=!0,L());else{var Z=t(f);Z!==null&&de(P,Z.startTime-B)}}var F=!1,z=-1,k=5,Y=-1;function V(){return E?!0:!(i.unstable_now()-Y<k)}function $(){if(E=!1,F){var B=i.unstable_now();Y=B;var Z=!0;try{e:{S=!1,w&&(w=!1,O(z),z=-1),x=!0;var re=v;try{t:{for(D(B),b=t(d);b!==null&&!(b.expirationTime>B&&V());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,v=b.priorityLevel;var ve=ce(b.expirationTime<=B);if(B=i.unstable_now(),typeof ve=="function"){b.callback=ve,D(B),Z=!0;break t}b===t(d)&&s(d),D(B)}else s(d);b=t(d)}if(b!==null)Z=!0;else{var R=t(f);R!==null&&de(P,R.startTime-B),Z=!1}}break e}finally{b=null,v=re,x=!1}Z=void 0}}finally{Z?L():F=!1}}}var L;if(typeof A=="function")L=function(){A($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ie=ee.port2;ee.port1.onmessage=$,L=function(){ie.postMessage(null)}}else L=function(){C($,0)};function de(B,Z){z=C(function(){B(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var re=v;v=Z;try{return B()}finally{v=re}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var re=v;v=B;try{return Z()}finally{v=re}},i.unstable_scheduleCallback=function(B,Z,re){var ce=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ce+re:ce):re=ce,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=re+ve,B={id:m++,callback:Z,priorityLevel:B,startTime:re,expirationTime:ve,sortIndex:-1},re>ce?(B.sortIndex=re,e(f,B),t(d)===null&&B===t(f)&&(w?(O(z),z=-1):w=!0,de(P,re-ce))):(B.sortIndex=ve,e(d,B),S||x||(S=!0,F||(F=!0,L()))),B},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(B){var Z=v;return function(){var re=v;v=Z;try{return B.apply(this,arguments)}finally{v=re}}}})(sd)),sd}var Uy;function Nw(){return Uy||(Uy=1,id.exports=Dw()),id.exports}var ad={exports:{}},Tt={};var Hy;function Pw(){if(Hy)return Tt;Hy=1;var i=tf();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(d,f,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:d,containerInfo:f,implementation:m}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tt.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(d,f,null,m)},Tt.flushSync=function(d){var f=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=f,s.p=m,s.d.f()}},Tt.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},Tt.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Tt.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,b=h(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:x}):m==="script"&&s.d.X(d,{crossOrigin:b,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tt.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=h(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},Tt.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,b=h(m,f.crossOrigin);s.d.L(d,m,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tt.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=h(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},Tt.requestFormReset=function(d){s.d.r(d)},Tt.unstable_batchedUpdates=function(d,f){return d(f)},Tt.useFormState=function(d,f,m){return c.H.useFormState(d,f,m)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.0",Tt}var Fy;function Lw(){if(Fy)return ad.exports;Fy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ad.exports=Pw(),ad.exports}var Iy;function zw(){if(Iy)return Mr;Iy=1;var i=Nw(),e=tf(),t=Lw();function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var a=n,o=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(o=a.return),n=a.return;while(n)}return a.tag===3?o:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function f(n){var a=n.alternate;if(!a){if(a=l(n),a===null)throw Error(s(188));return a!==n?null:n}for(var o=n,u=a;;){var g=o.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===o)return d(g),n;if(p===u)return d(g),a;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=g,u=p;else{for(var _=!1,T=g.child;T;){if(T===o){_=!0,o=g,u=p;break}if(T===u){_=!0,u=g,o=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===o){_=!0,o=p,u=g;break}if(T===u){_=!0,u=p,o=g;break}T=T.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:a}function m(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=m(n),a!==null)return a;n=n.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=$&&n[$]||n["@@iterator"],typeof n=="function"?n:null)}var ee=Symbol.for("react.client.reference");function ie(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ee?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case F:return"SuspenseList";case Y:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case A:return n.displayName||"Context";case O:return(n._context.displayName||"Context")+".Consumer";case D:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return a=n.displayName||null,a!==null?a:ie(n.type)||"Memo";case k:a=n._payload,n=n._init;try{return ie(n(a))}catch{}}return null}var de=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ce=[],ve=-1;function R(n){return{current:n}}function K(n){0>ve||(n.current=ce[ve],ce[ve]=null,ve--)}function te(n,a){ve++,ce[ve]=n.current,n.current=a}var se=R(null),fe=R(null),pe=R(null),Te=R(null);function nt(n,a){switch(te(pe,a),te(fe,n),te(se,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?iy(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=iy(a),n=sy(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(se),te(se,n)}function qe(){K(se),K(fe),K(pe)}function Tn(n){n.memoizedState!==null&&te(Te,n);var a=se.current,o=sy(a,n.type);a!==o&&(te(fe,n),te(se,o))}function Je(n){fe.current===n&&(K(se),K(fe)),Te.current===n&&(K(Te),Cr._currentValue=re)}var Yi,Ms;function ae(n){if(Yi===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Yi=a&&a[1]||"",Ms=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yi+n+Ms}var Rt=!1;function qt(n,a){if(!n||Rt)return"";Rt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var q=G}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(G){q=G}n.call(Q.prototype)}}else{try{throw Error()}catch(G){q=G}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),_=p[0],T=p[1];if(_&&T){var j=_.split(`
`),H=T.split(`
`);for(g=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(u===j.length||g===H.length)for(u=j.length-1,g=H.length-1;1<=u&&0<=g&&j[u]!==H[g];)g--;for(;1<=u&&0<=g;u--,g--)if(j[u]!==H[g]){if(u!==1||g!==1)do if(u--,g--,0>g||j[u]!==H[g]){var W=`
`+j[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=g);break}}}finally{Rt=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ae(o):""}function Cn(n,a){switch(n.tag){case 26:case 27:case 5:return ae(n.type);case 16:return ae("Lazy");case 13:return n.child!==a&&a!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return qt(n.type,!1);case 11:return qt(n.type.render,!1);case 1:return qt(n.type,!0);case 31:return ae("Activity");default:return""}}function J(n){try{var a="",o=null;do a+=Cn(n,o),o=n,n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var be=Object.prototype.hasOwnProperty,Ee=i.unstable_scheduleCallback,tn=i.unstable_cancelCallback,Wi=i.unstable_shouldYield,za=i.unstable_requestPaint,$t=i.unstable_now,ox=i.unstable_getCurrentPriorityLevel,Pf=i.unstable_ImmediatePriority,Lf=i.unstable_UserBlockingPriority,ml=i.unstable_NormalPriority,cx=i.unstable_LowPriority,zf=i.unstable_IdlePriority,ux=i.log,hx=i.unstable_setDisableYieldValue,Ba=null,Vt=null;function fi(n){if(typeof ux=="function"&&hx(n),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Ba,n)}catch{}}var Gt=Math.clz32?Math.clz32:gx,dx=Math.log,fx=Math.LN2;function gx(n){return n>>>=0,n===0?32:31-(dx(n)/fx|0)|0}var yl=256,bl=262144,vl=4194304;function Ki(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _l(n,a,o){var u=n.pendingLanes;if(u===0)return 0;var g=0,p=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?g=Ki(u):(_&=T,_!==0?g=Ki(_):o||(o=T&~n,o!==0&&(g=Ki(o))))):(T=u&~p,T!==0?g=Ki(T):_!==0?g=Ki(_):o||(o=u&~n,o!==0&&(g=Ki(o)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:g}function Ua(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function px(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bf(){var n=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),n}function Ic(n){for(var a=[],o=0;31>o;o++)a.push(n);return a}function Ha(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function mx(n,a,o,u,g,p){var _=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,j=n.expirationTimes,H=n.hiddenUpdates;for(o=_&~o;0<o;){var W=31-Gt(o),Q=1<<W;T[W]=0,j[W]=-1;var q=H[W];if(q!==null)for(H[W]=null,W=0;W<q.length;W++){var G=q[W];G!==null&&(G.lane&=-536870913)}o&=~Q}u!==0&&Uf(n,u,0),p!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~a))}function Uf(n,a,o){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Gt(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Hf(n,a){var o=n.entangledLanes|=a;for(n=n.entanglements;o;){var u=31-Gt(o),g=1<<u;g&a|n[u]&a&&(n[u]|=a),o&=~g}}function Ff(n,a){var o=a&-a;return o=(o&42)!==0?1:qc(o),(o&(n.suspendedLanes|a))!==0?0:o}function qc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function $c(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function If(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:Oy(n.type))}function qf(n,a){var o=Z.p;try{return Z.p=n,a()}finally{Z.p=o}}var gi=Math.random().toString(36).slice(2),bt="__reactFiber$"+gi,kt="__reactProps$"+gi,ks="__reactContainer$"+gi,Vc="__reactEvents$"+gi,yx="__reactListeners$"+gi,bx="__reactHandles$"+gi,$f="__reactResources$"+gi,Fa="__reactMarker$"+gi;function Gc(n){delete n[bt],delete n[kt],delete n[Vc],delete n[yx],delete n[bx]}function Ds(n){var a=n[bt];if(a)return a;for(var o=n.parentNode;o;){if(a=o[ks]||o[bt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(n=hy(n);n!==null;){if(o=n[bt])return o;n=hy(n)}return a}n=o,o=n.parentNode}return null}function Ns(n){if(n=n[bt]||n[ks]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function Ia(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(s(33))}function Ps(n){var a=n[$f];return a||(a=n[$f]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function mt(n){n[Fa]=!0}var Vf=new Set,Gf={};function Xi(n,a){Ls(n,a),Ls(n+"Capture",a)}function Ls(n,a){for(Gf[n]=a,n=0;n<a.length;n++)Vf.add(a[n])}var vx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yf={},Wf={};function _x(n){return be.call(Wf,n)?!0:be.call(Yf,n)?!1:vx.test(n)?Wf[n]=!0:(Yf[n]=!0,!1)}function xl(n,a,o){if(_x(a))if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+o)}}function Sl(n,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+o)}}function zn(n,a,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(a,o,""+u)}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Kf(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xx(n,a,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return g.call(this)},set:function(_){o=""+_,p.call(this,_)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Yc(n){if(!n._valueTracker){var a=Kf(n)?"checked":"value";n._valueTracker=xx(n,a,""+n[a])}}function Xf(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return n&&(u=Kf(n)?n.checked?"true":"false":n.value),n=u,n!==o?(a.setValue(n),!0):!1}function wl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Sx=/[\n"\\]/g;function sn(n){return n.replace(Sx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wc(n,a,o,u,g,p,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),a!=null?_==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+nn(a)):n.value!==""+nn(a)&&(n.value=""+nn(a)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),a!=null?Kc(n,_,nn(a)):o!=null?Kc(n,_,nn(o)):u!=null&&n.removeAttribute("value"),g==null&&p!=null&&(n.defaultChecked=!!p),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+nn(T):n.removeAttribute("name")}function Qf(n,a,o,u,g,p,_,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Yc(n);return}o=o!=null?""+nn(o):"",a=a!=null?""+nn(a):o,T||a===n.value||(n.value=a),n.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Yc(n)}function Kc(n,a,o){a==="number"&&wl(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function zs(n,a,o,u){if(n=n.options,a){a={};for(var g=0;g<o.length;g++)a["$"+o[g]]=!0;for(o=0;o<n.length;o++)g=a.hasOwnProperty("$"+n[o].value),n[o].selected!==g&&(n[o].selected=g),g&&u&&(n[o].defaultSelected=!0)}else{for(o=""+nn(o),a=null,g=0;g<n.length;g++){if(n[g].value===o){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}a!==null||n[g].disabled||(a=n[g])}a!==null&&(a.selected=!0)}}function Jf(n,a,o){if(a!=null&&(a=""+nn(a),a!==n.value&&(n.value=a),o==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=o!=null?""+nn(o):""}function Zf(n,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(s(92));if(de(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=nn(a),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Yc(n)}function Bs(n,a){if(a){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=a;return}}n.textContent=a}var wx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eg(n,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,o):typeof o!="number"||o===0||wx.has(a)?a==="float"?n.cssFloat=o:n[a]=(""+o).trim():n[a]=o+"px"}function tg(n,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&o[g]!==u&&eg(n,g,u)}else for(var p in a)a.hasOwnProperty(p)&&eg(n,p,a[p])}function Xc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ex=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function El(n){return Tx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Bn(){}var Qc=null;function Jc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Us=null,Hs=null;function ng(n){var a=Ns(n);if(a&&(n=a.stateNode)){var o=n[kt]||null;e:switch(n=a.stateNode,a.type){case"input":if(Wc(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+sn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==n&&u.form===n.form){var g=u[kt]||null;if(!g)throw Error(s(90));Wc(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===n.form&&Xf(u)}break e;case"textarea":Jf(n,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&zs(n,!!o.multiple,a,!1)}}}var Zc=!1;function ig(n,a,o){if(Zc)return n(a,o);Zc=!0;try{var u=n(a);return u}finally{if(Zc=!1,(Us!==null||Hs!==null)&&(ho(),Us&&(a=Us,n=Hs,Hs=Us=null,ng(a),n)))for(a=0;a<n.length;a++)ng(n[a])}}function qa(n,a){var o=n.stateNode;if(o===null)return null;var u=o[kt]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eu=!1;if(Un)try{var $a={};Object.defineProperty($a,"passive",{get:function(){eu=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{eu=!1}var pi=null,tu=null,Tl=null;function sg(){if(Tl)return Tl;var n,a=tu,o=a.length,u,g="value"in pi?pi.value:pi.textContent,p=g.length;for(n=0;n<o&&a[n]===g[n];n++);var _=o-n;for(u=1;u<=_&&a[o-u]===g[p-u];u++);return Tl=g.slice(n,1<u?1-u:void 0)}function Cl(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Ol(){return!0}function ag(){return!1}function Dt(n){function a(o,u,g,p,_){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ol:ag,this.isPropagationStopped=ag,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),a}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=Dt(Qi),Va=b({},Qi,{view:0,detail:0}),Cx=Dt(Va),nu,iu,Ga,jl=b({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ga&&(Ga&&n.type==="mousemove"?(nu=n.screenX-Ga.screenX,iu=n.screenY-Ga.screenY):iu=nu=0,Ga=n),nu)},movementY:function(n){return"movementY"in n?n.movementY:iu}}),rg=Dt(jl),Ox=b({},jl,{dataTransfer:0}),Ax=Dt(Ox),jx=b({},Va,{relatedTarget:0}),su=Dt(jx),Rx=b({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mx=Dt(Rx),kx=b({},Qi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Dx=Dt(kx),Nx=b({},Qi,{data:0}),lg=Dt(Nx),Px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bx(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=zx[n])?!!a[n]:!1}function au(){return Bx}var Ux=b({},Va,{key:function(n){if(n.key){var a=Px[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Cl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Lx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(n){return n.type==="keypress"?Cl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hx=Dt(Ux),Fx=b({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),og=Dt(Fx),Ix=b({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),qx=Dt(Ix),$x=b({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vx=Dt($x),Gx=b({},jl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=Dt(Gx),Wx=b({},Qi,{newState:0,oldState:0}),Kx=Dt(Wx),Xx=[9,13,27,32],ru=Un&&"CompositionEvent"in window,Ya=null;Un&&"documentMode"in document&&(Ya=document.documentMode);var Qx=Un&&"TextEvent"in window&&!Ya,cg=Un&&(!ru||Ya&&8<Ya&&11>=Ya),ug=" ",hg=!1;function dg(n,a){switch(n){case"keyup":return Xx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fs=!1;function Jx(n,a){switch(n){case"compositionend":return fg(a);case"keypress":return a.which!==32?null:(hg=!0,ug);case"textInput":return n=a.data,n===ug&&hg?null:n;default:return null}}function Zx(n,a){if(Fs)return n==="compositionend"||!ru&&dg(n,a)?(n=sg(),Tl=tu=pi=null,Fs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return cg&&a.locale!=="ko"?null:a.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!eS[n.type]:a==="textarea"}function pg(n,a,o,u){Us?Hs?Hs.push(u):Hs=[u]:Us=u,a=vo(a,"onChange"),0<a.length&&(o=new Al("onChange","change",null,o,u),n.push({event:o,listeners:a}))}var Wa=null,Ka=null;function tS(n){Qm(n,0)}function Rl(n){var a=Ia(n);if(Xf(a))return n}function mg(n,a){if(n==="change")return a}var yg=!1;if(Un){var lu;if(Un){var ou="oninput"in document;if(!ou){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),ou=typeof bg.oninput=="function"}lu=ou}else lu=!1;yg=lu&&(!document.documentMode||9<document.documentMode)}function vg(){Wa&&(Wa.detachEvent("onpropertychange",_g),Ka=Wa=null)}function _g(n){if(n.propertyName==="value"&&Rl(Ka)){var a=[];pg(a,Ka,n,Jc(n)),ig(tS,a)}}function nS(n,a,o){n==="focusin"?(vg(),Wa=a,Ka=o,Wa.attachEvent("onpropertychange",_g)):n==="focusout"&&vg()}function iS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rl(Ka)}function sS(n,a){if(n==="click")return Rl(a)}function aS(n,a){if(n==="input"||n==="change")return Rl(a)}function rS(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Yt=typeof Object.is=="function"?Object.is:rS;function Xa(n,a){if(Yt(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var o=Object.keys(n),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!be.call(a,g)||!Yt(n[g],a[g]))return!1}return!0}function xg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sg(n,a){var o=xg(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=a&&u>=a)return{node:o,offset:a-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xg(o)}}function wg(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?wg(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Eg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=wl(n.document);a instanceof n.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)n=a.contentWindow;else break;a=wl(n.document)}return a}function cu(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var lS=Un&&"documentMode"in document&&11>=document.documentMode,Is=null,uu=null,Qa=null,hu=!1;function Tg(n,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hu||Is==null||Is!==wl(u)||(u=Is,"selectionStart"in u&&cu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qa&&Xa(Qa,u)||(Qa=u,u=vo(uu,"onSelect"),0<u.length&&(a=new Al("onSelect","select",null,a,o),n.push({event:a,listeners:u}),a.target=Is)))}function Ji(n,a){var o={};return o[n.toLowerCase()]=a.toLowerCase(),o["Webkit"+n]="webkit"+a,o["Moz"+n]="moz"+a,o}var qs={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},du={},Cg={};Un&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Zi(n){if(du[n])return du[n];if(!qs[n])return n;var a=qs[n],o;for(o in a)if(a.hasOwnProperty(o)&&o in Cg)return du[n]=a[o];return n}var Og=Zi("animationend"),Ag=Zi("animationiteration"),jg=Zi("animationstart"),oS=Zi("transitionrun"),cS=Zi("transitionstart"),uS=Zi("transitioncancel"),Rg=Zi("transitionend"),Mg=new Map,fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fu.push("scrollEnd");function yn(n,a){Mg.set(n,a),Xi(a,[n])}var Ml=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},an=[],$s=0,gu=0;function kl(){for(var n=$s,a=gu=$s=0;a<n;){var o=an[a];an[a++]=null;var u=an[a];an[a++]=null;var g=an[a];an[a++]=null;var p=an[a];if(an[a++]=null,u!==null&&g!==null){var _=u.pending;_===null?g.next=g:(g.next=_.next,_.next=g),u.pending=g}p!==0&&kg(o,g,p)}}function Dl(n,a,o,u){an[$s++]=n,an[$s++]=a,an[$s++]=o,an[$s++]=u,gu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function pu(n,a,o,u){return Dl(n,a,o,u),Nl(n)}function es(n,a){return Dl(n,null,null,a),Nl(n)}function kg(n,a,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var g=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(g=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,g&&a!==null&&(g=31-Gt(o),n=p.hiddenUpdates,u=n[g],u===null?n[g]=[a]:u.push(a),a.lane=o|536870912),p):null}function Nl(n){if(50<vr)throw vr=0,Eh=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Vs={};function hS(n,a,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(n,a,o,u){return new hS(n,a,o,u)}function mu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hn(n,a){var o=n.alternate;return o===null?(o=Wt(n.tag,a,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=a,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,a=n.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Dg(n,a){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,a=o.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Pl(n,a,o,u,g,p){var _=0;if(u=n,typeof n=="function")mu(n)&&(_=1);else if(typeof n=="string")_=mw(n,o,se.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Y:return n=Wt(31,o,a,g),n.elementType=Y,n.lanes=p,n;case w:return ts(o.children,g,p,a);case E:_=8,g|=24;break;case C:return n=Wt(12,o,a,g|2),n.elementType=C,n.lanes=p,n;case P:return n=Wt(13,o,a,g),n.elementType=P,n.lanes=p,n;case F:return n=Wt(19,o,a,g),n.elementType=F,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:_=10;break e;case O:_=9;break e;case D:_=11;break e;case z:_=14;break e;case k:_=16,u=null;break e}_=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return a=Wt(_,o,a,g),a.elementType=n,a.type=u,a.lanes=p,a}function ts(n,a,o,u){return n=Wt(7,n,u,a),n.lanes=o,n}function yu(n,a,o){return n=Wt(6,n,null,a),n.lanes=o,n}function Ng(n){var a=Wt(18,null,null,0);return a.stateNode=n,a}function bu(n,a,o){return a=Wt(4,n.children!==null?n.children:[],n.key,a),a.lanes=o,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Pg=new WeakMap;function rn(n,a){if(typeof n=="object"&&n!==null){var o=Pg.get(n);return o!==void 0?o:(a={value:n,source:a,stack:J(a)},Pg.set(n,a),a)}return{value:n,source:a,stack:J(a)}}var Gs=[],Ys=0,Ll=null,Ja=0,ln=[],on=0,mi=null,On=1,An="";function Fn(n,a){Gs[Ys++]=Ja,Gs[Ys++]=Ll,Ll=n,Ja=a}function Lg(n,a,o){ln[on++]=On,ln[on++]=An,ln[on++]=mi,mi=n;var u=On;n=An;var g=32-Gt(u)-1;u&=~(1<<g),o+=1;var p=32-Gt(a)+g;if(30<p){var _=g-g%5;p=(u&(1<<_)-1).toString(32),u>>=_,g-=_,On=1<<32-Gt(a)+g|o<<g|u,An=p+n}else On=1<<p|o<<g|u,An=n}function vu(n){n.return!==null&&(Fn(n,1),Lg(n,1,0))}function _u(n){for(;n===Ll;)Ll=Gs[--Ys],Gs[Ys]=null,Ja=Gs[--Ys],Gs[Ys]=null;for(;n===mi;)mi=ln[--on],ln[on]=null,An=ln[--on],ln[on]=null,On=ln[--on],ln[on]=null}function zg(n,a){ln[on++]=On,ln[on++]=An,ln[on++]=mi,On=a.id,An=a.overflow,mi=n}var vt=null,Ge=null,Re=!1,yi=null,cn=!1,xu=Error(s(519));function bi(n){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Za(rn(a,n)),xu}function Bg(n){var a=n.stateNode,o=n.type,u=n.memoizedProps;switch(a[bt]=n,a[kt]=u,o){case"dialog":Oe("cancel",a),Oe("close",a);break;case"iframe":case"object":case"embed":Oe("load",a);break;case"video":case"audio":for(o=0;o<xr.length;o++)Oe(xr[o],a);break;case"source":Oe("error",a);break;case"img":case"image":case"link":Oe("error",a),Oe("load",a);break;case"details":Oe("toggle",a);break;case"input":Oe("invalid",a),Qf(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",a);break;case"textarea":Oe("invalid",a),Zf(a,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||ty(a.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",a),Oe("toggle",a)),u.onScroll!=null&&Oe("scroll",a),u.onScrollEnd!=null&&Oe("scrollend",a),u.onClick!=null&&(a.onclick=Bn),a=!0):a=!1,a||bi(n,!0)}function Ug(n){for(vt=n.return;vt;)switch(vt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:vt=vt.return}}function Ws(n){if(n!==vt)return!1;if(!Re)return Ug(n),Re=!0,!1;var a=n.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Uh(n.type,n.memoizedProps)),o=!o),o&&Ge&&bi(n),Ug(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ge=uy(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ge=uy(n)}else a===27?(a=Ge,ki(n.type)?(n=$h,$h=null,Ge=n):Ge=a):Ge=vt?hn(n.stateNode.nextSibling):null;return!0}function ns(){Ge=vt=null,Re=!1}function Su(){var n=yi;return n!==null&&(zt===null?zt=n:zt.push.apply(zt,n),yi=null),n}function Za(n){yi===null?yi=[n]:yi.push(n)}var wu=R(null),is=null,In=null;function vi(n,a,o){te(wu,a._currentValue),a._currentValue=o}function qn(n){n._currentValue=wu.current,K(wu)}function Eu(n,a,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===o)break;n=n.return}}function Tu(n,a,o,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var p=g.dependencies;if(p!==null){var _=g.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=g;for(var j=0;j<a.length;j++)if(T.context===a[j]){p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),Eu(p.return,o,n),u||(_=null);break e}p=T.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(s(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),Eu(_,o,n),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===n){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function Ks(n,a,o,u){n=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=g.type;Yt(g.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(g===Te.current){if(_=g.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Cr):n=[Cr])}g=g.return}n!==null&&Tu(a,n,o,u),a.flags|=262144}function zl(n){for(n=n.firstContext;n!==null;){if(!Yt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ss(n){is=n,In=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _t(n){return Hg(is,n)}function Bl(n,a){return is===null&&ss(n),Hg(n,a)}function Hg(n,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},In===null){if(n===null)throw Error(s(308));In=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else In=In.next=a;return o}var dS=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(o){return o()})}},fS=i.unstable_scheduleCallback,gS=i.unstable_NormalPriority,rt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cu(){return{controller:new dS,data:new Map,refCount:0}}function er(n){n.refCount--,n.refCount===0&&fS(gS,function(){n.controller.abort()})}var tr=null,Ou=0,Xs=0,Qs=null;function pS(n,a){if(tr===null){var o=tr=[];Ou=0,Xs=Rh(),Qs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ou++,a.then(Fg,Fg),a}function Fg(){if(--Ou===0&&tr!==null){Qs!==null&&(Qs.status="fulfilled");var n=tr;tr=null,Xs=0,Qs=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function mS(n,a){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<o.length;g++)(0,o[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var Ig=B.S;B.S=function(n,a){Tm=$t(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&pS(n,a),Ig!==null&&Ig(n,a)};var as=R(null);function Au(){var n=as.current;return n!==null?n:$e.pooledCache}function Ul(n,a){a===null?te(as,as.current):te(as,a.pool)}function qg(){var n=Au();return n===null?null:{parent:rt._currentValue,pool:n}}var Js=Error(s(460)),ju=Error(s(474)),Hl=Error(s(542)),Fl={then:function(){}};function $g(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Vg(n,a,o){switch(o=n[o],o===void 0?n.push(a):o!==a&&(a.then(Bn,Bn),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Yg(n),n;default:if(typeof a.status=="string")a.then(Bn,Bn);else{if(n=$e,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Yg(n),n}throw ls=a,Js}}function rs(n){try{var a=n._init;return a(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ls=o,Js):o}}var ls=null;function Gg(){if(ls===null)throw Error(s(459));var n=ls;return ls=null,n}function Yg(n){if(n===Js||n===Hl)throw Error(s(483))}var Zs=null,nr=0;function Il(n){var a=nr;return nr+=1,Zs===null&&(Zs=[]),Vg(Zs,n,a)}function ir(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function ql(n,a){throw a.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Wg(n){function a(N,M){if(n){var U=N.deletions;U===null?(N.deletions=[M],N.flags|=16):U.push(M)}}function o(N,M){if(!n)return null;for(;M!==null;)a(N,M),M=M.sibling;return null}function u(N){for(var M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function g(N,M){return N=Hn(N,M),N.index=0,N.sibling=null,N}function p(N,M,U){return N.index=U,n?(U=N.alternate,U!==null?(U=U.index,U<M?(N.flags|=67108866,M):U):(N.flags|=67108866,M)):(N.flags|=1048576,M)}function _(N){return n&&N.alternate===null&&(N.flags|=67108866),N}function T(N,M,U,X){return M===null||M.tag!==6?(M=yu(U,N.mode,X),M.return=N,M):(M=g(M,U),M.return=N,M)}function j(N,M,U,X){var ge=U.type;return ge===w?W(N,M,U.props.children,X,U.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===k&&rs(ge)===M.type)?(M=g(M,U.props),ir(M,U),M.return=N,M):(M=Pl(U.type,U.key,U.props,null,N.mode,X),ir(M,U),M.return=N,M)}function H(N,M,U,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=bu(U,N.mode,X),M.return=N,M):(M=g(M,U.children||[]),M.return=N,M)}function W(N,M,U,X,ge){return M===null||M.tag!==7?(M=ts(U,N.mode,X,ge),M.return=N,M):(M=g(M,U),M.return=N,M)}function Q(N,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=yu(""+M,N.mode,U),M.return=N,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return U=Pl(M.type,M.key,M.props,null,N.mode,U),ir(U,M),U.return=N,U;case S:return M=bu(M,N.mode,U),M.return=N,M;case k:return M=rs(M),Q(N,M,U)}if(de(M)||L(M))return M=ts(M,N.mode,U,null),M.return=N,M;if(typeof M.then=="function")return Q(N,Il(M),U);if(M.$$typeof===A)return Q(N,Bl(N,M),U);ql(N,M)}return null}function q(N,M,U,X){var ge=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ge!==null?null:T(N,M,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return U.key===ge?j(N,M,U,X):null;case S:return U.key===ge?H(N,M,U,X):null;case k:return U=rs(U),q(N,M,U,X)}if(de(U)||L(U))return ge!==null?null:W(N,M,U,X,null);if(typeof U.then=="function")return q(N,M,Il(U),X);if(U.$$typeof===A)return q(N,M,Bl(N,U),X);ql(N,U)}return null}function G(N,M,U,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return N=N.get(U)||null,T(M,N,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return N=N.get(X.key===null?U:X.key)||null,j(M,N,X,ge);case S:return N=N.get(X.key===null?U:X.key)||null,H(M,N,X,ge);case k:return X=rs(X),G(N,M,U,X,ge)}if(de(X)||L(X))return N=N.get(U)||null,W(M,N,X,ge,null);if(typeof X.then=="function")return G(N,M,U,Il(X),ge);if(X.$$typeof===A)return G(N,M,U,Bl(M,X),ge);ql(M,X)}return null}function oe(N,M,U,X){for(var ge=null,ke=null,ue=M,Se=M=0,je=null;ue!==null&&Se<U.length;Se++){ue.index>Se?(je=ue,ue=null):je=ue.sibling;var De=q(N,ue,U[Se],X);if(De===null){ue===null&&(ue=je);break}n&&ue&&De.alternate===null&&a(N,ue),M=p(De,M,Se),ke===null?ge=De:ke.sibling=De,ke=De,ue=je}if(Se===U.length)return o(N,ue),Re&&Fn(N,Se),ge;if(ue===null){for(;Se<U.length;Se++)ue=Q(N,U[Se],X),ue!==null&&(M=p(ue,M,Se),ke===null?ge=ue:ke.sibling=ue,ke=ue);return Re&&Fn(N,Se),ge}for(ue=u(ue);Se<U.length;Se++)je=G(ue,N,Se,U[Se],X),je!==null&&(n&&je.alternate!==null&&ue.delete(je.key===null?Se:je.key),M=p(je,M,Se),ke===null?ge=je:ke.sibling=je,ke=je);return n&&ue.forEach(function(zi){return a(N,zi)}),Re&&Fn(N,Se),ge}function me(N,M,U,X){if(U==null)throw Error(s(151));for(var ge=null,ke=null,ue=M,Se=M=0,je=null,De=U.next();ue!==null&&!De.done;Se++,De=U.next()){ue.index>Se?(je=ue,ue=null):je=ue.sibling;var zi=q(N,ue,De.value,X);if(zi===null){ue===null&&(ue=je);break}n&&ue&&zi.alternate===null&&a(N,ue),M=p(zi,M,Se),ke===null?ge=zi:ke.sibling=zi,ke=zi,ue=je}if(De.done)return o(N,ue),Re&&Fn(N,Se),ge;if(ue===null){for(;!De.done;Se++,De=U.next())De=Q(N,De.value,X),De!==null&&(M=p(De,M,Se),ke===null?ge=De:ke.sibling=De,ke=De);return Re&&Fn(N,Se),ge}for(ue=u(ue);!De.done;Se++,De=U.next())De=G(ue,N,Se,De.value,X),De!==null&&(n&&De.alternate!==null&&ue.delete(De.key===null?Se:De.key),M=p(De,M,Se),ke===null?ge=De:ke.sibling=De,ke=De);return n&&ue.forEach(function(Ow){return a(N,Ow)}),Re&&Fn(N,Se),ge}function Ie(N,M,U,X){if(typeof U=="object"&&U!==null&&U.type===w&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case x:e:{for(var ge=U.key;M!==null;){if(M.key===ge){if(ge=U.type,ge===w){if(M.tag===7){o(N,M.sibling),X=g(M,U.props.children),X.return=N,N=X;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===k&&rs(ge)===M.type){o(N,M.sibling),X=g(M,U.props),ir(X,U),X.return=N,N=X;break e}o(N,M);break}else a(N,M);M=M.sibling}U.type===w?(X=ts(U.props.children,N.mode,X,U.key),X.return=N,N=X):(X=Pl(U.type,U.key,U.props,null,N.mode,X),ir(X,U),X.return=N,N=X)}return _(N);case S:e:{for(ge=U.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){o(N,M.sibling),X=g(M,U.children||[]),X.return=N,N=X;break e}else{o(N,M);break}else a(N,M);M=M.sibling}X=bu(U,N.mode,X),X.return=N,N=X}return _(N);case k:return U=rs(U),Ie(N,M,U,X)}if(de(U))return oe(N,M,U,X);if(L(U)){if(ge=L(U),typeof ge!="function")throw Error(s(150));return U=ge.call(U),me(N,M,U,X)}if(typeof U.then=="function")return Ie(N,M,Il(U),X);if(U.$$typeof===A)return Ie(N,M,Bl(N,U),X);ql(N,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(o(N,M.sibling),X=g(M,U),X.return=N,N=X):(o(N,M),X=yu(U,N.mode,X),X.return=N,N=X),_(N)):o(N,M)}return function(N,M,U,X){try{nr=0;var ge=Ie(N,M,U,X);return Zs=null,ge}catch(ue){if(ue===Js||ue===Hl)throw ue;var ke=Wt(29,ue,null,N.mode);return ke.lanes=X,ke.return=N,ke}finally{}}}var os=Wg(!0),Kg=Wg(!1),_i=!1;function Ru(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mu(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function xi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Si(n,a,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ne&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Nl(n),kg(n,null,o),a}return Dl(n,u,a,o),Nl(n)}function sr(n,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,o|=u,a.lanes=o,Hf(n,o)}}function ku(n,a){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?g=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?g=p=a:p=p.next=a}else g=p=a;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=a:n.next=a,o.lastBaseUpdate=a}var Du=!1;function ar(){if(Du){var n=Qs;if(n!==null)throw n}}function rr(n,a,o,u){Du=!1;var g=n.updateQueue;_i=!1;var p=g.firstBaseUpdate,_=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var j=T,H=j.next;j.next=null,_===null?p=H:_.next=H,_=j;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=H:T.next=H,W.lastBaseUpdate=j))}if(p!==null){var Q=g.baseState;_=0,W=H=j=null,T=p;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Ae&q)===q:(u&q)===q){q!==0&&q===Xs&&(Du=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var oe=n,me=T;q=a;var Ie=o;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){Q=oe.call(Ie,Q,q);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,q=typeof oe=="function"?oe.call(Ie,Q,q):oe,q==null)break e;Q=b({},Q,q);break e;case 2:_i=!0}}q=T.callback,q!==null&&(n.flags|=64,G&&(n.flags|=8192),G=g.callbacks,G===null?g.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(H=W=G,j=Q):W=W.next=G,_|=q;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;G=T,T=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);W===null&&(j=Q),g.baseState=j,g.firstBaseUpdate=H,g.lastBaseUpdate=W,p===null&&(g.shared.lanes=0),Oi|=_,n.lanes=_,n.memoizedState=Q}}function Xg(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function Qg(n,a){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Xg(o[n],a)}var ea=R(null),$l=R(0);function Jg(n,a){n=Jn,te($l,n),te(ea,a),Jn=n|a.baseLanes}function Nu(){te($l,Jn),te(ea,ea.current)}function Pu(){Jn=$l.current,K(ea),K($l)}var Kt=R(null),un=null;function wi(n){var a=n.alternate;te(it,it.current&1),te(Kt,n),un===null&&(a===null||ea.current!==null||a.memoizedState!==null)&&(un=n)}function Lu(n){te(it,it.current),te(Kt,n),un===null&&(un=n)}function Zg(n){n.tag===22?(te(it,it.current),te(Kt,n),un===null&&(un=n)):Ei()}function Ei(){te(it,it.current),te(Kt,Kt.current)}function Xt(n){K(Kt),un===n&&(un=null),K(it)}var it=R(0);function Vl(n){for(var a=n;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ih(o)||qh(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $n=0,xe=null,He=null,lt=null,Gl=!1,ta=!1,cs=!1,Yl=0,lr=0,na=null,yS=0;function Ze(){throw Error(s(321))}function zu(n,a){if(a===null)return!1;for(var o=0;o<a.length&&o<n.length;o++)if(!Yt(n[o],a[o]))return!1;return!0}function Bu(n,a,o,u,g,p){return $n=p,xe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=n===null||n.memoizedState===null?Lp:Zu,cs=!1,p=o(u,g),cs=!1,ta&&(p=tp(a,o,u,g)),ep(n),p}function ep(n){B.H=ur;var a=He!==null&&He.next!==null;if($n=0,lt=He=xe=null,Gl=!1,lr=0,na=null,a)throw Error(s(300));n===null||ot||(n=n.dependencies,n!==null&&zl(n)&&(ot=!0))}function tp(n,a,o,u){xe=n;var g=0;do{if(ta&&(na=null),lr=0,ta=!1,25<=g)throw Error(s(301));if(g+=1,lt=He=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=zp,p=a(o,u)}while(ta);return p}function bS(){var n=B.H,a=n.useState()[0];return a=typeof a.then=="function"?or(a):a,n=n.useState()[0],(He!==null?He.memoizedState:null)!==n&&(xe.flags|=1024),a}function Uu(){var n=Yl!==0;return Yl=0,n}function Hu(n,a,o){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~o}function Fu(n){if(Gl){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Gl=!1}$n=0,lt=He=xe=null,ta=!1,lr=Yl=0,na=null}function Mt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?xe.memoizedState=lt=n:lt=lt.next=n,lt}function st(){if(He===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=He.next;var a=lt===null?xe.memoizedState:lt.next;if(a!==null)lt=a,He=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));He=n,n={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},lt===null?xe.memoizedState=lt=n:lt=lt.next=n}return lt}function Wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function or(n){var a=lr;return lr+=1,na===null&&(na=[]),n=Vg(na,n,a),a=xe,(lt===null?a.memoizedState:lt.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Lp:Zu),n}function Kl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return or(n);if(n.$$typeof===A)return _t(n)}throw Error(s(438,String(n)))}function Iu(n){var a=null,o=xe.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Wl(),xe.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(n),u=0;u<n;u++)o[u]=V;return a.index++,o}function Vn(n,a){return typeof a=="function"?a(n):a}function Xl(n){var a=st();return qu(a,He,n)}function qu(n,a,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var g=n.baseQueue,p=u.pending;if(p!==null){if(g!==null){var _=g.next;g.next=p.next,p.next=_}a.baseQueue=g=p,u.pending=null}if(p=n.baseState,g===null)n.memoizedState=p;else{a=g.next;var T=_=null,j=null,H=a,W=!1;do{var Q=H.lane&-536870913;if(Q!==H.lane?(Ae&Q)===Q:($n&Q)===Q){var q=H.revertLane;if(q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Q===Xs&&(W=!0);else if(($n&q)===q){H=H.next,q===Xs&&(W=!0);continue}else Q={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(T=j=Q,_=p):j=j.next=Q,xe.lanes|=q,Oi|=q;Q=H.action,cs&&o(p,Q),p=H.hasEagerState?H.eagerState:o(p,Q)}else q={lane:Q,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(T=j=q,_=p):j=j.next=q,xe.lanes|=Q,Oi|=Q;H=H.next}while(H!==null&&H!==a);if(j===null?_=p:j.next=T,!Yt(p,n.memoizedState)&&(ot=!0,W&&(o=Qs,o!==null)))throw o;n.memoizedState=p,n.baseState=_,n.baseQueue=j,u.lastRenderedState=p}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function $u(n){var a=st(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,g=o.pending,p=a.memoizedState;if(g!==null){o.pending=null;var _=g=g.next;do p=n(p,_.action),_=_.next;while(_!==g);Yt(p,a.memoizedState)||(ot=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,u]}function np(n,a,o){var u=xe,g=st(),p=Re;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=a();var _=!Yt((He||g).memoizedState,o);if(_&&(g.memoizedState=o,ot=!0),g=g.queue,Yu(ap.bind(null,u,g,n),[n]),g.getSnapshot!==a||_||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,ia(9,{destroy:void 0},sp.bind(null,u,g,o,a),null),$e===null)throw Error(s(349));p||($n&127)!==0||ip(u,a,o)}return o}function ip(n,a,o){n.flags|=16384,n={getSnapshot:a,value:o},a=xe.updateQueue,a===null?(a=Wl(),xe.updateQueue=a,a.stores=[n]):(o=a.stores,o===null?a.stores=[n]:o.push(n))}function sp(n,a,o,u){a.value=o,a.getSnapshot=u,rp(a)&&lp(n)}function ap(n,a,o){return o(function(){rp(a)&&lp(n)})}function rp(n){var a=n.getSnapshot;n=n.value;try{var o=a();return!Yt(n,o)}catch{return!0}}function lp(n){var a=es(n,2);a!==null&&Bt(a,n,2)}function Vu(n){var a=Mt();if(typeof n=="function"){var o=n;if(n=o(),cs){fi(!0);try{o()}finally{fi(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:n},a}function op(n,a,o,u){return n.baseState=o,qu(n,He,typeof u=="function"?u:Vn)}function vS(n,a,o,u,g){if(Zl(n))throw Error(s(485));if(n=a.action,n!==null){var p={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};B.T!==null?o(!0):p.isTransition=!1,u(p),o=a.pending,o===null?(p.next=a.pending=p,cp(a,p)):(p.next=o.next,a.pending=o.next=p)}}function cp(n,a){var o=a.action,u=a.payload,g=n.state;if(a.isTransition){var p=B.T,_={};B.T=_;try{var T=o(g,u),j=B.S;j!==null&&j(_,T),up(n,a,T)}catch(H){Gu(n,a,H)}finally{p!==null&&_.types!==null&&(p.types=_.types),B.T=p}}else try{p=o(g,u),up(n,a,p)}catch(H){Gu(n,a,H)}}function up(n,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){hp(n,a,u)},function(u){return Gu(n,a,u)}):hp(n,a,o)}function hp(n,a,o){a.status="fulfilled",a.value=o,dp(a),n.state=o,a=n.pending,a!==null&&(o=a.next,o===a?n.pending=null:(o=o.next,a.next=o,cp(n,o)))}function Gu(n,a,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,dp(a),a=a.next;while(a!==u)}n.action=null}function dp(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function fp(n,a){return a}function gp(n,a){if(Re){var o=$e.formState;if(o!==null){e:{var u=xe;if(Re){if(Ge){t:{for(var g=Ge,p=cn;g.nodeType!==8;){if(!p){g=null;break t}if(g=hn(g.nextSibling),g===null){g=null;break t}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){Ge=hn(g.nextSibling),u=g.data==="F!";break e}}bi(u)}u=!1}u&&(a=o[0])}}return o=Mt(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:a},o.queue=u,o=Dp.bind(null,xe,u),u.dispatch=o,u=Vu(!1),p=Ju.bind(null,xe,!1,u.queue),u=Mt(),g={state:a,dispatch:null,action:n,pending:null},u.queue=g,o=vS.bind(null,xe,g,p,o),g.dispatch=o,u.memoizedState=n,[a,o,!1]}function pp(n){var a=st();return mp(a,He,n)}function mp(n,a,o){if(a=qu(n,a,fp)[0],n=Xl(Vn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=or(a)}catch(_){throw _===Js?Hl:_}else u=a;a=st();var g=a.queue,p=g.dispatch;return o!==a.memoizedState&&(xe.flags|=2048,ia(9,{destroy:void 0},_S.bind(null,g,o),null)),[u,p,n]}function _S(n,a){n.action=a}function yp(n){var a=st(),o=He;if(o!==null)return mp(a,o,n);st(),a=a.memoizedState,o=st();var u=o.queue.dispatch;return o.memoizedState=n,[a,u,!1]}function ia(n,a,o,u){return n={tag:n,create:o,deps:u,inst:a,next:null},a=xe.updateQueue,a===null&&(a=Wl(),xe.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,a.lastEffect=n),n}function bp(){return st().memoizedState}function Ql(n,a,o,u){var g=Mt();xe.flags|=n,g.memoizedState=ia(1|a,{destroy:void 0},o,u===void 0?null:u)}function Jl(n,a,o,u){var g=st();u=u===void 0?null:u;var p=g.memoizedState.inst;He!==null&&u!==null&&zu(u,He.memoizedState.deps)?g.memoizedState=ia(a,p,o,u):(xe.flags|=n,g.memoizedState=ia(1|a,p,o,u))}function vp(n,a){Ql(8390656,8,n,a)}function Yu(n,a){Jl(2048,8,n,a)}function xS(n){xe.flags|=4;var a=xe.updateQueue;if(a===null)a=Wl(),xe.updateQueue=a,a.events=[n];else{var o=a.events;o===null?a.events=[n]:o.push(n)}}function _p(n){var a=st().memoizedState;return xS({ref:a,nextImpl:n}),function(){if((Ne&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function xp(n,a){return Jl(4,2,n,a)}function Sp(n,a){return Jl(4,4,n,a)}function wp(n,a){if(typeof a=="function"){n=n();var o=a(n);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Ep(n,a,o){o=o!=null?o.concat([n]):null,Jl(4,4,wp.bind(null,a,n),o)}function Wu(){}function Tp(n,a){var o=st();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&zu(a,u[1])?u[0]:(o.memoizedState=[n,a],n)}function Cp(n,a){var o=st();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&zu(a,u[1]))return u[0];if(u=n(),cs){fi(!0);try{n()}finally{fi(!1)}}return o.memoizedState=[u,a],u}function Ku(n,a,o){return o===void 0||($n&1073741824)!==0&&(Ae&261930)===0?n.memoizedState=a:(n.memoizedState=o,n=Om(),xe.lanes|=n,Oi|=n,o)}function Op(n,a,o,u){return Yt(o,a)?o:ea.current!==null?(n=Ku(n,o,u),Yt(n,a)||(ot=!0),n):($n&42)===0||($n&1073741824)!==0&&(Ae&261930)===0?(ot=!0,n.memoizedState=o):(n=Om(),xe.lanes|=n,Oi|=n,a)}function Ap(n,a,o,u,g){var p=Z.p;Z.p=p!==0&&8>p?p:8;var _=B.T,T={};B.T=T,Ju(n,!1,a,o);try{var j=g(),H=B.S;if(H!==null&&H(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var W=mS(j,u);cr(n,a,W,Zt(n))}else cr(n,a,u,Zt(n))}catch(Q){cr(n,a,{then:function(){},status:"rejected",reason:Q},Zt())}finally{Z.p=p,_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}function SS(){}function Xu(n,a,o,u){if(n.tag!==5)throw Error(s(476));var g=jp(n).queue;Ap(n,g,a,re,o===null?SS:function(){return Rp(n),o(u)})}function jp(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:re},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:o},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Rp(n){var a=jp(n);a.next===null&&(a=n.alternate.memoizedState),cr(n,a.next.queue,{},Zt())}function Qu(){return _t(Cr)}function Mp(){return st().memoizedState}function kp(){return st().memoizedState}function wS(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var o=Zt();n=xi(o);var u=Si(a,n,o);u!==null&&(Bt(u,a,o),sr(u,a,o)),a={cache:Cu()},n.payload=a;return}a=a.return}}function ES(n,a,o){var u=Zt();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zl(n)?Np(a,o):(o=pu(n,a,o,u),o!==null&&(Bt(o,n,u),Pp(o,a,u)))}function Dp(n,a,o){var u=Zt();cr(n,a,o,u)}function cr(n,a,o,u){var g={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zl(n))Np(a,g);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var _=a.lastRenderedState,T=p(_,o);if(g.hasEagerState=!0,g.eagerState=T,Yt(T,_))return Dl(n,a,g,0),$e===null&&kl(),!1}catch{}finally{}if(o=pu(n,a,g,u),o!==null)return Bt(o,n,u),Pp(o,a,u),!0}return!1}function Ju(n,a,o,u){if(u={lane:2,revertLane:Rh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Zl(n)){if(a)throw Error(s(479))}else a=pu(n,o,u,2),a!==null&&Bt(a,n,2)}function Zl(n){var a=n.alternate;return n===xe||a!==null&&a===xe}function Np(n,a){ta=Gl=!0;var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}function Pp(n,a,o){if((o&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,o|=u,a.lanes=o,Hf(n,o)}}var ur={readContext:_t,use:Kl,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};ur.useEffectEvent=Ze;var Lp={readContext:_t,use:Kl,useCallback:function(n,a){return Mt().memoizedState=[n,a===void 0?null:a],n},useContext:_t,useEffect:vp,useImperativeHandle:function(n,a,o){o=o!=null?o.concat([n]):null,Ql(4194308,4,wp.bind(null,a,n),o)},useLayoutEffect:function(n,a){return Ql(4194308,4,n,a)},useInsertionEffect:function(n,a){Ql(4,2,n,a)},useMemo:function(n,a){var o=Mt();a=a===void 0?null:a;var u=n();if(cs){fi(!0);try{n()}finally{fi(!1)}}return o.memoizedState=[u,a],u},useReducer:function(n,a,o){var u=Mt();if(o!==void 0){var g=o(a);if(cs){fi(!0);try{o(a)}finally{fi(!1)}}}else g=a;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=ES.bind(null,xe,n),[u.memoizedState,n]},useRef:function(n){var a=Mt();return n={current:n},a.memoizedState=n},useState:function(n){n=Vu(n);var a=n.queue,o=Dp.bind(null,xe,a);return a.dispatch=o,[n.memoizedState,o]},useDebugValue:Wu,useDeferredValue:function(n,a){var o=Mt();return Ku(o,n,a)},useTransition:function(){var n=Vu(!1);return n=Ap.bind(null,xe,n.queue,!0,!1),Mt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,o){var u=xe,g=Mt();if(Re){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),$e===null)throw Error(s(349));(Ae&127)!==0||ip(u,a,o)}g.memoizedState=o;var p={value:o,getSnapshot:a};return g.queue=p,vp(ap.bind(null,u,p,n),[n]),u.flags|=2048,ia(9,{destroy:void 0},sp.bind(null,u,p,o,a),null),o},useId:function(){var n=Mt(),a=$e.identifierPrefix;if(Re){var o=An,u=On;o=(u&~(1<<32-Gt(u)-1)).toString(32)+o,a="_"+a+"R_"+o,o=Yl++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=yS++,a="_"+a+"r_"+o.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Qu,useFormState:gp,useActionState:gp,useOptimistic:function(n){var a=Mt();a.memoizedState=a.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Ju.bind(null,xe,!0,o),o.dispatch=a,[n,a]},useMemoCache:Iu,useCacheRefresh:function(){return Mt().memoizedState=wS.bind(null,xe)},useEffectEvent:function(n){var a=Mt(),o={impl:n};return a.memoizedState=o,function(){if((Ne&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Zu={readContext:_t,use:Kl,useCallback:Tp,useContext:_t,useEffect:Yu,useImperativeHandle:Ep,useInsertionEffect:xp,useLayoutEffect:Sp,useMemo:Cp,useReducer:Xl,useRef:bp,useState:function(){return Xl(Vn)},useDebugValue:Wu,useDeferredValue:function(n,a){var o=st();return Op(o,He.memoizedState,n,a)},useTransition:function(){var n=Xl(Vn)[0],a=st().memoizedState;return[typeof n=="boolean"?n:or(n),a]},useSyncExternalStore:np,useId:Mp,useHostTransitionStatus:Qu,useFormState:pp,useActionState:pp,useOptimistic:function(n,a){var o=st();return op(o,He,n,a)},useMemoCache:Iu,useCacheRefresh:kp};Zu.useEffectEvent=_p;var zp={readContext:_t,use:Kl,useCallback:Tp,useContext:_t,useEffect:Yu,useImperativeHandle:Ep,useInsertionEffect:xp,useLayoutEffect:Sp,useMemo:Cp,useReducer:$u,useRef:bp,useState:function(){return $u(Vn)},useDebugValue:Wu,useDeferredValue:function(n,a){var o=st();return He===null?Ku(o,n,a):Op(o,He.memoizedState,n,a)},useTransition:function(){var n=$u(Vn)[0],a=st().memoizedState;return[typeof n=="boolean"?n:or(n),a]},useSyncExternalStore:np,useId:Mp,useHostTransitionStatus:Qu,useFormState:yp,useActionState:yp,useOptimistic:function(n,a){var o=st();return He!==null?op(o,He,n,a):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Iu,useCacheRefresh:kp};zp.useEffectEvent=_p;function eh(n,a,o,u){a=n.memoizedState,o=o(u,a),o=o==null?a:b({},a,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var th={enqueueSetState:function(n,a,o){n=n._reactInternals;var u=Zt(),g=xi(u);g.payload=a,o!=null&&(g.callback=o),a=Si(n,g,u),a!==null&&(Bt(a,n,u),sr(a,n,u))},enqueueReplaceState:function(n,a,o){n=n._reactInternals;var u=Zt(),g=xi(u);g.tag=1,g.payload=a,o!=null&&(g.callback=o),a=Si(n,g,u),a!==null&&(Bt(a,n,u),sr(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var o=Zt(),u=xi(o);u.tag=2,a!=null&&(u.callback=a),a=Si(n,u,o),a!==null&&(Bt(a,n,o),sr(a,n,o))}};function Bp(n,a,o,u,g,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,_):a.prototype&&a.prototype.isPureReactComponent?!Xa(o,u)||!Xa(g,p):!0}function Up(n,a,o,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==n&&th.enqueueReplaceState(a,a.state,null)}function us(n,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(n=n.defaultProps){o===a&&(o=b({},o));for(var g in n)o[g]===void 0&&(o[g]=n[g])}return o}function Hp(n){Ml(n)}function Fp(n){console.error(n)}function Ip(n){Ml(n)}function eo(n,a){try{var o=n.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function qp(n,a,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function nh(n,a,o){return o=xi(o),o.tag=3,o.payload={element:null},o.callback=function(){eo(n,a)},o}function $p(n){return n=xi(n),n.tag=3,n}function Vp(n,a,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;n.payload=function(){return g(p)},n.callback=function(){qp(a,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){qp(a,o,u),typeof g!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function TS(n,a,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Ks(a,o,g,!0),o=Kt.current,o!==null){switch(o.tag){case 31:case 13:return un===null?fo():o.alternate===null&&et===0&&(et=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===Fl?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Oh(n,u,g)),!1;case 22:return o.flags|=65536,u===Fl?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Oh(n,u,g)),!1}throw Error(s(435,o.tag))}return Oh(n,u,g),fo(),!1}if(Re)return a=Kt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==xu&&(n=Error(s(422),{cause:u}),Za(rn(n,o)))):(u!==xu&&(a=Error(s(423),{cause:u}),Za(rn(a,o))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=rn(u,o),g=nh(n.stateNode,u,g),ku(n,g),et!==4&&(et=2)),!1;var p=Error(s(520),{cause:u});if(p=rn(p,o),br===null?br=[p]:br.push(p),et!==4&&(et=2),a===null)return!0;u=rn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,n=g&-g,o.lanes|=n,n=nh(o.stateNode,u,n),ku(o,n),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ai===null||!Ai.has(p))))return o.flags|=65536,g&=-g,o.lanes|=g,g=$p(g),Vp(g,n,o,u),ku(o,g),!1}o=o.return}while(o!==null);return!1}var ih=Error(s(461)),ot=!1;function xt(n,a,o,u){a.child=n===null?Kg(a,null,o,u):os(a,n.child,o,u)}function Gp(n,a,o,u,g){o=o.render;var p=a.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return ss(a),u=Bu(n,a,o,_,p,g),T=Uu(),n!==null&&!ot?(Hu(n,a,g),Gn(n,a,g)):(Re&&T&&vu(a),a.flags|=1,xt(n,a,u,g),a.child)}function Yp(n,a,o,u,g){if(n===null){var p=o.type;return typeof p=="function"&&!mu(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,Wp(n,a,p,u,g)):(n=Pl(o.type,null,u,a,a.mode,g),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!hh(n,g)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Xa,o(_,u)&&n.ref===a.ref)return Gn(n,a,g)}return a.flags|=1,n=Hn(p,u),n.ref=a.ref,n.return=a,a.child=n}function Wp(n,a,o,u,g){if(n!==null){var p=n.memoizedProps;if(Xa(p,u)&&n.ref===a.ref)if(ot=!1,a.pendingProps=u=p,hh(n,g))(n.flags&131072)!==0&&(ot=!0);else return a.lanes=n.lanes,Gn(n,a,g)}return sh(n,a,o,u,g)}function Kp(n,a,o,u){var g=u.children,p=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=a.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Xp(n,a,p,o,u)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ul(a,p!==null?p.cachePool:null),p!==null?Jg(a,p):Nu(),Zg(a);else return u=a.lanes=536870912,Xp(n,a,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Ul(a,p.cachePool),Jg(a,p),Ei(),a.memoizedState=null):(n!==null&&Ul(a,null),Nu(),Ei());return xt(n,a,g,o),a.child}function hr(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Xp(n,a,o,u,g){var p=Au();return p=p===null?null:{parent:rt._currentValue,pool:p},a.memoizedState={baseLanes:o,cachePool:p},n!==null&&Ul(a,null),Nu(),Zg(a),n!==null&&Ks(n,a,u,!0),a.childLanes=g,null}function to(n,a){return a=io({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function Qp(n,a,o){return os(a,n.child,null,o),n=to(a,a.pendingProps),n.flags|=2,Xt(a),a.memoizedState=null,n}function CS(n,a,o){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Re){if(u.mode==="hidden")return n=to(a,u),a.lanes=536870912,hr(null,n);if(Lu(a),(n=Ge)?(n=cy(n,cn),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:mi!==null?{id:On,overflow:An}:null,retryLane:536870912,hydrationErrors:null},o=Ng(n),o.return=a,a.child=o,vt=a,Ge=null)):n=null,n===null)throw bi(a);return a.lanes=536870912,null}return to(a,u)}var p=n.memoizedState;if(p!==null){var _=p.dehydrated;if(Lu(a),g)if(a.flags&256)a.flags&=-257,a=Qp(n,a,o);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(s(558));else if(ot||Ks(n,a,o,!1),g=(o&n.childLanes)!==0,ot||g){if(u=$e,u!==null&&(_=Ff(u,o),_!==0&&_!==p.retryLane))throw p.retryLane=_,es(n,_),Bt(u,n,_),ih;fo(),a=Qp(n,a,o)}else n=p.treeContext,Ge=hn(_.nextSibling),vt=a,Re=!0,yi=null,cn=!1,n!==null&&zg(a,n),a=to(a,u),a.flags|=4096;return a}return n=Hn(n.child,{mode:u.mode,children:u.children}),n.ref=a.ref,a.child=n,n.return=a,n}function no(n,a){var o=a.ref;if(o===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(a.flags|=4194816)}}function sh(n,a,o,u,g){return ss(a),o=Bu(n,a,o,u,void 0,g),u=Uu(),n!==null&&!ot?(Hu(n,a,g),Gn(n,a,g)):(Re&&u&&vu(a),a.flags|=1,xt(n,a,o,g),a.child)}function Jp(n,a,o,u,g,p){return ss(a),a.updateQueue=null,o=tp(a,u,o,g),ep(n),u=Uu(),n!==null&&!ot?(Hu(n,a,p),Gn(n,a,p)):(Re&&u&&vu(a),a.flags|=1,xt(n,a,o,p),a.child)}function Zp(n,a,o,u,g){if(ss(a),a.stateNode===null){var p=Vs,_=o.contextType;typeof _=="object"&&_!==null&&(p=_t(_)),p=new o(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=th,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Ru(a),_=o.contextType,p.context=typeof _=="object"&&_!==null?_t(_):Vs,p.state=a.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(eh(a,o,_,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&th.enqueueReplaceState(p,p.state,null),rr(a,u,p,g),ar(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){p=a.stateNode;var T=a.memoizedProps,j=us(o,T);p.props=j;var H=p.context,W=o.contextType;_=Vs,typeof W=="object"&&W!==null&&(_=_t(W));var Q=o.getDerivedStateFromProps;W=typeof Q=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||H!==_)&&Up(a,p,u,_),_i=!1;var q=a.memoizedState;p.state=q,rr(a,u,p,g),ar(),H=a.memoizedState,T||q!==H||_i?(typeof Q=="function"&&(eh(a,o,Q,u),H=a.memoizedState),(j=_i||Bp(a,o,j,u,q,H,_))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=H),p.props=u,p.state=H,p.context=_,u=j):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Mu(n,a),_=a.memoizedProps,W=us(o,_),p.props=W,Q=a.pendingProps,q=p.context,H=o.contextType,j=Vs,typeof H=="object"&&H!==null&&(j=_t(H)),T=o.getDerivedStateFromProps,(H=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==Q||q!==j)&&Up(a,p,u,j),_i=!1,q=a.memoizedState,p.state=q,rr(a,u,p,g),ar();var G=a.memoizedState;_!==Q||q!==G||_i||n!==null&&n.dependencies!==null&&zl(n.dependencies)?(typeof T=="function"&&(eh(a,o,T,u),G=a.memoizedState),(W=_i||Bp(a,o,W,u,q,G,j)||n!==null&&n.dependencies!==null&&zl(n.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,G,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,G,j)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=G),p.props=u,p.state=G,p.context=j,u=W):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(a.flags|=1024),u=!1)}return p=u,no(n,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&u?(a.child=os(a,n.child,null,g),a.child=os(a,null,o,g)):xt(n,a,o,g),a.memoizedState=p.state,n=a.child):n=Gn(n,a,g),n}function em(n,a,o,u){return ns(),a.flags|=256,xt(n,a,o,u),a.child}var ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(n){return{baseLanes:n,cachePool:qg()}}function lh(n,a,o){return n=n!==null?n.childLanes&~o:0,a&&(n|=Jt),n}function tm(n,a,o){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(it.current&2)!==0),_&&(g=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,n===null){if(Re){if(g?wi(a):Ei(),(n=Ge)?(n=cy(n,cn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:mi!==null?{id:On,overflow:An}:null,retryLane:536870912,hydrationErrors:null},o=Ng(n),o.return=a,a.child=o,vt=a,Ge=null)):n=null,n===null)throw bi(a);return qh(n)?a.lanes=32:a.lanes=536870912,null}var T=u.children;return u=u.fallback,g?(Ei(),g=a.mode,T=io({mode:"hidden",children:T},g),u=ts(u,g,o,null),T.return=a,u.return=a,T.sibling=u,a.child=T,u=a.child,u.memoizedState=rh(o),u.childLanes=lh(n,_,o),a.memoizedState=ah,hr(null,u)):(wi(a),oh(a,T))}var j=n.memoizedState;if(j!==null&&(T=j.dehydrated,T!==null)){if(p)a.flags&256?(wi(a),a.flags&=-257,a=ch(n,a,o)):a.memoizedState!==null?(Ei(),a.child=n.child,a.flags|=128,a=null):(Ei(),T=u.fallback,g=a.mode,u=io({mode:"visible",children:u.children},g),T=ts(T,g,o,null),T.flags|=2,u.return=a,T.return=a,u.sibling=T,a.child=u,os(a,n.child,null,o),u=a.child,u.memoizedState=rh(o),u.childLanes=lh(n,_,o),a.memoizedState=ah,a=hr(null,u));else if(wi(a),qh(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,u=Error(s(419)),u.stack="",u.digest=_,Za({value:u,source:null,stack:null}),a=ch(n,a,o)}else if(ot||Ks(n,a,o,!1),_=(o&n.childLanes)!==0,ot||_){if(_=$e,_!==null&&(u=Ff(_,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,es(n,u),Bt(_,n,u),ih;Ih(T)||fo(),a=ch(n,a,o)}else Ih(T)?(a.flags|=192,a.child=n.child,a=null):(n=j.treeContext,Ge=hn(T.nextSibling),vt=a,Re=!0,yi=null,cn=!1,n!==null&&zg(a,n),a=oh(a,u.children),a.flags|=4096);return a}return g?(Ei(),T=u.fallback,g=a.mode,j=n.child,H=j.sibling,u=Hn(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,H!==null?T=Hn(H,T):(T=ts(T,g,o,null),T.flags|=2),T.return=a,u.return=a,u.sibling=T,a.child=u,hr(null,u),u=a.child,T=n.child.memoizedState,T===null?T=rh(o):(g=T.cachePool,g!==null?(j=rt._currentValue,g=g.parent!==j?{parent:j,pool:j}:g):g=qg(),T={baseLanes:T.baseLanes|o,cachePool:g}),u.memoizedState=T,u.childLanes=lh(n,_,o),a.memoizedState=ah,hr(n.child,u)):(wi(a),o=n.child,n=o.sibling,o=Hn(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,n!==null&&(_=a.deletions,_===null?(a.deletions=[n],a.flags|=16):_.push(n)),a.child=o,a.memoizedState=null,o)}function oh(n,a){return a=io({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function io(n,a){return n=Wt(22,n,null,a),n.lanes=0,n}function ch(n,a,o){return os(a,n.child,null,o),n=oh(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function nm(n,a,o){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),Eu(n.return,a,o)}function uh(n,a,o,u,g,p){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g,treeForkCount:p}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=g,_.treeForkCount=p)}function im(n,a,o){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var _=it.current,T=(_&2)!==0;if(T?(_=_&1|2,a.flags|=128):_&=1,te(it,_),xt(n,a,u,o),u=Re?Ja:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nm(n,o,a);else if(n.tag===19)nm(n,o,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(o=a.child,g=null;o!==null;)n=o.alternate,n!==null&&Vl(n)===null&&(g=o),o=o.sibling;o=g,o===null?(g=a.child,a.child=null):(g=o.sibling,o.sibling=null),uh(a,!1,g,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=a.child,a.child=null;g!==null;){if(n=g.alternate,n!==null&&Vl(n)===null){a.child=g;break}n=g.sibling,g.sibling=o,o=g,g=n}uh(a,!0,o,null,p,u);break;case"together":uh(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Gn(n,a,o){if(n!==null&&(a.dependencies=n.dependencies),Oi|=a.lanes,(o&a.childLanes)===0)if(n!==null){if(Ks(n,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,o=Hn(n,n.pendingProps),a.child=o,o.return=a;n.sibling!==null;)n=n.sibling,o=o.sibling=Hn(n,n.pendingProps),o.return=a;o.sibling=null}return a.child}function hh(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&zl(n)))}function OS(n,a,o){switch(a.tag){case 3:nt(a,a.stateNode.containerInfo),vi(a,rt,n.memoizedState.cache),ns();break;case 27:case 5:Tn(a);break;case 4:nt(a,a.stateNode.containerInfo);break;case 10:vi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Lu(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(wi(a),a.flags|=128,null):(o&a.child.childLanes)!==0?tm(n,a,o):(wi(a),n=Gn(n,a,o),n!==null?n.sibling:null);wi(a);break;case 19:var g=(n.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Ks(n,a,o,!1),u=(o&a.childLanes)!==0),g){if(u)return im(n,a,o);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),te(it,it.current),u)break;return null;case 22:return a.lanes=0,Kp(n,a,o,a.pendingProps);case 24:vi(a,rt,n.memoizedState.cache)}return Gn(n,a,o)}function sm(n,a,o){if(n!==null)if(n.memoizedProps!==a.pendingProps)ot=!0;else{if(!hh(n,o)&&(a.flags&128)===0)return ot=!1,OS(n,a,o);ot=(n.flags&131072)!==0}else ot=!1,Re&&(a.flags&1048576)!==0&&Lg(a,Ja,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(n=rs(a.elementType),a.type=n,typeof n=="function")mu(n)?(u=us(n,u),a.tag=1,a=Zp(null,a,n,u,o)):(a.tag=0,a=sh(null,a,n,u,o));else{if(n!=null){var g=n.$$typeof;if(g===D){a.tag=11,a=Gp(null,a,n,u,o);break e}else if(g===z){a.tag=14,a=Yp(null,a,n,u,o);break e}}throw a=ie(n)||n,Error(s(306,a,""))}}return a;case 0:return sh(n,a,a.type,a.pendingProps,o);case 1:return u=a.type,g=us(u,a.pendingProps),Zp(n,a,u,g,o);case 3:e:{if(nt(a,a.stateNode.containerInfo),n===null)throw Error(s(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,Mu(n,a),rr(a,u,null,o);var _=a.memoizedState;if(u=_.cache,vi(a,rt,u),u!==p.cache&&Tu(a,[rt],o,!0),ar(),u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=em(n,a,u,o);break e}else if(u!==g){g=rn(Error(s(424)),a),Za(g),a=em(n,a,u,o);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ge=hn(n.firstChild),vt=a,Re=!0,yi=null,cn=!0,o=Kg(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ns(),u===g){a=Gn(n,a,o);break e}xt(n,a,u,o)}a=a.child}return a;case 26:return no(n,a),n===null?(o=py(a.type,null,a.pendingProps,null))?a.memoizedState=o:Re||(o=a.type,n=a.pendingProps,u=_o(pe.current).createElement(o),u[bt]=a,u[kt]=n,St(u,o,n),mt(u),a.stateNode=u):a.memoizedState=py(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Tn(a),n===null&&Re&&(u=a.stateNode=dy(a.type,a.pendingProps,pe.current),vt=a,cn=!0,g=Ge,ki(a.type)?($h=g,Ge=hn(u.firstChild)):Ge=g),xt(n,a,a.pendingProps.children,o),no(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Re&&((g=u=Ge)&&(u=iw(u,a.type,a.pendingProps,cn),u!==null?(a.stateNode=u,vt=a,Ge=hn(u.firstChild),cn=!1,g=!0):g=!1),g||bi(a)),Tn(a),g=a.type,p=a.pendingProps,_=n!==null?n.memoizedProps:null,u=p.children,Uh(g,p)?u=null:_!==null&&Uh(g,_)&&(a.flags|=32),a.memoizedState!==null&&(g=Bu(n,a,bS,null,null,o),Cr._currentValue=g),no(n,a),xt(n,a,u,o),a.child;case 6:return n===null&&Re&&((n=o=Ge)&&(o=sw(o,a.pendingProps,cn),o!==null?(a.stateNode=o,vt=a,Ge=null,n=!0):n=!1),n||bi(a)),null;case 13:return tm(n,a,o);case 4:return nt(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=os(a,null,u,o):xt(n,a,u,o),a.child;case 11:return Gp(n,a,a.type,a.pendingProps,o);case 7:return xt(n,a,a.pendingProps,o),a.child;case 8:return xt(n,a,a.pendingProps.children,o),a.child;case 12:return xt(n,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,vi(a,a.type,u.value),xt(n,a,u.children,o),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ss(a),g=_t(g),u=u(g),a.flags|=1,xt(n,a,u,o),a.child;case 14:return Yp(n,a,a.type,a.pendingProps,o);case 15:return Wp(n,a,a.type,a.pendingProps,o);case 19:return im(n,a,o);case 31:return CS(n,a,o);case 22:return Kp(n,a,o,a.pendingProps);case 24:return ss(a),u=_t(rt),n===null?(g=Au(),g===null&&(g=$e,p=Cu(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=o),g=p),a.memoizedState={parent:u,cache:g},Ru(a),vi(a,rt,g)):((n.lanes&o)!==0&&(Mu(n,a),rr(a,null,null,o),ar()),g=n.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),vi(a,rt,u)):(u=p.cache,vi(a,rt,u),u!==g.cache&&Tu(a,[rt],o,!0))),xt(n,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Yn(n){n.flags|=4}function dh(n,a,o,u,g){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Mm())n.flags|=8192;else throw ls=Fl,ju}else n.flags&=-16777217}function am(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!_y(a))if(Mm())n.flags|=8192;else throw ls=Fl,ju}function so(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Bf():536870912,n.lanes|=a,la|=a)}function dr(n,a){if(!Re)switch(n.tailMode){case"hidden":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ye(n){var a=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(a)for(var g=n.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=o,a}function AS(n,a,o){var u=a.pendingProps;switch(_u(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(a),null;case 1:return Ye(a),null;case 3:return o=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),qn(rt),qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ws(a)?Yn(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Su())),Ye(a),null;case 26:var g=a.type,p=a.memoizedState;return n===null?(Yn(a),p!==null?(Ye(a),am(a,p)):(Ye(a),dh(a,g,null,u,o))):p?p!==n.memoizedState?(Yn(a),Ye(a),am(a,p)):(Ye(a),a.flags&=-16777217):(n=n.memoizedProps,n!==u&&Yn(a),Ye(a),dh(a,g,n,u,o)),null;case 27:if(Je(a),o=pe.current,g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Yn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return Ye(a),null}n=se.current,Ws(a)?Bg(a):(n=dy(g,u,o),a.stateNode=n,Yn(a))}return Ye(a),null;case 5:if(Je(a),g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Yn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return Ye(a),null}if(p=se.current,Ws(a))Bg(a);else{var _=_o(pe.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?_.createElement(g,{is:u.is}):_.createElement(g)}}p[bt]=a,p[kt]=u;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=p;e:switch(St(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Yn(a)}}return Ye(a),dh(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,o),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Yn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(n=pe.current,Ws(a)){if(n=a.stateNode,o=a.memoizedProps,u=null,g=vt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[bt]=a,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||ty(n.nodeValue,o)),n||bi(a,!0)}else n=_o(n).createTextNode(u),n[bt]=a,a.stateNode=n}return Ye(a),null;case 31:if(o=a.memoizedState,n===null||n.memoizedState!==null){if(u=Ws(a),o!==null){if(n===null){if(!u)throw Error(s(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[bt]=a}else ns(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ye(a),n=!1}else o=Su(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return a.flags&256?(Xt(a),a):(Xt(a),null);if((a.flags&128)!==0)throw Error(s(558))}return Ye(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Ws(a),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[bt]=a}else ns(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ye(a),g=!1}else g=Su(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Xt(a),a):(Xt(a),null)}return Xt(a),(a.flags&128)!==0?(a.lanes=o,a):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),o!==n&&o&&(a.child.flags|=8192),so(a,a.updateQueue),Ye(a),null);case 4:return qe(),n===null&&Nh(a.stateNode.containerInfo),Ye(a),null;case 10:return qn(a.type),Ye(a),null;case 19:if(K(it),u=a.memoizedState,u===null)return Ye(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)dr(u,!1);else{if(et!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=Vl(n),p!==null){for(a.flags|=128,dr(u,!1),n=p.updateQueue,a.updateQueue=n,so(a,n),a.subtreeFlags=0,n=o,o=a.child;o!==null;)Dg(o,n),o=o.sibling;return te(it,it.current&1|2),Re&&Fn(a,u.treeForkCount),a.child}n=n.sibling}u.tail!==null&&$t()>co&&(a.flags|=128,g=!0,dr(u,!1),a.lanes=4194304)}else{if(!g)if(n=Vl(p),n!==null){if(a.flags|=128,g=!0,n=n.updateQueue,a.updateQueue=n,so(a,n),dr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Re)return Ye(a),null}else 2*$t()-u.renderingStartTime>co&&o!==536870912&&(a.flags|=128,g=!0,dr(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(n=u.last,n!==null?n.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=$t(),n.sibling=null,o=it.current,te(it,g?o&1|2:o&1),Re&&Fn(a,u.treeForkCount),n):(Ye(a),null);case 22:case 23:return Xt(a),Pu(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(Ye(a),a.subtreeFlags&6&&(a.flags|=8192)):Ye(a),o=a.updateQueue,o!==null&&so(a,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),n!==null&&K(as),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),qn(rt),Ye(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function jS(n,a){switch(_u(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return qn(rt),qe(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Je(a),null;case 31:if(a.memoizedState!==null){if(Xt(a),a.alternate===null)throw Error(s(340));ns()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Xt(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));ns()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return K(it),null;case 4:return qe(),null;case 10:return qn(a.type),null;case 22:case 23:return Xt(a),Pu(),n!==null&&K(as),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return qn(rt),null;case 25:return null;default:return null}}function rm(n,a){switch(_u(a),a.tag){case 3:qn(rt),qe();break;case 26:case 27:case 5:Je(a);break;case 4:qe();break;case 31:a.memoizedState!==null&&Xt(a);break;case 13:Xt(a);break;case 19:K(it);break;case 10:qn(a.type);break;case 22:case 23:Xt(a),Pu(),n!==null&&K(as);break;case 24:qn(rt)}}function fr(n,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&n)===n){u=void 0;var p=o.create,_=o.inst;u=p(),_.destroy=u}o=o.next}while(o!==g)}}catch(T){ze(a,a.return,T)}}function Ti(n,a,o){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&n)===n){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,g=a;var j=o,H=T;try{H()}catch(W){ze(g,j,W)}}}u=u.next}while(u!==p)}}catch(W){ze(a,a.return,W)}}function lm(n){var a=n.updateQueue;if(a!==null){var o=n.stateNode;try{Qg(a,o)}catch(u){ze(n,n.return,u)}}}function om(n,a,o){o.props=us(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ze(n,a,u)}}function gr(n,a){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(g){ze(n,a,g)}}function jn(n,a){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){ze(n,a,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){ze(n,a,g)}else o.current=null}function cm(n){var a=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){ze(n,n.return,g)}}function fh(n,a,o){try{var u=n.stateNode;QS(u,n.type,o,a),u[kt]=a}catch(g){ze(n,n.return,g)}}function um(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ki(n.type)||n.tag===4}function gh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||um(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ki(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ph(n,a,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(n),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Bn));else if(u!==4&&(u===27&&ki(n.type)&&(o=n.stateNode,a=null),n=n.child,n!==null))for(ph(n,a,o),n=n.sibling;n!==null;)ph(n,a,o),n=n.sibling}function ao(n,a,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?o.insertBefore(n,a):o.appendChild(n);else if(u!==4&&(u===27&&ki(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(ao(n,a,o),n=n.sibling;n!==null;)ao(n,a,o),n=n.sibling}function hm(n){var a=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);St(a,u,o),a[bt]=n,a[kt]=o}catch(p){ze(n,n.return,p)}}var Wn=!1,ct=!1,mh=!1,dm=typeof WeakSet=="function"?WeakSet:Set,yt=null;function RS(n,a){if(n=n.containerInfo,zh=Oo,n=Eg(n),cu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,T=-1,j=-1,H=0,W=0,Q=n,q=null;t:for(;;){for(var G;Q!==o||g!==0&&Q.nodeType!==3||(T=_+g),Q!==p||u!==0&&Q.nodeType!==3||(j=_+u),Q.nodeType===3&&(_+=Q.nodeValue.length),(G=Q.firstChild)!==null;)q=Q,Q=G;for(;;){if(Q===n)break t;if(q===o&&++H===g&&(T=_),q===p&&++W===u&&(j=_),(G=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=G}o=T===-1||j===-1?null:{start:T,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bh={focusedElem:n,selectionRange:o},Oo=!1,yt=a;yt!==null;)if(a=yt,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,yt=n;else for(;yt!==null;){switch(a=yt,p=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)g=n[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=a,g=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var oe=us(o.type,g);n=u.getSnapshotBeforeUpdate(oe,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(me){ze(o,o.return,me)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,o=n.nodeType,o===9)Fh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Fh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=a.sibling,n!==null){n.return=a.return,yt=n;break}yt=a.return}}function fm(n,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Xn(n,o),u&4&&fr(5,o);break;case 1:if(Xn(n,o),u&4)if(n=o.stateNode,a===null)try{n.componentDidMount()}catch(_){ze(o,o.return,_)}else{var g=us(o.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(g,a,n.__reactInternalSnapshotBeforeUpdate)}catch(_){ze(o,o.return,_)}}u&64&&lm(o),u&512&&gr(o,o.return);break;case 3:if(Xn(n,o),u&64&&(n=o.updateQueue,n!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Qg(n,a)}catch(_){ze(o,o.return,_)}}break;case 27:a===null&&u&4&&hm(o);case 26:case 5:Xn(n,o),a===null&&u&4&&cm(o),u&512&&gr(o,o.return);break;case 12:Xn(n,o);break;case 31:Xn(n,o),u&4&&mm(n,o);break;case 13:Xn(n,o),u&4&&ym(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=US.bind(null,o),aw(n,o))));break;case 22:if(u=o.memoizedState!==null||Wn,!u){a=a!==null&&a.memoizedState!==null||ct,g=Wn;var p=ct;Wn=u,(ct=a)&&!p?Qn(n,o,(o.subtreeFlags&8772)!==0):Xn(n,o),Wn=g,ct=p}break;case 30:break;default:Xn(n,o)}}function gm(n){var a=n.alternate;a!==null&&(n.alternate=null,gm(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Gc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ke=null,Nt=!1;function Kn(n,a,o){for(o=o.child;o!==null;)pm(n,a,o),o=o.sibling}function pm(n,a,o){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Ba,o)}catch{}switch(o.tag){case 26:ct||jn(o,a),Kn(n,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ct||jn(o,a);var u=Ke,g=Nt;ki(o.type)&&(Ke=o.stateNode,Nt=!1),Kn(n,a,o),wr(o.stateNode),Ke=u,Nt=g;break;case 5:ct||jn(o,a);case 6:if(u=Ke,g=Nt,Ke=null,Kn(n,a,o),Ke=u,Nt=g,Ke!==null)if(Nt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(o.stateNode)}catch(p){ze(o,a,p)}else try{Ke.removeChild(o.stateNode)}catch(p){ze(o,a,p)}break;case 18:Ke!==null&&(Nt?(n=Ke,ly(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),pa(n)):ly(Ke,o.stateNode));break;case 4:u=Ke,g=Nt,Ke=o.stateNode.containerInfo,Nt=!0,Kn(n,a,o),Ke=u,Nt=g;break;case 0:case 11:case 14:case 15:Ti(2,o,a),ct||Ti(4,o,a),Kn(n,a,o);break;case 1:ct||(jn(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&om(o,a,u)),Kn(n,a,o);break;case 21:Kn(n,a,o);break;case 22:ct=(u=ct)||o.memoizedState!==null,Kn(n,a,o),ct=u;break;default:Kn(n,a,o)}}function mm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{pa(n)}catch(o){ze(a,a.return,o)}}}function ym(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{pa(n)}catch(o){ze(a,a.return,o)}}function MS(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new dm),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new dm),a;default:throw Error(s(435,n.tag))}}function ro(n,a){var o=MS(n);a.forEach(function(u){if(!o.has(u)){o.add(u);var g=HS.bind(null,n,u);u.then(g,g)}})}function Pt(n,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],p=n,_=a,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(ki(T.type)){Ke=T.stateNode,Nt=!1;break e}break;case 5:Ke=T.stateNode,Nt=!1;break e;case 3:case 4:Ke=T.stateNode.containerInfo,Nt=!0;break e}T=T.return}if(Ke===null)throw Error(s(160));pm(p,_,g),Ke=null,Nt=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)bm(a,n),a=a.sibling}var bn=null;function bm(n,a){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Pt(a,n),Lt(n),u&4&&(Ti(3,n,n.return),fr(3,n),Ti(5,n,n.return));break;case 1:Pt(a,n),Lt(n),u&512&&(ct||o===null||jn(o,o.return)),u&64&&Wn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=bn;if(Pt(a,n),Lt(n),u&512&&(ct||o===null||jn(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Fa]||p[bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),St(p,u,o),p[bt]=n,mt(p),u=p;break e;case"link":var _=by("link","href",g).get(u+(o.href||""));if(_){for(var T=0;T<_.length;T++)if(p=_[T],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(T,1);break t}}p=g.createElement(u),St(p,u,o),g.head.appendChild(p);break;case"meta":if(_=by("meta","content",g).get(u+(o.content||""))){for(T=0;T<_.length;T++)if(p=_[T],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(T,1);break t}}p=g.createElement(u),St(p,u,o),g.head.appendChild(p);break;default:throw Error(s(468,u))}p[bt]=n,mt(p),u=p}n.stateNode=u}else vy(g,n.type,n.stateNode);else n.stateNode=yy(g,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?vy(g,n.type,n.stateNode):yy(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&fh(n,n.memoizedProps,o.memoizedProps)}break;case 27:Pt(a,n),Lt(n),u&512&&(ct||o===null||jn(o,o.return)),o!==null&&u&4&&fh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Pt(a,n),Lt(n),u&512&&(ct||o===null||jn(o,o.return)),n.flags&32){g=n.stateNode;try{Bs(g,"")}catch(oe){ze(n,n.return,oe)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,fh(n,g,o!==null?o.memoizedProps:g)),u&1024&&(mh=!0);break;case 6:if(Pt(a,n),Lt(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(oe){ze(n,n.return,oe)}}break;case 3:if(wo=null,g=bn,bn=xo(a.containerInfo),Pt(a,n),bn=g,Lt(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{pa(a.containerInfo)}catch(oe){ze(n,n.return,oe)}mh&&(mh=!1,vm(n));break;case 4:u=bn,bn=xo(n.stateNode.containerInfo),Pt(a,n),Lt(n),bn=u;break;case 12:Pt(a,n),Lt(n);break;case 31:Pt(a,n),Lt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ro(n,u)));break;case 13:Pt(a,n),Lt(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(oo=$t()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ro(n,u)));break;case 22:g=n.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,H=Wn,W=ct;if(Wn=H||g,ct=W||j,Pt(a,n),ct=W,Wn=H,Lt(n),u&8192)e:for(a=n.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(o===null||j||Wn||ct||hs(n)),o=null,a=n;;){if(a.tag===5||a.tag===26){if(o===null){j=o=a;try{if(p=j.stateNode,g)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=j.stateNode;var Q=j.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(oe){ze(j,j.return,oe)}}}else if(a.tag===6){if(o===null){j=a;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(oe){ze(j,j.return,oe)}}}else if(a.tag===18){if(o===null){j=a;try{var G=j.stateNode;g?oy(G,!0):oy(j.stateNode,!1)}catch(oe){ze(j,j.return,oe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ro(n,o))));break;case 19:Pt(a,n),Lt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ro(n,u)));break;case 30:break;case 21:break;default:Pt(a,n),Lt(n)}}function Lt(n){var a=n.flags;if(a&2){try{for(var o,u=n.return;u!==null;){if(um(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var g=o.stateNode,p=gh(n);ao(n,p,g);break;case 5:var _=o.stateNode;o.flags&32&&(Bs(_,""),o.flags&=-33);var T=gh(n);ao(n,T,_);break;case 3:case 4:var j=o.stateNode.containerInfo,H=gh(n);ph(n,H,j);break;default:throw Error(s(161))}}catch(W){ze(n,n.return,W)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function vm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;vm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Xn(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)fm(n,a.alternate,a),a=a.sibling}function hs(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Ti(4,a,a.return),hs(a);break;case 1:jn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&om(a,a.return,o),hs(a);break;case 27:wr(a.stateNode);case 26:case 5:jn(a,a.return),hs(a);break;case 22:a.memoizedState===null&&hs(a);break;case 30:hs(a);break;default:hs(a)}n=n.sibling}}function Qn(n,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=n,p=a,_=p.flags;switch(p.tag){case 0:case 11:case 15:Qn(g,p,o),fr(4,p);break;case 1:if(Qn(g,p,o),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){ze(u,u.return,H)}if(u=p,g=u.updateQueue,g!==null){var T=u.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)Xg(j[g],T)}catch(H){ze(u,u.return,H)}}o&&_&64&&lm(p),gr(p,p.return);break;case 27:hm(p);case 26:case 5:Qn(g,p,o),o&&u===null&&_&4&&cm(p),gr(p,p.return);break;case 12:Qn(g,p,o);break;case 31:Qn(g,p,o),o&&_&4&&mm(g,p);break;case 13:Qn(g,p,o),o&&_&4&&ym(g,p);break;case 22:p.memoizedState===null&&Qn(g,p,o),gr(p,p.return);break;case 30:break;default:Qn(g,p,o)}a=a.sibling}}function yh(n,a){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&er(o))}function bh(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&er(n))}function vn(n,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_m(n,a,o,u),a=a.sibling}function _m(n,a,o,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:vn(n,a,o,u),g&2048&&fr(9,a);break;case 1:vn(n,a,o,u);break;case 3:vn(n,a,o,u),g&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&er(n)));break;case 12:if(g&2048){vn(n,a,o,u),n=a.stateNode;try{var p=a.memoizedProps,_=p.id,T=p.onPostCommit;typeof T=="function"&&T(_,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(j){ze(a,a.return,j)}}else vn(n,a,o,u);break;case 31:vn(n,a,o,u);break;case 13:vn(n,a,o,u);break;case 23:break;case 22:p=a.stateNode,_=a.alternate,a.memoizedState!==null?p._visibility&2?vn(n,a,o,u):pr(n,a):p._visibility&2?vn(n,a,o,u):(p._visibility|=2,sa(n,a,o,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&yh(_,a);break;case 24:vn(n,a,o,u),g&2048&&bh(a.alternate,a);break;default:vn(n,a,o,u)}}function sa(n,a,o,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=n,_=a,T=o,j=u,H=_.flags;switch(_.tag){case 0:case 11:case 15:sa(p,_,T,j,g),fr(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?sa(p,_,T,j,g):pr(p,_):(W._visibility|=2,sa(p,_,T,j,g)),g&&H&2048&&yh(_.alternate,_);break;case 24:sa(p,_,T,j,g),g&&H&2048&&bh(_.alternate,_);break;default:sa(p,_,T,j,g)}a=a.sibling}}function pr(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=n,u=a,g=u.flags;switch(u.tag){case 22:pr(o,u),g&2048&&yh(u.alternate,u);break;case 24:pr(o,u),g&2048&&bh(u.alternate,u);break;default:pr(o,u)}a=a.sibling}}var mr=8192;function aa(n,a,o){if(n.subtreeFlags&mr)for(n=n.child;n!==null;)xm(n,a,o),n=n.sibling}function xm(n,a,o){switch(n.tag){case 26:aa(n,a,o),n.flags&mr&&n.memoizedState!==null&&yw(o,bn,n.memoizedState,n.memoizedProps);break;case 5:aa(n,a,o);break;case 3:case 4:var u=bn;bn=xo(n.stateNode.containerInfo),aa(n,a,o),bn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=mr,mr=16777216,aa(n,a,o),mr=u):aa(n,a,o));break;default:aa(n,a,o)}}function Sm(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function yr(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];yt=u,Em(u,n)}Sm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wm(n),n=n.sibling}function wm(n){switch(n.tag){case 0:case 11:case 15:yr(n),n.flags&2048&&Ti(9,n,n.return);break;case 3:yr(n);break;case 12:yr(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,lo(n)):yr(n);break;default:yr(n)}}function lo(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];yt=u,Em(u,n)}Sm(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Ti(8,a,a.return),lo(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,lo(a));break;default:lo(a)}n=n.sibling}}function Em(n,a){for(;yt!==null;){var o=yt;switch(o.tag){case 0:case 11:case 15:Ti(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:er(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,yt=u;else e:for(o=n;yt!==null;){u=yt;var g=u.sibling,p=u.return;if(gm(u),u===o){yt=null;break e}if(g!==null){g.return=p,yt=g;break e}yt=p}}}var kS={getCacheForType:function(n){var a=_t(rt),o=a.data.get(n);return o===void 0&&(o=n(),a.data.set(n,o)),o},cacheSignal:function(){return _t(rt).controller.signal}},DS=typeof WeakMap=="function"?WeakMap:Map,Ne=0,$e=null,Ce=null,Ae=0,Le=0,Qt=null,Ci=!1,ra=!1,vh=!1,Jn=0,et=0,Oi=0,ds=0,_h=0,Jt=0,la=0,br=null,zt=null,xh=!1,oo=0,Tm=0,co=1/0,uo=null,Ai=null,dt=0,ji=null,oa=null,Zn=0,Sh=0,wh=null,Cm=null,vr=0,Eh=null;function Zt(){return(Ne&2)!==0&&Ae!==0?Ae&-Ae:B.T!==null?Rh():If()}function Om(){if(Jt===0)if((Ae&536870912)===0||Re){var n=bl;bl<<=1,(bl&3932160)===0&&(bl=262144),Jt=n}else Jt=536870912;return n=Kt.current,n!==null&&(n.flags|=32),Jt}function Bt(n,a,o){(n===$e&&(Le===2||Le===9)||n.cancelPendingCommit!==null)&&(ca(n,0),Ri(n,Ae,Jt,!1)),Ha(n,o),((Ne&2)===0||n!==$e)&&(n===$e&&((Ne&2)===0&&(ds|=o),et===4&&Ri(n,Ae,Jt,!1)),Rn(n))}function Am(n,a,o){if((Ne&6)!==0)throw Error(s(327));var u=!o&&(a&127)===0&&(a&n.expiredLanes)===0||Ua(n,a),g=u?LS(n,a):Ch(n,a,!0),p=u;do{if(g===0){ra&&!u&&Ri(n,a,0,!1);break}else{if(o=n.current.alternate,p&&!NS(o)){g=Ch(n,a,!1),p=!1;continue}if(g===2){if(p=a,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var T=n;g=br;var j=T.current.memoizedState.isDehydrated;if(j&&(ca(T,_).flags|=256),_=Ch(T,_,!1),_!==2){if(vh&&!j){T.errorRecoveryDisabledLanes|=p,ds|=p,g=4;break e}p=zt,zt=g,p!==null&&(zt===null?zt=p:zt.push.apply(zt,p))}g=_}if(p=!1,g!==2)continue}}if(g===1){ca(n,0),Ri(n,a,0,!0);break}e:{switch(u=n,p=g,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Ri(u,a,Jt,!Ci);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(g=oo+300-$t(),10<g)){if(Ri(u,a,Jt,!Ci),_l(u,0,!0)!==0)break e;Zn=a,u.timeoutHandle=ay(jm.bind(null,u,o,zt,uo,xh,a,Jt,ds,la,Ci,p,"Throttled",-0,0),g);break e}jm(u,o,zt,uo,xh,a,Jt,ds,la,Ci,p,null,-0,0)}}break}while(!0);Rn(n)}function jm(n,a,o,u,g,p,_,T,j,H,W,Q,q,G){if(n.timeoutHandle=-1,Q=a.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},xm(a,p,Q);var oe=(p&62914560)===p?oo-$t():(p&4194048)===p?Tm-$t():0;if(oe=bw(Q,oe),oe!==null){Zn=p,n.cancelPendingCommit=oe(zm.bind(null,n,a,p,o,u,g,_,T,j,W,Q,null,q,G)),Ri(n,p,_,!H);return}}zm(n,a,p,o,u,g,_,T,j)}function NS(n){for(var a=n;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],p=g.getSnapshot;g=g.value;try{if(!Yt(p(),g))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ri(n,a,o,u){a&=~_h,a&=~ds,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var g=a;0<g;){var p=31-Gt(g),_=1<<p;u[p]=-1,g&=~_}o!==0&&Uf(n,o,a)}function ho(){return(Ne&6)===0?(_r(0),!1):!0}function Th(){if(Ce!==null){if(Le===0)var n=Ce.return;else n=Ce,In=is=null,Fu(n),Zs=null,nr=0,n=Ce;for(;n!==null;)rm(n.alternate,n),n=n.return;Ce=null}}function ca(n,a){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,ew(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Zn=0,Th(),$e=n,Ce=o=Hn(n.current,null),Ae=a,Le=0,Qt=null,Ci=!1,ra=Ua(n,a),vh=!1,la=Jt=_h=ds=Oi=et=0,zt=br=null,xh=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var g=31-Gt(u),p=1<<g;a|=n[g],u&=~p}return Jn=a,kl(),o}function Rm(n,a){xe=null,B.H=ur,a===Js||a===Hl?(a=Gg(),Le=3):a===ju?(a=Gg(),Le=4):Le=a===ih?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qt=a,Ce===null&&(et=1,eo(n,rn(a,n.current)))}function Mm(){var n=Kt.current;return n===null?!0:(Ae&4194048)===Ae?un===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?n===un:!1}function km(){var n=B.H;return B.H=ur,n===null?ur:n}function Dm(){var n=B.A;return B.A=kS,n}function fo(){et=4,Ci||(Ae&4194048)!==Ae&&Kt.current!==null||(ra=!0),(Oi&134217727)===0&&(ds&134217727)===0||$e===null||Ri($e,Ae,Jt,!1)}function Ch(n,a,o){var u=Ne;Ne|=2;var g=km(),p=Dm();($e!==n||Ae!==a)&&(uo=null,ca(n,a)),a=!1;var _=et;e:do try{if(Le!==0&&Ce!==null){var T=Ce,j=Qt;switch(Le){case 8:Th(),_=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(a=!0);var H=Le;if(Le=0,Qt=null,ua(n,T,j,H),o&&ra){_=0;break e}break;default:H=Le,Le=0,Qt=null,ua(n,T,j,H)}}PS(),_=et;break}catch(W){Rm(n,W)}while(!0);return a&&n.shellSuspendCounter++,In=is=null,Ne=u,B.H=g,B.A=p,Ce===null&&($e=null,Ae=0,kl()),_}function PS(){for(;Ce!==null;)Nm(Ce)}function LS(n,a){var o=Ne;Ne|=2;var u=km(),g=Dm();$e!==n||Ae!==a?(uo=null,co=$t()+500,ca(n,a)):ra=Ua(n,a);e:do try{if(Le!==0&&Ce!==null){a=Ce;var p=Qt;t:switch(Le){case 1:Le=0,Qt=null,ua(n,a,p,1);break;case 2:case 9:if($g(p)){Le=0,Qt=null,Pm(a);break}a=function(){Le!==2&&Le!==9||$e!==n||(Le=7),Rn(n)},p.then(a,a);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:$g(p)?(Le=0,Qt=null,Pm(a)):(Le=0,Qt=null,ua(n,a,p,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var T=Ce;if(_?_y(_):T.stateNode.complete){Le=0,Qt=null;var j=T.sibling;if(j!==null)Ce=j;else{var H=T.return;H!==null?(Ce=H,go(H)):Ce=null}break t}}Le=0,Qt=null,ua(n,a,p,5);break;case 6:Le=0,Qt=null,ua(n,a,p,6);break;case 8:Th(),et=6;break e;default:throw Error(s(462))}}zS();break}catch(W){Rm(n,W)}while(!0);return In=is=null,B.H=u,B.A=g,Ne=o,Ce!==null?0:($e=null,Ae=0,kl(),et)}function zS(){for(;Ce!==null&&!Wi();)Nm(Ce)}function Nm(n){var a=sm(n.alternate,n,Jn);n.memoizedProps=n.pendingProps,a===null?go(n):Ce=a}function Pm(n){var a=n,o=a.alternate;switch(a.tag){case 15:case 0:a=Jp(o,a,a.pendingProps,a.type,void 0,Ae);break;case 11:a=Jp(o,a,a.pendingProps,a.type.render,a.ref,Ae);break;case 5:Fu(a);default:rm(o,a),a=Ce=Dg(a,Jn),a=sm(o,a,Jn)}n.memoizedProps=n.pendingProps,a===null?go(n):Ce=a}function ua(n,a,o,u){In=is=null,Fu(a),Zs=null,nr=0;var g=a.return;try{if(TS(n,g,a,o,Ae)){et=1,eo(n,rn(o,n.current)),Ce=null;return}}catch(p){if(g!==null)throw Ce=g,p;et=1,eo(n,rn(o,n.current)),Ce=null;return}a.flags&32768?(Re||u===1?n=!0:ra||(Ae&536870912)!==0?n=!1:(Ci=n=!0,(u===2||u===9||u===3||u===6)&&(u=Kt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lm(a,n)):go(a)}function go(n){var a=n;do{if((a.flags&32768)!==0){Lm(a,Ci);return}n=a.return;var o=AS(a.alternate,a,Jn);if(o!==null){Ce=o;return}if(a=a.sibling,a!==null){Ce=a;return}Ce=a=n}while(a!==null);et===0&&(et=5)}function Lm(n,a){do{var o=jS(n.alternate,n);if(o!==null){o.flags&=32767,Ce=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(n=n.sibling,n!==null)){Ce=n;return}Ce=n=o}while(n!==null);et=6,Ce=null}function zm(n,a,o,u,g,p,_,T,j){n.cancelPendingCommit=null;do po();while(dt!==0);if((Ne&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=gu,mx(n,o,p,_,T,j),n===$e&&(Ce=$e=null,Ae=0),oa=a,ji=n,Zn=o,Sh=p,wh=g,Cm=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,FS(ml,function(){return Im(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,g=Z.p,Z.p=2,_=Ne,Ne|=4;try{RS(n,a,o)}finally{Ne=_,Z.p=g,B.T=u}}dt=1,Bm(),Um(),Hm()}}function Bm(){if(dt===1){dt=0;var n=ji,a=oa,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=Z.p;Z.p=2;var g=Ne;Ne|=4;try{bm(a,n);var p=Bh,_=Eg(n.containerInfo),T=p.focusedElem,j=p.selectionRange;if(_!==T&&T&&T.ownerDocument&&wg(T.ownerDocument.documentElement,T)){if(j!==null&&cu(T)){var H=j.start,W=j.end;if(W===void 0&&(W=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(W,T.value.length);else{var Q=T.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var G=q.getSelection(),oe=T.textContent.length,me=Math.min(j.start,oe),Ie=j.end===void 0?me:Math.min(j.end,oe);!G.extend&&me>Ie&&(_=Ie,Ie=me,me=_);var N=Sg(T,me),M=Sg(T,Ie);if(N&&M&&(G.rangeCount!==1||G.anchorNode!==N.node||G.anchorOffset!==N.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var U=Q.createRange();U.setStart(N.node,N.offset),G.removeAllRanges(),me>Ie?(G.addRange(U),G.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),G.addRange(U))}}}}for(Q=[],G=T;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var X=Q[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Oo=!!zh,Bh=zh=null}finally{Ne=g,Z.p=u,B.T=o}}n.current=a,dt=2}}function Um(){if(dt===2){dt=0;var n=ji,a=oa,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=Z.p;Z.p=2;var g=Ne;Ne|=4;try{fm(n,a.alternate,a)}finally{Ne=g,Z.p=u,B.T=o}}dt=3}}function Hm(){if(dt===4||dt===3){dt=0,za();var n=ji,a=oa,o=Zn,u=Cm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?dt=5:(dt=0,oa=ji=null,Fm(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ai=null),$c(o),a=a.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Ba,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=B.T,g=Z.p,Z.p=2,B.T=null;try{for(var p=n.onRecoverableError,_=0;_<u.length;_++){var T=u[_];p(T.value,{componentStack:T.stack})}}finally{B.T=a,Z.p=g}}(Zn&3)!==0&&po(),Rn(n),g=n.pendingLanes,(o&261930)!==0&&(g&42)!==0?n===Eh?vr++:(vr=0,Eh=n):vr=0,_r(0)}}function Fm(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,er(a)))}function po(){return Bm(),Um(),Hm(),Im()}function Im(){if(dt!==5)return!1;var n=ji,a=Sh;Sh=0;var o=$c(Zn),u=B.T,g=Z.p;try{Z.p=32>o?32:o,B.T=null,o=wh,wh=null;var p=ji,_=Zn;if(dt=0,oa=ji=null,Zn=0,(Ne&6)!==0)throw Error(s(331));var T=Ne;if(Ne|=4,wm(p.current),_m(p,p.current,_,o),Ne=T,_r(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Ba,p)}catch{}return!0}finally{Z.p=g,B.T=u,Fm(n,a)}}function qm(n,a,o){a=rn(o,a),a=nh(n.stateNode,a,2),n=Si(n,a,2),n!==null&&(Ha(n,2),Rn(n))}function ze(n,a,o){if(n.tag===3)qm(n,n,o);else for(;a!==null;){if(a.tag===3){qm(a,n,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ai===null||!Ai.has(u))){n=rn(o,n),o=$p(2),u=Si(a,o,2),u!==null&&(Vp(o,u,a,n),Ha(u,2),Rn(u));break}}a=a.return}}function Oh(n,a,o){var u=n.pingCache;if(u===null){u=n.pingCache=new DS;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(o)||(vh=!0,g.add(o),n=BS.bind(null,n,a,o),a.then(n,n))}function BS(n,a,o){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,$e===n&&(Ae&o)===o&&(et===4||et===3&&(Ae&62914560)===Ae&&300>$t()-oo?(Ne&2)===0&&ca(n,0):_h|=o,la===Ae&&(la=0)),Rn(n)}function $m(n,a){a===0&&(a=Bf()),n=es(n,a),n!==null&&(Ha(n,a),Rn(n))}function US(n){var a=n.memoizedState,o=0;a!==null&&(o=a.retryLane),$m(n,o)}function HS(n,a){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),$m(n,o)}function FS(n,a){return Ee(n,a)}var mo=null,ha=null,Ah=!1,yo=!1,jh=!1,Mi=0;function Rn(n){n!==ha&&n.next===null&&(ha===null?mo=ha=n:ha=ha.next=n),yo=!0,Ah||(Ah=!0,qS())}function _r(n,a){if(!jh&&yo){jh=!0;do for(var o=!1,u=mo;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var _=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-Gt(42|n)+1)-1,p&=g&~(_&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Wm(u,p))}else p=Ae,p=_l(u,u===$e?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Ua(u,p)||(o=!0,Wm(u,p));u=u.next}while(o);jh=!1}}function IS(){Vm()}function Vm(){yo=Ah=!1;var n=0;Mi!==0&&ZS()&&(n=Mi);for(var a=$t(),o=null,u=mo;u!==null;){var g=u.next,p=Gm(u,a);p===0?(u.next=null,o===null?mo=g:o.next=g,g===null&&(ha=o)):(o=u,(n!==0||(p&3)!==0)&&(yo=!0)),u=g}dt!==0&&dt!==5||_r(n),Mi!==0&&(Mi=0)}function Gm(n,a){for(var o=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-Gt(p),T=1<<_,j=g[_];j===-1?((T&o)===0||(T&u)!==0)&&(g[_]=px(T,a)):j<=a&&(n.expiredLanes|=T),p&=~T}if(a=$e,o=Ae,o=_l(n,n===a?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===a&&(Le===2||Le===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&tn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ua(n,o)){if(a=o&-o,a===n.callbackPriority)return a;switch(u!==null&&tn(u),$c(o)){case 2:case 8:o=Lf;break;case 32:o=ml;break;case 268435456:o=zf;break;default:o=ml}return u=Ym.bind(null,n),o=Ee(o,u),n.callbackPriority=a,n.callbackNode=o,a}return u!==null&&u!==null&&tn(u),n.callbackPriority=2,n.callbackNode=null,2}function Ym(n,a){if(dt!==0&&dt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(po()&&n.callbackNode!==o)return null;var u=Ae;return u=_l(n,n===$e?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Am(n,u,a),Gm(n,$t()),n.callbackNode!=null&&n.callbackNode===o?Ym.bind(null,n):null)}function Wm(n,a){if(po())return null;Am(n,a,!0)}function qS(){tw(function(){(Ne&6)!==0?Ee(Pf,IS):Vm()})}function Rh(){if(Mi===0){var n=Xs;n===0&&(n=yl,yl<<=1,(yl&261888)===0&&(yl=256)),Mi=n}return Mi}function Km(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:El(""+n)}function Xm(n,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,n.id&&o.setAttribute("form",n.id),a.parentNode.insertBefore(o,a),n=new FormData(n),o.parentNode.removeChild(o),n}function $S(n,a,o,u,g){if(a==="submit"&&o&&o.stateNode===g){var p=Km((g[kt]||null).action),_=u.submitter;_&&(a=(a=_[kt]||null)?Km(a.formAction):_.getAttribute("formAction"),a!==null&&(p=a,_=null));var T=new Al("action","action",null,u,g);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Mi!==0){var j=_?Xm(g,_):new FormData(g);Xu(o,{pending:!0,data:j,method:g.method,action:p},null,j)}}else typeof p=="function"&&(T.preventDefault(),j=_?Xm(g,_):new FormData(g),Xu(o,{pending:!0,data:j,method:g.method,action:p},p,j))},currentTarget:g}]})}}for(var Mh=0;Mh<fu.length;Mh++){var kh=fu[Mh],VS=kh.toLowerCase(),GS=kh[0].toUpperCase()+kh.slice(1);yn(VS,"on"+GS)}yn(Og,"onAnimationEnd"),yn(Ag,"onAnimationIteration"),yn(jg,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(oS,"onTransitionRun"),yn(cS,"onTransitionStart"),yn(uS,"onTransitionCancel"),yn(Rg,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xr));function Qm(n,a){a=(a&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],g=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var _=u.length-1;0<=_;_--){var T=u[_],j=T.instance,H=T.currentTarget;if(T=T.listener,j!==p&&g.isPropagationStopped())break e;p=T,g.currentTarget=H;try{p(g)}catch(W){Ml(W)}g.currentTarget=null,p=j}else for(_=0;_<u.length;_++){if(T=u[_],j=T.instance,H=T.currentTarget,T=T.listener,j!==p&&g.isPropagationStopped())break e;p=T,g.currentTarget=H;try{p(g)}catch(W){Ml(W)}g.currentTarget=null,p=j}}}}function Oe(n,a){var o=a[Vc];o===void 0&&(o=a[Vc]=new Set);var u=n+"__bubble";o.has(u)||(Jm(a,n,2,!1),o.add(u))}function Dh(n,a,o){var u=0;a&&(u|=4),Jm(o,n,u,a)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Nh(n){if(!n[bo]){n[bo]=!0,Vf.forEach(function(o){o!=="selectionchange"&&(YS.has(o)||Dh(o,!1,n),Dh(o,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[bo]||(a[bo]=!0,Dh("selectionchange",!1,a))}}function Jm(n,a,o,u){switch(Oy(a)){case 2:var g=xw;break;case 8:g=Sw;break;default:g=Kh}o=g.bind(null,a,o,n),g=void 0,!eu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(a,o,{capture:!0,passive:g}):n.addEventListener(a,o,!0):g!==void 0?n.addEventListener(a,o,{passive:g}):n.addEventListener(a,o,!1)}function Ph(n,a,o,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===g)break;if(_===4)for(_=u.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;T!==null;){if(_=Ds(T),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){u=p=_;continue e}T=T.parentNode}}u=u.return}ig(function(){var H=p,W=Jc(o),Q=[];e:{var q=Mg.get(n);if(q!==void 0){var G=Al,oe=n;switch(n){case"keypress":if(Cl(o)===0)break e;case"keydown":case"keyup":G=Hx;break;case"focusin":oe="focus",G=su;break;case"focusout":oe="blur",G=su;break;case"beforeblur":case"afterblur":G=su;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=qx;break;case Og:case Ag:case jg:G=Mx;break;case Rg:G=Vx;break;case"scroll":case"scrollend":G=Cx;break;case"wheel":G=Yx;break;case"copy":case"cut":case"paste":G=Dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=og;break;case"toggle":case"beforetoggle":G=Kx}var me=(a&4)!==0,Ie=!me&&(n==="scroll"||n==="scrollend"),N=me?q!==null?q+"Capture":null:q;me=[];for(var M=H,U;M!==null;){var X=M;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||N===null||(X=qa(M,N),X!=null&&me.push(Sr(M,X,U))),Ie)break;M=M.return}0<me.length&&(q=new G(q,oe,null,o,W),Q.push({event:q,listeners:me}))}}if((a&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",q&&o!==Qc&&(oe=o.relatedTarget||o.fromElement)&&(Ds(oe)||oe[ks]))break e;if((G||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,G?(oe=o.relatedTarget||o.toElement,G=H,oe=oe?Ds(oe):null,oe!==null&&(Ie=l(oe),me=oe.tag,oe!==Ie||me!==5&&me!==27&&me!==6)&&(oe=null)):(G=null,oe=H),G!==oe)){if(me=rg,X="onMouseLeave",N="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(me=og,X="onPointerLeave",N="onPointerEnter",M="pointer"),Ie=G==null?q:Ia(G),U=oe==null?q:Ia(oe),q=new me(X,M+"leave",G,o,W),q.target=Ie,q.relatedTarget=U,X=null,Ds(W)===H&&(me=new me(N,M+"enter",oe,o,W),me.target=U,me.relatedTarget=Ie,X=me),Ie=X,G&&oe)t:{for(me=WS,N=G,M=oe,U=0,X=N;X;X=me(X))U++;X=0;for(var ge=M;ge;ge=me(ge))X++;for(;0<U-X;)N=me(N),U--;for(;0<X-U;)M=me(M),X--;for(;U--;){if(N===M||M!==null&&N===M.alternate){me=N;break t}N=me(N),M=me(M)}me=null}else me=null;G!==null&&Zm(Q,q,G,me,!1),oe!==null&&Ie!==null&&Zm(Q,Ie,oe,me,!0)}}e:{if(q=H?Ia(H):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var ke=mg;else if(gg(q))if(yg)ke=aS;else{ke=iS;var ue=nS}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Xc(H.elementType)&&(ke=mg):ke=sS;if(ke&&(ke=ke(n,H))){pg(Q,ke,o,W);break e}ue&&ue(n,q,H),n==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Kc(q,"number",q.value)}switch(ue=H?Ia(H):window,n){case"focusin":(gg(ue)||ue.contentEditable==="true")&&(Is=ue,uu=H,Qa=null);break;case"focusout":Qa=uu=Is=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,Tg(Q,o,W);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":Tg(Q,o,W)}var Se;if(ru)e:{switch(n){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Fs?dg(n,o)&&(je="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(cg&&o.locale!=="ko"&&(Fs||je!=="onCompositionStart"?je==="onCompositionEnd"&&Fs&&(Se=sg()):(pi=W,tu="value"in pi?pi.value:pi.textContent,Fs=!0)),ue=vo(H,je),0<ue.length&&(je=new lg(je,n,null,o,W),Q.push({event:je,listeners:ue}),Se?je.data=Se:(Se=fg(o),Se!==null&&(je.data=Se)))),(Se=Qx?Jx(n,o):Zx(n,o))&&(je=vo(H,"onBeforeInput"),0<je.length&&(ue=new lg("onBeforeInput","beforeinput",null,o,W),Q.push({event:ue,listeners:je}),ue.data=Se)),$S(Q,n,H,o,W)}Qm(Q,a)})}function Sr(n,a,o){return{instance:n,listener:a,currentTarget:o}}function vo(n,a){for(var o=a+"Capture",u=[];n!==null;){var g=n,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=qa(n,o),g!=null&&u.unshift(Sr(n,g,p)),g=qa(n,a),g!=null&&u.push(Sr(n,g,p))),n.tag===3)return u;n=n.return}return[]}function WS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Zm(n,a,o,u,g){for(var p=a._reactName,_=[];o!==null&&o!==u;){var T=o,j=T.alternate,H=T.stateNode;if(T=T.tag,j!==null&&j===u)break;T!==5&&T!==26&&T!==27||H===null||(j=H,g?(H=qa(o,p),H!=null&&_.unshift(Sr(o,H,j))):g||(H=qa(o,p),H!=null&&_.push(Sr(o,H,j)))),o=o.return}_.length!==0&&n.push({event:a,listeners:_})}var KS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function ey(n){return(typeof n=="string"?n:""+n).replace(KS,`
`).replace(XS,"")}function ty(n,a){return a=ey(a),ey(n)===a}function Fe(n,a,o,u,g,p){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Bs(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Bs(n,""+u);break;case"className":Sl(n,"class",u);break;case"tabIndex":Sl(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(n,o,u);break;case"style":tg(n,u,p);break;case"data":if(a!=="object"){Sl(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=El(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&Fe(n,a,"name",g.name,g,null),Fe(n,a,"formEncType",g.formEncType,g,null),Fe(n,a,"formMethod",g.formMethod,g,null),Fe(n,a,"formTarget",g.formTarget,g,null)):(Fe(n,a,"encType",g.encType,g,null),Fe(n,a,"method",g.method,g,null),Fe(n,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=El(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Bn);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=El(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),xl(n,"popover",u);break;case"xlinkActuate":zn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xl(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ex.get(o)||o,xl(n,o,u))}}function Lh(n,a,o,u,g,p){switch(o){case"style":tg(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Bs(n,u):(typeof u=="number"||typeof u=="bigint")&&Bs(n,""+u);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gf.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),a=o.slice(2,g?o.length-7:void 0),p=n[kt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(a,u,g);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):xl(n,o,u)}}}function St(n,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var u=!1,g=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Fe(n,a,p,_,o,null)}}g&&Fe(n,a,"srcSet",o.srcSet,o,null),u&&Fe(n,a,"src",o.src,o,null);return;case"input":Oe("invalid",n);var T=p=_=g=null,j=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":g=W;break;case"type":_=W;break;case"checked":j=W;break;case"defaultChecked":H=W;break;case"value":p=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,a));break;default:Fe(n,a,u,W,o,null)}}Qf(n,p,T,j,H,_,g,!1);return;case"select":Oe("invalid",n),u=_=p=null;for(g in o)if(o.hasOwnProperty(g)&&(T=o[g],T!=null))switch(g){case"value":p=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:Fe(n,a,g,T,o,null)}a=p,o=_,n.multiple=!!u,a!=null?zs(n,!!u,a,!1):o!=null&&zs(n,!!u,o,!0);return;case"textarea":Oe("invalid",n),p=g=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(T=o[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":g=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Fe(n,a,_,T,o,null)}Zf(n,u,g,p);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Fe(n,a,j,u,o,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(u=0;u<xr.length;u++)Oe(xr[u],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Fe(n,a,H,u,o,null)}return;default:if(Xc(a)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Lh(n,a,W,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&Fe(n,a,T,u,o,null))}function QS(n,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,_=null,T=null,j=null,H=null,W=null;for(G in o){var Q=o[G];if(o.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":j=Q;default:u.hasOwnProperty(G)||Fe(n,a,G,null,u,Q)}}for(var q in u){var G=u[q];if(Q=o[q],u.hasOwnProperty(q)&&(G!=null||Q!=null))switch(q){case"type":p=G;break;case"name":g=G;break;case"checked":H=G;break;case"defaultChecked":W=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,a));break;default:G!==Q&&Fe(n,a,q,G,u,Q)}}Wc(n,_,T,j,H,W,p,g);return;case"select":G=_=T=q=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":G=j;default:u.hasOwnProperty(p)||Fe(n,a,p,null,u,j)}for(g in u)if(p=u[g],j=o[g],u.hasOwnProperty(g)&&(p!=null||j!=null))switch(g){case"value":q=p;break;case"defaultValue":T=p;break;case"multiple":_=p;default:p!==j&&Fe(n,a,g,p,u,j)}a=T,o=_,u=G,q!=null?zs(n,!!o,q,!1):!!u!=!!o&&(a!=null?zs(n,!!o,a,!0):zs(n,!!o,o?[]:"",!1));return;case"textarea":G=q=null;for(T in o)if(g=o[T],o.hasOwnProperty(T)&&g!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Fe(n,a,T,null,u,g)}for(_ in u)if(g=u[_],p=o[_],u.hasOwnProperty(_)&&(g!=null||p!=null))switch(_){case"value":q=g;break;case"defaultValue":G=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==p&&Fe(n,a,_,g,u,p)}Jf(n,q,G);return;case"option":for(var oe in o)if(q=o[oe],o.hasOwnProperty(oe)&&q!=null&&!u.hasOwnProperty(oe))switch(oe){case"selected":n.selected=!1;break;default:Fe(n,a,oe,null,u,q)}for(j in u)if(q=u[j],G=o[j],u.hasOwnProperty(j)&&q!==G&&(q!=null||G!=null))switch(j){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Fe(n,a,j,q,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in o)q=o[me],o.hasOwnProperty(me)&&q!=null&&!u.hasOwnProperty(me)&&Fe(n,a,me,null,u,q);for(H in u)if(q=u[H],G=o[H],u.hasOwnProperty(H)&&q!==G&&(q!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,a));break;default:Fe(n,a,H,q,u,G)}return;default:if(Xc(a)){for(var Ie in o)q=o[Ie],o.hasOwnProperty(Ie)&&q!==void 0&&!u.hasOwnProperty(Ie)&&Lh(n,a,Ie,void 0,u,q);for(W in u)q=u[W],G=o[W],!u.hasOwnProperty(W)||q===G||q===void 0&&G===void 0||Lh(n,a,W,q,u,G);return}}for(var N in o)q=o[N],o.hasOwnProperty(N)&&q!=null&&!u.hasOwnProperty(N)&&Fe(n,a,N,null,u,q);for(Q in u)q=u[Q],G=o[Q],!u.hasOwnProperty(Q)||q===G||q==null&&G==null||Fe(n,a,Q,q,u,G)}function ny(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var g=o[u],p=g.transferSize,_=g.initiatorType,T=g.duration;if(p&&T&&ny(_)){for(_=0,T=g.responseEnd,u+=1;u<o.length;u++){var j=o[u],H=j.startTime;if(H>T)break;var W=j.transferSize,Q=j.initiatorType;W&&ny(Q)&&(j=j.responseEnd,_+=W*(j<T?1:(T-H)/(j-H)))}if(--u,a+=8*(p+_)/(g.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var zh=null,Bh=null;function _o(n){return n.nodeType===9?n:n.ownerDocument}function iy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sy(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Uh(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hh=null;function ZS(){var n=window.event;return n&&n.type==="popstate"?n===Hh?!1:(Hh=n,!0):(Hh=null,!1)}var ay=typeof setTimeout=="function"?setTimeout:void 0,ew=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,tw=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(n){return ry.resolve(null).then(n).catch(nw)}:ay;function nw(n){setTimeout(function(){throw n})}function ki(n){return n==="head"}function ly(n,a){var o=a,u=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(g),pa(a);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")wr(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,wr(o);for(var p=o.firstChild;p;){var _=p.nextSibling,T=p.nodeName;p[Fa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=_}}else o==="body"&&wr(n.ownerDocument.body);o=g}while(o);pa(a)}function oy(n,a){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Fh(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fh(o),Gc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function iw(n,a,o,u){for(;n.nodeType===1;){var g=o;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Fa])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=hn(n.nextSibling),n===null)break}return null}function sw(n,a,o){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=hn(n.nextSibling),n===null))return null;return n}function cy(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=hn(n.nextSibling),n===null))return null;return n}function Ih(n){return n.data==="$?"||n.data==="$~"}function qh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function aw(n,a){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||o.readyState!=="loading")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function hn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var $h=null;function uy(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(a===0)return hn(n.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}n=n.nextSibling}return null}function hy(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return n;a--}else o!=="/$"&&o!=="/&"||a++}n=n.previousSibling}return null}function dy(n,a,o){switch(a=_o(o),n){case"html":if(n=a.documentElement,!n)throw Error(s(452));return n;case"head":if(n=a.head,!n)throw Error(s(453));return n;case"body":if(n=a.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function wr(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Gc(n)}var dn=new Map,fy=new Set;function xo(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ei=Z.d;Z.d={f:rw,r:lw,D:ow,C:cw,L:uw,m:hw,X:fw,S:dw,M:gw};function rw(){var n=ei.f(),a=ho();return n||a}function lw(n){var a=Ns(n);a!==null&&a.tag===5&&a.type==="form"?Rp(a):ei.r(n)}var da=typeof document>"u"?null:document;function gy(n,a,o){var u=da;if(u&&typeof a=="string"&&a){var g=sn(a);g='link[rel="'+n+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),fy.has(g)||(fy.add(g),n={rel:n,crossOrigin:o,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),St(a,"link",n),mt(a),u.head.appendChild(a)))}}function ow(n){ei.D(n),gy("dns-prefetch",n,null)}function cw(n,a){ei.C(n,a),gy("preconnect",n,a)}function uw(n,a,o){ei.L(n,a,o);var u=da;if(u&&n&&a){var g='link[rel="preload"][as="'+sn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+sn(o.imageSizes)+'"]')):g+='[href="'+sn(n)+'"]';var p=g;switch(a){case"style":p=fa(n);break;case"script":p=ga(n)}dn.has(p)||(n=b({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:n,as:a},o),dn.set(p,n),u.querySelector(g)!==null||a==="style"&&u.querySelector(Er(p))||a==="script"&&u.querySelector(Tr(p))||(a=u.createElement("link"),St(a,"link",n),mt(a),u.head.appendChild(a)))}}function hw(n,a){ei.m(n,a);var o=da;if(o&&n){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+sn(u)+'"][href="'+sn(n)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ga(n)}if(!dn.has(p)&&(n=b({rel:"modulepreload",href:n},a),dn.set(p,n),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Tr(p)))return}u=o.createElement("link"),St(u,"link",n),mt(u),o.head.appendChild(u)}}}function dw(n,a,o){ei.S(n,a,o);var u=da;if(u&&n){var g=Ps(u).hoistableStyles,p=fa(n);a=a||"default";var _=g.get(p);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(Er(p)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":a},o),(o=dn.get(p))&&Vh(n,o);var j=_=u.createElement("link");mt(j),St(j,"link",n),j._p=new Promise(function(H,W){j.onload=H,j.onerror=W}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,So(_,a,u)}_={type:"stylesheet",instance:_,count:1,state:T},g.set(p,_)}}}function fw(n,a){ei.X(n,a);var o=da;if(o&&n){var u=Ps(o).hoistableScripts,g=ga(n),p=u.get(g);p||(p=o.querySelector(Tr(g)),p||(n=b({src:n,async:!0},a),(a=dn.get(g))&&Gh(n,a),p=o.createElement("script"),mt(p),St(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function gw(n,a){ei.M(n,a);var o=da;if(o&&n){var u=Ps(o).hoistableScripts,g=ga(n),p=u.get(g);p||(p=o.querySelector(Tr(g)),p||(n=b({src:n,async:!0,type:"module"},a),(a=dn.get(g))&&Gh(n,a),p=o.createElement("script"),mt(p),St(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function py(n,a,o,u){var g=(g=pe.current)?xo(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=fa(o.href),o=Ps(g).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=fa(o.href);var p=Ps(g).hoistableStyles,_=p.get(n);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=g.querySelector(Er(n)))&&!p._p&&(_.instance=p,_.state.loading=5),dn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},dn.set(n,o),p||pw(g,n,o,_.state))),a&&u===null)throw Error(s(528,""));return _}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ga(o),o=Ps(g).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function fa(n){return'href="'+sn(n)+'"'}function Er(n){return'link[rel="stylesheet"]['+n+"]"}function my(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function pw(n,a,o,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),St(a,"link",o),mt(a),n.head.appendChild(a))}function ga(n){return'[src="'+sn(n)+'"]'}function Tr(n){return"script[async]"+n}function yy(n,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+sn(o.href)+'"]');if(u)return a.instance=u,mt(u),u;var g=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),mt(u),St(u,"style",g),So(u,o.precedence,n),a.instance=u;case"stylesheet":g=fa(o.href);var p=n.querySelector(Er(g));if(p)return a.state.loading|=4,a.instance=p,mt(p),p;u=my(o),(g=dn.get(g))&&Vh(u,g),p=(n.ownerDocument||n).createElement("link"),mt(p);var _=p;return _._p=new Promise(function(T,j){_.onload=T,_.onerror=j}),St(p,"link",u),a.state.loading|=4,So(p,o.precedence,n),a.instance=p;case"script":return p=ga(o.src),(g=n.querySelector(Tr(p)))?(a.instance=g,mt(g),g):(u=o,(g=dn.get(p))&&(u=b({},o),Gh(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),mt(g),St(g,"link",u),n.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,So(u,o.precedence,n));return a.instance}function So(n,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===a)p=T;else if(p!==g)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(n,a.firstChild))}function Vh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Gh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var wo=null;function by(n,a,o){if(wo===null){var u=new Map,g=wo=new Map;g.set(o,u)}else g=wo,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),g=0;g<o.length;g++){var p=o[g];if(!(p[Fa]||p[bt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(a)||"";_=n+_;var T=u.get(_);T?T.push(p):u.set(_,[p])}}return u}function vy(n,a,o){n=n.ownerDocument||n,n.head.insertBefore(o,a==="title"?n.querySelector("head > title"):null)}function mw(n,a,o){if(o===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _y(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function yw(n,a,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=fa(u.href),p=a.querySelector(Er(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=Eo.bind(n),a.then(n,n)),o.state.loading|=4,o.instance=p,mt(p);return}p=a.ownerDocument||a,u=my(u),(g=dn.get(g))&&Vh(u,g),p=p.createElement("link"),mt(p);var _=p;_._p=new Promise(function(T,j){_.onload=T,_.onerror=j}),St(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Eo.bind(n),a.addEventListener("load",o),a.addEventListener("error",o))}}var Yh=0;function bw(n,a){return n.stylesheets&&n.count===0&&Co(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Co(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+a);0<n.imgBytes&&Yh===0&&(Yh=62500*JS());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Co(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Yh?50:800)+a);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Eo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Co(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var To=null;function Co(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,To=new Map,a.forEach(vw,n),To=null,Eo.call(n))}function vw(n,a){if(!(a.state.loading&4)){var o=To.get(n);if(o)var u=o.get(null);else{o=new Map,To.set(n,o);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var _=g[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}g=a.instance,_=g.getAttribute("data-precedence"),p=o.get(_)||u,p===u&&o.set(null,g),o.set(_,g),this.count++,u=Eo.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),a.state.loading|=4}}var Cr={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function _w(n,a,o,u,g,p,_,T,j){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.hiddenUpdates=Ic(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function xy(n,a,o,u,g,p,_,T,j,H,W,Q){return n=new _w(n,a,o,_,j,H,W,Q,T),a=1,p===!0&&(a|=24),p=Wt(3,null,null,a),n.current=p,p.stateNode=n,a=Cu(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:a},Ru(p),n}function Sy(n){return n?(n=Vs,n):Vs}function wy(n,a,o,u,g,p){g=Sy(g),u.context===null?u.context=g:u.pendingContext=g,u=xi(a),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Si(n,u,a),o!==null&&(Bt(o,n,a),sr(o,n,a))}function Ey(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<a?o:a}}function Wh(n,a){Ey(n,a),(n=n.alternate)&&Ey(n,a)}function Ty(n){if(n.tag===13||n.tag===31){var a=es(n,67108864);a!==null&&Bt(a,n,67108864),Wh(n,67108864)}}function Cy(n){if(n.tag===13||n.tag===31){var a=Zt();a=qc(a);var o=es(n,a);o!==null&&Bt(o,n,a),Wh(n,a)}}var Oo=!0;function xw(n,a,o,u){var g=B.T;B.T=null;var p=Z.p;try{Z.p=2,Kh(n,a,o,u)}finally{Z.p=p,B.T=g}}function Sw(n,a,o,u){var g=B.T;B.T=null;var p=Z.p;try{Z.p=8,Kh(n,a,o,u)}finally{Z.p=p,B.T=g}}function Kh(n,a,o,u){if(Oo){var g=Xh(u);if(g===null)Ph(n,a,u,Ao,o),Ay(n,u);else if(Ew(g,n,a,o,u))u.stopPropagation();else if(Ay(n,u),a&4&&-1<ww.indexOf(n)){for(;g!==null;){var p=Ns(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=Ki(p.pendingLanes);if(_!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var j=1<<31-Gt(_);T.entanglements[1]|=j,_&=~j}Rn(p),(Ne&6)===0&&(co=$t()+500,_r(0))}}break;case 31:case 13:T=es(p,2),T!==null&&Bt(T,p,2),ho(),Wh(p,2)}if(p=Xh(u),p===null&&Ph(n,a,u,Ao,o),p===g)break;g=p}g!==null&&u.stopPropagation()}else Ph(n,a,u,null,o)}}function Xh(n){return n=Jc(n),Qh(n)}var Ao=null;function Qh(n){if(Ao=null,n=Ds(n),n!==null){var a=l(n);if(a===null)n=null;else{var o=a.tag;if(o===13){if(n=c(a),n!==null)return n;n=null}else if(o===31){if(n=h(a),n!==null)return n;n=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Ao=n,null}function Oy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ox()){case Pf:return 2;case Lf:return 8;case ml:case cx:return 32;case zf:return 268435456;default:return 32}default:return 32}}var Jh=!1,Di=null,Ni=null,Pi=null,Or=new Map,Ar=new Map,Li=[],ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(n,a){switch(n){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Or.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(a.pointerId)}}function jr(n,a,o,u,g,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Ns(a),a!==null&&Ty(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),n)}function Ew(n,a,o,u,g){switch(a){case"focusin":return Di=jr(Di,n,a,o,u,g),!0;case"dragenter":return Ni=jr(Ni,n,a,o,u,g),!0;case"mouseover":return Pi=jr(Pi,n,a,o,u,g),!0;case"pointerover":var p=g.pointerId;return Or.set(p,jr(Or.get(p)||null,n,a,o,u,g)),!0;case"gotpointercapture":return p=g.pointerId,Ar.set(p,jr(Ar.get(p)||null,n,a,o,u,g)),!0}return!1}function jy(n){var a=Ds(n.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){n.blockedOn=a,qf(n.priority,function(){Cy(o)});return}}else if(a===31){if(a=h(o),a!==null){n.blockedOn=a,qf(n.priority,function(){Cy(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jo(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var o=Xh(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Qc=u,o.target.dispatchEvent(u),Qc=null}else return a=Ns(o),a!==null&&Ty(a),n.blockedOn=o,!1;a.shift()}return!0}function Ry(n,a,o){jo(n)&&o.delete(a)}function Tw(){Jh=!1,Di!==null&&jo(Di)&&(Di=null),Ni!==null&&jo(Ni)&&(Ni=null),Pi!==null&&jo(Pi)&&(Pi=null),Or.forEach(Ry),Ar.forEach(Ry)}function Ro(n,a){n.blockedOn===a&&(n.blockedOn=null,Jh||(Jh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Tw)))}var Mo=null;function My(n){Mo!==n&&(Mo=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Mo===n&&(Mo=null);for(var a=0;a<n.length;a+=3){var o=n[a],u=n[a+1],g=n[a+2];if(typeof u!="function"){if(Qh(u||o)===null)continue;break}var p=Ns(o);p!==null&&(n.splice(a,3),a-=3,Xu(p,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function pa(n){function a(j){return Ro(j,n)}Di!==null&&Ro(Di,n),Ni!==null&&Ro(Ni,n),Pi!==null&&Ro(Pi,n),Or.forEach(a),Ar.forEach(a);for(var o=0;o<Li.length;o++){var u=Li[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Li.length&&(o=Li[0],o.blockedOn===null);)jy(o),o.blockedOn===null&&Li.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],p=o[u+1],_=g[kt]||null;if(typeof p=="function")_||My(o);else if(_){var T=null;if(p&&p.hasAttribute("formAction")){if(g=p,_=p[kt]||null)T=_.formAction;else if(Qh(g)!==null)continue}else T=_.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),My(o)}}}function ky(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return g=_})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Zh(n){this._internalRoot=n}ko.prototype.render=Zh.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,u=Zt();wy(o,u,n,a,null,null)},ko.prototype.unmount=Zh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;wy(n.current,2,null,n,null,null),ho(),a[ks]=null}};function ko(n){this._internalRoot=n}ko.prototype.unstable_scheduleHydration=function(n){if(n){var a=If();n={blockedOn:null,target:n,priority:a};for(var o=0;o<Li.length&&a!==0&&a<Li[o].priority;o++);Li.splice(o,0,n),o===0&&jy(n)}};var Dy=e.version;if(Dy!=="19.2.0")throw Error(s(527,Dy,"19.2.0"));Z.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(a),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var Cw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{Ba=Do.inject(Cw),Vt=Do}catch{}}return Mr.createRoot=function(n,a){if(!r(n))throw Error(s(299));var o=!1,u="",g=Hp,p=Fp,_=Ip;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=xy(n,1,!1,null,null,o,u,null,g,p,_,ky),n[ks]=a.current,Nh(n),new Zh(a)},Mr.hydrateRoot=function(n,a,o){if(!r(n))throw Error(s(299));var u=!1,g="",p=Hp,_=Fp,T=Ip,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),a=xy(n,1,!0,a,o??null,u,g,j,p,_,T,ky),a.context=Sy(null),o=a.current,u=Zt(),u=qc(u),g=xi(u),g.callback=null,Si(o,g,u),o=u,a.current.lanes=o,Ha(a,o),Rn(a),n[ks]=a.current,Nh(n),new ko(a)},Mr.version="19.2.0",Mr}var qy;function Bw(){if(qy)return nd.exports;qy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nd.exports=zw(),nd.exports}var Uw=Bw();const Hw=ef(Uw);var $y="popstate";function Fw(i={}){function e(s,r){let{pathname:l,search:c,hash:h}=s.location;return Ad("",{pathname:l,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){return typeof r=="string"?r:Jr(r)}return qw(e,t,null,i)}function Qe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function En(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iw(){return Math.random().toString(36).substring(2,10)}function Vy(i,e){return{usr:i.state,key:i.key,idx:e}}function Ad(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ka(e):e,state:t,key:e&&e.key||s||Iw()}}function Jr({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ka(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function qw(i,e,t,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,c=r.history,h="POP",d=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function b(){h="POP";let E=m(),C=E==null?null:E-f;f=E,d&&d({action:h,location:w.location,delta:C})}function v(E,C){h="PUSH";let O=Ad(w.location,E,C);f=m()+1;let A=Vy(O,f),D=w.createHref(O);try{c.pushState(A,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(D)}l&&d&&d({action:h,location:w.location,delta:1})}function x(E,C){h="REPLACE";let O=Ad(w.location,E,C);f=m();let A=Vy(O,f),D=w.createHref(O);c.replaceState(A,"",D),l&&d&&d({action:h,location:w.location,delta:0})}function S(E){return $w(E)}let w={get action(){return h},get location(){return i(r,c)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener($y,b),d=E,()=>{r.removeEventListener($y,b),d=null}},createHref(E){return e(r,E)},createURL:S,encodeLocation(E){let C=S(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:x,go(E){return c.go(E)}};return w}function $w(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Jr(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Fv(i,e,t="/"){return Vw(i,e,t,!1)}function Vw(i,e,t,s){let r=typeof e=="string"?ka(e):e,l=ci(r.pathname||"/",t);if(l==null)return null;let c=Iv(i);Gw(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let f=i1(l);h=t1(c[d],f,s)}return h}function Iv(i,e=[],t=[],s="",r=!1){let l=(c,h,d=r,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&d)return;Qe(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let b=oi([s,m.relativePath]),v=t.concat(m);c.children&&c.children.length>0&&(Qe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Iv(c.children,e,v,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:Zw(b,c.index),routesMeta:v})};return i.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of qv(c.path))l(c,h,!0,d)}),e}function qv(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let c=qv(s.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),r&&h.push(...c),h.map(d=>i.startsWith("/")&&d===""?"/":d)}function Gw(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:e1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Yw=/^:[\w-]+$/,Ww=3,Kw=2,Xw=1,Qw=10,Jw=-2,Gy=i=>i==="*";function Zw(i,e){let t=i.split("/"),s=t.length;return t.some(Gy)&&(s+=Jw),e&&(s+=Kw),t.filter(r=>!Gy(r)).reduce((r,l)=>r+(Yw.test(l)?Ww:l===""?Xw:Qw),s)}function e1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,r)=>s===e[r])?i[i.length-1]-e[e.length-1]:0}function t1(i,e,t=!1){let{routesMeta:s}=i,r={},l="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],f=h===s.length-1,m=l==="/"?e:e.slice(l.length)||"/",b=gc({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!b&&f&&t&&!s[s.length-1].route.index&&(b=gc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:oi([l,b.pathname]),pathnameBase:o1(oi([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=oi([l,b.pathnameBase]))}return c}function gc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=n1(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:s.reduce((f,{paramName:m,isOptional:b},v)=>{if(m==="*"){let S=h[v]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const x=h[v];return b&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:i}}function n1(i,e=!1,t=!0){En(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function i1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return En(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ci(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a1=i=>s1.test(i);function r1(i,e="/"){let{pathname:t,search:s="",hash:r=""}=typeof i=="string"?ka(i):i,l;if(t)if(a1(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),En(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=Yy(t.substring(1),"/"):l=Yy(t,e)}else l=e;return{pathname:l,search:c1(s),hash:u1(r)}}function Yy(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function rd(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $v(i){let e=l1(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Vv(i,e,t,s=!1){let r;typeof i=="string"?r=ka(i):(r={...i},Qe(!r.pathname||!r.pathname.includes("?"),rd("?","pathname","search",r)),Qe(!r.pathname||!r.pathname.includes("#"),rd("#","pathname","hash",r)),Qe(!r.search||!r.search.includes("#"),rd("#","search","hash",r)));let l=i===""||r.pathname==="",c=l?"/":r.pathname,h;if(c==null)h=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;r.pathname=v.join("/")}h=b>=0?e[b]:"/"}let d=r1(r,h),f=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var oi=i=>i.join("/").replace(/\/\/+/g,"/"),o1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),c1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,u1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function h1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gv=["POST","PUT","PATCH","DELETE"];new Set(Gv);var d1=["GET",...Gv];new Set(d1);var Da=I.createContext(null);Da.displayName="DataRouter";var Mc=I.createContext(null);Mc.displayName="DataRouterState";I.createContext(!1);var Yv=I.createContext({isTransitioning:!1});Yv.displayName="ViewTransition";var f1=I.createContext(new Map);f1.displayName="Fetchers";var g1=I.createContext(null);g1.displayName="Await";var Ln=I.createContext(null);Ln.displayName="Navigation";var ul=I.createContext(null);ul.displayName="Location";var ui=I.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var nf=I.createContext(null);nf.displayName="RouteError";function p1(i,{relative:e}={}){Qe(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=I.useContext(Ln),{hash:r,pathname:l,search:c}=dl(i,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:oi([t,l])),s.createHref({pathname:h,search:c,hash:r})}function hl(){return I.useContext(ul)!=null}function Gi(){return Qe(hl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(ul).location}var Wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kv(i){I.useContext(Ln).static||I.useLayoutEffect(i)}function m1(){let{isDataRoute:i}=I.useContext(ui);return i?j1():y1()}function y1(){Qe(hl(),"useNavigate() may be used only in the context of a <Router> component.");let i=I.useContext(Da),{basename:e,navigator:t}=I.useContext(Ln),{matches:s}=I.useContext(ui),{pathname:r}=Gi(),l=JSON.stringify($v(s)),c=I.useRef(!1);return Kv(()=>{c.current=!0}),I.useCallback((d,f={})=>{if(En(c.current,Wv),!c.current)return;if(typeof d=="number"){t.go(d);return}let m=Vv(d,JSON.parse(l),r,f.relative==="path");i==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:oi([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,l,r,i])}I.createContext(null);function dl(i,{relative:e}={}){let{matches:t}=I.useContext(ui),{pathname:s}=Gi(),r=JSON.stringify($v(t));return I.useMemo(()=>Vv(i,JSON.parse(r),s,e==="path"),[i,r,s,e])}function b1(i,e){return Xv(i,e)}function Xv(i,e,t,s,r){Qe(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Ln),{matches:c}=I.useContext(ui),h=c[c.length-1],d=h?h.params:{},f=h?h.pathname:"/",m=h?h.pathnameBase:"/",b=h&&h.route;{let O=b&&b.path||"";Qv(f,!b||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=Gi(),x;if(e){let O=typeof e=="string"?ka(e):e;Qe(m==="/"||O.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),x=O}else x=v;let S=x.pathname||"/",w=S;if(m!=="/"){let O=m.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let E=Fv(i,{pathname:w});En(b||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),En(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=w1(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:oi([m,l.encodeLocation?l.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:oi([m,l.encodeLocation?l.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),c,t,s,r);return e&&C?I.createElement(ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function v1(){let i=A1(),e=h1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:r},t):null,c)}var _1=I.createElement(v1,null),x1=class extends I.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?I.createElement(ui.Provider,{value:this.props.routeContext},I.createElement(nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S1({routeContext:i,match:e,children:t}){let s=I.useContext(Da);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ui.Provider,{value:i},t)}function w1(i,e=[],t=null,s=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t?.errors;if(c!=null){let m=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Qe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,d=-1;if(t)for(let m=0;m<l.length;m++){let b=l[m];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=m),b.route.id){let{loaderData:v,errors:x}=t,S=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||S){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let f=t&&s?(m,b)=>{s(m,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:b})}:void 0;return l.reduceRight((m,b,v)=>{let x,S=!1,w=null,E=null;t&&(x=c&&b.route.id?c[b.route.id]:void 0,w=b.route.errorElement||_1,h&&(d<0&&v===0?(Qv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):d===v&&(S=!0,E=b.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,v+1)),O=()=>{let A;return x?A=w:S?A=E:b.route.Component?A=I.createElement(b.route.Component,null):b.route.element?A=b.route.element:A=m,I.createElement(S1,{match:b,routeContext:{outlet:m,matches:C,isDataRoute:t!=null},children:A})};return t&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?I.createElement(x1,{location:t.location,revalidation:t.revalidation,component:w,error:x,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):O()},null)}function sf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E1(i){let e=I.useContext(Da);return Qe(e,sf(i)),e}function T1(i){let e=I.useContext(Mc);return Qe(e,sf(i)),e}function C1(i){let e=I.useContext(ui);return Qe(e,sf(i)),e}function af(i){let e=C1(i),t=e.matches[e.matches.length-1];return Qe(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function O1(){return af("useRouteId")}function A1(){let i=I.useContext(nf),e=T1("useRouteError"),t=af("useRouteError");return i!==void 0?i:e.errors?.[t]}function j1(){let{router:i}=E1("useNavigate"),e=af("useNavigate"),t=I.useRef(!1);return Kv(()=>{t.current=!0}),I.useCallback(async(r,l={})=>{En(t.current,Wv),t.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:e,...l}))},[i,e])}var Wy={};function Qv(i,e,t){!e&&!Wy[i]&&(Wy[i]=!0,En(!1,t))}I.memo(R1);function R1({routes:i,future:e,state:t,unstable_onError:s}){return Xv(i,void 0,t,s,e)}function ac(i){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:r,static:l=!1}){Qe(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof t=="string"&&(t=ka(t));let{pathname:d="/",search:f="",hash:m="",state:b=null,key:v="default"}=t,x=I.useMemo(()=>{let S=ci(d,c);return S==null?null:{location:{pathname:S,search:f,hash:m,state:b,key:v},navigationType:s}},[c,d,f,m,b,v,s]);return En(x!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:I.createElement(Ln.Provider,{value:h},I.createElement(ul.Provider,{children:e,value:x}))}function k1({children:i,location:e}){return b1(jd(i),e)}function jd(i,e=[]){let t=[];return I.Children.forEach(i,(s,r)=>{if(!I.isValidElement(s))return;let l=[...e,r];if(s.type===I.Fragment){t.push.apply(t,jd(s.props.children,l));return}Qe(s.type===ac,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=jd(s.props.children,l)),t.push(c)}),t}var rc="get",lc="application/x-www-form-urlencoded";function kc(i){return i!=null&&typeof i.tagName=="string"}function D1(i){return kc(i)&&i.tagName.toLowerCase()==="button"}function N1(i){return kc(i)&&i.tagName.toLowerCase()==="form"}function P1(i){return kc(i)&&i.tagName.toLowerCase()==="input"}function L1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function z1(i,e){return i.button===0&&(!e||e==="_self")&&!L1(i)}var No=null;function B1(){if(No===null)try{new FormData(document.createElement("form"),0),No=!1}catch{No=!0}return No}var U1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ld(i){return i!=null&&!U1.has(i)?(En(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lc}"`),null):i}function H1(i,e){let t,s,r,l,c;if(N1(i)){let h=i.getAttribute("action");s=h?ci(h,e):null,t=i.getAttribute("method")||rc,r=ld(i.getAttribute("enctype"))||lc,l=new FormData(i)}else if(D1(i)||P1(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=i.getAttribute("formaction")||h.getAttribute("action");if(s=d?ci(d,e):null,t=i.getAttribute("formmethod")||h.getAttribute("method")||rc,r=ld(i.getAttribute("formenctype"))||ld(h.getAttribute("enctype"))||lc,l=new FormData(h,i),!B1()){let{name:f,type:m,value:b}=i;if(m==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,b)}}else{if(kc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rc,s=null,r=lc,c=i}return l&&r==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function F1(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ci(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function I1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $1(i,e,t){let s=await Promise.all(i.map(async r=>{let l=e.routes[r.route.id];if(l){let c=await I1(l,t);return c.links?c.links():[]}return[]}));return W1(s.flat(1).filter(q1).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Ky(i,e,t,s,r,l){let c=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,f)=>c(d,f)||h(d,f)):l==="data"?e.filter((d,f)=>{let m=s.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function V1(i,e,{includeHydrateFallback:t}={}){return G1(i.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function G1(i){return[...new Set(i)]}function Y1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function W1(i,e){let t=new Set;return new Set(e),i.reduce((s,r)=>{let l=JSON.stringify(Y1(r));return t.has(l)||(t.add(l),s.push({key:l,link:r})),s},[])}function Jv(){let i=I.useContext(Da);return rf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function K1(){let i=I.useContext(Mc);return rf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lf=I.createContext(void 0);lf.displayName="FrameworkContext";function Zv(){let i=I.useContext(lf);return rf(i,"You must render this element inside a <HydratedRouter> element"),i}function X1(i,e){let t=I.useContext(lf),[s,r]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:b}=e,v=I.useRef(null);I.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let w=C=>{C.forEach(O=>{c(O.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[i]),I.useEffect(()=>{if(s){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[s]);let x=()=>{r(!0)},S=()=>{r(!1),c(!1)};return t?i!=="intent"?[l,v,{}]:[l,v,{onFocus:kr(h,x),onBlur:kr(d,S),onMouseEnter:kr(f,x),onMouseLeave:kr(m,S),onTouchStart:kr(b,x)}]:[!1,v,{}]}function kr(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function Q1({page:i,...e}){let{router:t}=Jv(),s=I.useMemo(()=>Fv(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?I.createElement(Z1,{page:i,matches:s,...e}):null}function J1(i){let{manifest:e,routeModules:t}=Zv(),[s,r]=I.useState([]);return I.useEffect(()=>{let l=!1;return $1(i,e,t).then(c=>{l||r(c)}),()=>{l=!0}},[i,e,t]),s}function Z1({page:i,matches:e,...t}){let s=Gi(),{manifest:r,routeModules:l}=Zv(),{basename:c}=Jv(),{loaderData:h,matches:d}=K1(),f=I.useMemo(()=>Ky(i,e,d,r,s,"data"),[i,e,d,r,s]),m=I.useMemo(()=>Ky(i,e,d,r,s,"assets"),[i,e,d,r,s]),b=I.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let S=new Set,w=!1;if(e.forEach(C=>{let O=r.routes[C.route.id];!O||!O.hasLoader||(!f.some(A=>A.route.id===C.route.id)&&C.route.id in h&&l[C.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:S.add(C.route.id))}),S.size===0)return[];let E=F1(i,c,"data");return w&&S.size>0&&E.searchParams.set("_routes",e.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[c,h,s,r,f,e,i,l]),v=I.useMemo(()=>V1(m,r),[m,r]),x=J1(m);return I.createElement(I.Fragment,null,b.map(S=>I.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>I.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),x.map(({key:S,link:w})=>I.createElement("link",{key:S,nonce:t.nonce,...w})))}function eE(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var e0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e0&&(window.__reactRouterVersion="7.9.6")}catch{}function tE({basename:i,children:e,window:t}){let s=I.useRef();s.current==null&&(s.current=Fw({window:t,v5Compat:!0}));let r=s.current,[l,c]=I.useState({action:r.action,location:r.location}),h=I.useCallback(d=>{I.startTransition(()=>c(d))},[c]);return I.useLayoutEffect(()=>r.listen(h),[r,h]),I.createElement(M1,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:r})}var t0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yr=I.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:r,reloadDocument:l,replace:c,state:h,target:d,to:f,preventScrollReset:m,viewTransition:b,...v},x){let{basename:S}=I.useContext(Ln),w=typeof f=="string"&&t0.test(f),E,C=!1;if(typeof f=="string"&&w&&(E=f,e0))try{let Y=new URL(window.location.href),V=f.startsWith("//")?new URL(Y.protocol+f):new URL(f),$=ci(V.pathname,S);V.origin===Y.origin&&$!=null?f=$+V.search+V.hash:C=!0}catch{En(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=p1(f,{relative:r}),[A,D,P]=X1(s,v),F=aE(f,{replace:c,state:h,target:d,preventScrollReset:m,relative:r,viewTransition:b});function z(Y){e&&e(Y),Y.defaultPrevented||F(Y)}let k=I.createElement("a",{...v,...P,href:E||O,onClick:C||l?e:z,ref:eE(x,D),target:d,"data-discover":!w&&t==="render"?"true":void 0});return A&&!w?I.createElement(I.Fragment,null,k,I.createElement(Q1,{page:O})):k});Yr.displayName="Link";var nE=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:r=!1,style:l,to:c,viewTransition:h,children:d,...f},m){let b=dl(c,{relative:f.relative}),v=Gi(),x=I.useContext(Mc),{navigator:S,basename:w}=I.useContext(Ln),E=x!=null&&uE(b)&&h===!0,C=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,O=v.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(O=O.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&w&&(A=ci(A,w)||A);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let P=O===C||!r&&O.startsWith(C)&&O.charAt(D)==="/",F=A!=null&&(A===C||!r&&A.startsWith(C)&&A.charAt(C.length)==="/"),z={isActive:P,isPending:F,isTransitioning:E},k=P?e:void 0,Y;typeof s=="function"?Y=s(z):Y=[s,P?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(z):l;return I.createElement(Yr,{...f,"aria-current":k,className:Y,ref:m,style:V,to:c,viewTransition:h},typeof d=="function"?d(z):d)});nE.displayName="NavLink";var iE=I.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:r,state:l,method:c=rc,action:h,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:b,...v},x)=>{let S=oE(),w=cE(h,{relative:f}),E=c.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&t0.test(h),O=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let D=A.nativeEvent.submitter,P=D?.getAttribute("formmethod")||c;S(D||A.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:r,state:l,relative:f,preventScrollReset:m,viewTransition:b})};return I.createElement("form",{ref:x,method:E,action:w,onSubmit:s?d:O,...v,"data-discover":!C&&i==="render"?"true":void 0})});iE.displayName="Form";function sE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n0(i){let e=I.useContext(Da);return Qe(e,sE(i)),e}function aE(i,{target:e,replace:t,state:s,preventScrollReset:r,relative:l,viewTransition:c}={}){let h=m1(),d=Gi(),f=dl(i,{relative:l});return I.useCallback(m=>{if(z1(m,e)){m.preventDefault();let b=t!==void 0?t:Jr(d)===Jr(f);h(i,{replace:b,state:s,preventScrollReset:r,relative:l,viewTransition:c})}},[d,h,f,t,s,e,i,r,l,c])}var rE=0,lE=()=>`__${String(++rE)}__`;function oE(){let{router:i}=n0("useSubmit"),{basename:e}=I.useContext(Ln),t=O1();return I.useCallback(async(s,r={})=>{let{action:l,method:c,encType:h,formData:d,body:f}=H1(s,e);if(r.navigate===!1){let m=r.fetcherKey||lE();await i.fetch(m,t,r.action||l,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await i.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,e,t])}function cE(i,{relative:e}={}){let{basename:t}=I.useContext(Ln),s=I.useContext(ui);Qe(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...dl(i||".",{relative:e})},c=Gi();if(i==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(m=>m==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let m=h.toString();l.search=m?`?${m}`:""}}return(!i||i===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:oi([t,l.pathname])),Jr(l)}function uE(i,{relative:e}={}){let t=I.useContext(Yv);Qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=n0("useViewTransitionState"),r=dl(i,{relative:e});if(!t.isTransitioning)return!1;let l=ci(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=ci(t.nextLocation.pathname,s)||t.nextLocation.pathname;return gc(r.pathname,c)!=null||gc(r.pathname,l)!=null}const hE=()=>{const i=Gi(),e=t=>i.pathname===t;return y.jsx("nav",{style:{background:"#020617",borderBottom:"1px solid #1f2937",padding:"0 24px"},children:y.jsxs("div",{style:{maxWidth:1400,margin:"0 auto",display:"flex",gap:8},children:[y.jsx(Yr,{to:"/",style:{padding:"16px 20px",textDecoration:"none",color:e("/")?"#38bdf8":"#e5e7eb",borderBottom:e("/")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Create Invoice"}),y.jsx(Yr,{to:"/dashboard",style:{padding:"16px 20px",textDecoration:"none",color:e("/dashboard")?"#38bdf8":"#e5e7eb",borderBottom:e("/dashboard")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Dashboard"}),y.jsx(Yr,{to:"/preview",style:{padding:"16px 20px",textDecoration:"none",color:e("/preview")?"#38bdf8":"#e5e7eb",borderBottom:e("/preview")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Preview"})]})})};var ti={},Po={},Rd=function(i,e){return Rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])},Rd(i,e)};function i0(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rd(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var pc=function(){return pc=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},pc.apply(this,arguments)};function Na(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(t[s[r]]=i[s[r]]);return t}function s0(i,e,t,s){var r=arguments.length,l=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,e,t,s);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(l=(r<3?c(l):r>3?c(e,t,l):c(e,t))||l);return r>3&&l&&Object.defineProperty(e,t,l),l}function a0(i,e){return function(t,s){e(t,s,i)}}function r0(i,e,t,s,r,l){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var h=s.kind,d=h==="getter"?"get":h==="setter"?"set":"value",f=!e&&i?s.static?i:i.prototype:null,m=e||(f?Object.getOwnPropertyDescriptor(f,s.name):{}),b,v=!1,x=t.length-1;x>=0;x--){var S={};for(var w in s)S[w]=w==="access"?{}:s[w];for(var w in s.access)S.access[w]=s.access[w];S.addInitializer=function(C){if(v)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(C||null))};var E=(0,t[x])(h==="accessor"?{get:m.get,set:m.set}:m[d],S);if(h==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(b=c(E.get))&&(m.get=b),(b=c(E.set))&&(m.set=b),(b=c(E.init))&&r.unshift(b)}else(b=c(E))&&(h==="field"?r.unshift(b):m[d]=b)}f&&Object.defineProperty(f,s.name,m),v=!0}function l0(i,e,t){for(var s=arguments.length>2,r=0;r<e.length;r++)t=s?e[r].call(i,t):e[r].call(i);return s?t:void 0}function o0(i){return typeof i=="symbol"?i:"".concat(i)}function c0(i,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function u0(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function le(i,e,t,s){function r(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function h(m){try{f(s.next(m))}catch(b){c(b)}}function d(m){try{f(s.throw(m))}catch(b){c(b)}}function f(m){m.done?l(m.value):r(m.value).then(h,d)}f((s=s.apply(i,e||[])).next())})}function h0(i,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,r,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(f){return function(m){return d([f,m])}}function d(f){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(s=1,r&&(l=f[0]&2?r.return:f[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,f[1])).done)return l;switch(r=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,r=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){t.label=f[1];break}if(f[0]===6&&t.label<l[1]){t.label=l[1],l=f;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(f);break}l[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(i,t)}catch(m){f=[6,m],r=0}finally{s=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Dc=Object.create?(function(i,e,t,s){s===void 0&&(s=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,s,r)}):(function(i,e,t,s){s===void 0&&(s=t),i[s]=e[t]});function d0(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Dc(e,i,t)}function mc(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],s=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function of(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var s=t.call(i),r,l=[],c;try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)l.push(r.value)}catch(h){c={error:h}}finally{try{r&&!r.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return l}function f0(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(of(arguments[e]));return i}function g0(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var s=Array(i),r=0,e=0;e<t;e++)for(var l=arguments[e],c=0,h=l.length;c<h;c++,r++)s[r]=l[c];return s}function p0(i,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,l;s<r;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return i.concat(l||Array.prototype.slice.call(e))}function Aa(i){return this instanceof Aa?(this.v=i,this):new Aa(i)}function m0(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(i,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(x){return function(S){return Promise.resolve(S).then(x,b)}}function h(x,S){s[x]&&(r[x]=function(w){return new Promise(function(E,C){l.push([x,w,E,C])>1||d(x,w)})},S&&(r[x]=S(r[x])))}function d(x,S){try{f(s[x](S))}catch(w){v(l[0][3],w)}}function f(x){x.value instanceof Aa?Promise.resolve(x.value.v).then(m,b):v(l[0][2],x)}function m(x){d("next",x)}function b(x){d("throw",x)}function v(x,S){x(S),l.shift(),l.length&&d(l[0][0],l[0][1])}}function y0(i){var e,t;return e={},s("next"),s("throw",function(r){throw r}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(r,l){e[r]=i[r]?function(c){return(t=!t)?{value:Aa(i[r](c)),done:!1}:l?l(c):c}:l}}function b0(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof mc=="function"?mc(i):i[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(l){t[l]=i[l]&&function(c){return new Promise(function(h,d){c=i[l](c),r(h,d,c.done,c.value)})}}function r(l,c,h,d){Promise.resolve(d).then(function(f){l({value:f,done:h})},c)}}function v0(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var dE=Object.create?(function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}):function(i,e){i.default=e},Md=function(i){return Md=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t},Md(i)};function _0(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t=Md(i),s=0;s<t.length;s++)t[s]!=="default"&&Dc(e,i,t[s]);return dE(e,i),e}function x0(i){return i&&i.__esModule?i:{default:i}}function S0(i,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!s:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(i):s?s.value:e.get(i)}function w0(i,e,t,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(i,t):r?r.value=t:e.set(i,t),t}function E0(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function T0(i,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],t&&(r=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");r&&(s=function(){try{r.call(this)}catch(l){return Promise.reject(l)}}),i.stack.push({value:e,dispose:s,async:t})}else t&&i.stack.push({async:!0});return e}var fE=typeof SuppressedError=="function"?SuppressedError:function(i,e,t){var s=new Error(t);return s.name="SuppressedError",s.error=i,s.suppressed=e,s};function C0(i){function e(l){i.error=i.hasError?new fE(l,i.error,"An error was suppressed during disposal."):l,i.hasError=!0}var t,s=0;function r(){for(;t=i.stack.pop();)try{if(!t.async&&s===1)return s=0,i.stack.push(t),Promise.resolve().then(r);if(t.dispose){var l=t.dispose.call(t.value);if(t.async)return s|=2,Promise.resolve(l).then(r,function(c){return e(c),r()})}else s|=1}catch(c){e(c)}if(s===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return r()}function O0(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,s,r,l,c){return s?e?".jsx":".js":r&&(!l||!c)?t:r+l+"."+c.toLowerCase()+"js"}):i}const gE={__extends:i0,__assign:pc,__rest:Na,__decorate:s0,__param:a0,__esDecorate:r0,__runInitializers:l0,__propKey:o0,__setFunctionName:c0,__metadata:u0,__awaiter:le,__generator:h0,__createBinding:Dc,__exportStar:d0,__values:mc,__read:of,__spread:f0,__spreadArrays:g0,__spreadArray:p0,__await:Aa,__asyncGenerator:m0,__asyncDelegator:y0,__asyncValues:b0,__makeTemplateObject:v0,__importStar:_0,__importDefault:x0,__classPrivateFieldGet:S0,__classPrivateFieldSet:w0,__classPrivateFieldIn:E0,__addDisposableResource:T0,__disposeResources:C0,__rewriteRelativeImportExtension:O0},pE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:T0,get __assign(){return pc},__asyncDelegator:y0,__asyncGenerator:m0,__asyncValues:b0,__await:Aa,__awaiter:le,__classPrivateFieldGet:S0,__classPrivateFieldIn:E0,__classPrivateFieldSet:w0,__createBinding:Dc,__decorate:s0,__disposeResources:C0,__esDecorate:r0,__exportStar:d0,__extends:i0,__generator:h0,__importDefault:x0,__importStar:_0,__makeTemplateObject:v0,__metadata:u0,__param:a0,__propKey:o0,__read:of,__rest:Na,__rewriteRelativeImportExtension:O0,__runInitializers:l0,__setFunctionName:c0,__spread:f0,__spreadArray:p0,__spreadArrays:g0,__values:mc,default:gE},Symbol.toStringTag,{value:"Module"})),mE=i=>i?(...e)=>i(...e):(...e)=>fetch(...e);let Nc=class extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}},A0=class extends Nc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},kd=class extends Nc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Dd=class extends Nc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var yc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(yc||(yc={}));class yE{constructor(e,{headers:t={},customFetch:s,region:r=yc.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=mE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return le(this,arguments,void 0,function*(t,s={}){var r;let l,c;try{const{headers:h,method:d,body:f,signal:m,timeout:b}=s;let v={},{region:x}=s;x||(x=this.region);const S=new URL(`${this.url}/${t}`);x&&x!=="any"&&(v["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let w;f&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(v["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(v["Content-Type"]="application/json",w=JSON.stringify(f)):w=f;let E=m;b&&(c=new AbortController,l=setTimeout(()=>c.abort(),b),m?(E=c.signal,m.addEventListener("abort",()=>c.abort())):E=c.signal);const C=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:w,signal:E}).catch(P=>{throw new A0(P)}),O=C.headers.get("x-relay-error");if(O&&O==="true")throw new kd(C);if(!C.ok)throw new Dd(C);let A=((r=C.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),D;return A==="application/json"?D=yield C.json():A==="application/octet-stream"||A==="application/pdf"?D=yield C.blob():A==="text/event-stream"?D=C:A==="multipart/form-data"?D=yield C.formData():D=yield C.text(),{data:D,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof Dd||h instanceof kd?h.context:void 0}}finally{l&&clearTimeout(l)}})}}const bE=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return yc},FunctionsClient:yE,FunctionsError:Nc,FunctionsFetchError:A0,FunctionsHttpError:Dd,FunctionsRelayError:kd},Symbol.toStringTag,{value:"Module"})),j0=cl(bE);var Ct={};const Pa=cl(pE);var Lo={},zo={},Bo={},Uo={},Ho={},Fo={},Xy;function R0(){if(Xy)return Fo;Xy=1,Object.defineProperty(Fo,"__esModule",{value:!0});class i extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Fo.default=i,Fo}var Qy;function M0(){if(Qy)return Ho;Qy=1,Object.defineProperty(Ho,"__esModule",{value:!0});const e=Pa.__importDefault(R0());let t=class{constructor(r){var l,c;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(l=r.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=r.signal,this.isMaybeSingle=(c=r.isMaybeSingle)!==null&&c!==void 0?c:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,l){return this.headers=new Headers(this.headers),this.headers.set(r,l),this}then(r,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,b,v;let x=null,S=null,w=null,E=d.status,C=d.statusText;if(d.ok){if(this.method!=="HEAD"){const P=await d.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=P:S=JSON.parse(P))}const A=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),D=(b=d.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&D&&D.length>1&&(w=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,w=null,E=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const A=await d.text();try{x=JSON.parse(A),Array.isArray(x)&&d.status===404&&(S=[],x=null,E=200,C="OK")}catch{d.status===404&&A===""?(E=204,C="No Content"):x={message:A}}if(x&&this.isMaybeSingle&&(!((v=x?.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,E=200,C="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:S,count:w,status:E,statusText:C}});return this.shouldThrowOnError||(h=h.catch(d=>{var f,m,b,v,x,S;let w="";const E=d?.cause;if(E){const C=(f=E?.message)!==null&&f!==void 0?f:"",O=(m=E?.code)!==null&&m!==void 0?m:"";w=`${(b=d?.name)!==null&&b!==void 0?b:"FetchError"}: ${d?.message}`,w+=`

Caused by: ${(v=E?.name)!==null&&v!==void 0?v:"Error"}: ${C}`,O&&(w+=` (${O})`),E?.stack&&(w+=`
${E.stack}`)}else w=(x=d?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(r,l)}returns(){return this}overrideTypes(){return this}};return Ho.default=t,Ho}var Jy;function k0(){if(Jy)return Uo;Jy=1,Object.defineProperty(Uo,"__esModule",{value:!0});const e=Pa.__importDefault(M0());let t=class extends e.default{select(r){let l=!1;const c=(r??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:d=h}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${r}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${r}`),this}range(r,l,{foreignTable:c,referencedTable:h=c}={}){const d=typeof h>"u"?"offset":`${h}.offset`,f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${r}`),this.url.searchParams.set(f,`${l-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:d=!1,format:f="text"}={}){var m;const b=[r?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${b};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};return Uo.default=t,Uo}var Zy;function cf(){if(Zy)return Bo;Zy=1,Object.defineProperty(Bo,"__esModule",{value:!0});const e=Pa.__importDefault(k0()),t=new RegExp("[,()]");let s=class extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${f}fts${m}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.or`:"or";return this.url.searchParams.append(d,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}};return Bo.default=s,Bo}var eb;function D0(){if(eb)return zo;eb=1,Object.defineProperty(zo,"__esModule",{value:!0});const e=Pa.__importDefault(cf());let t=class{constructor(r,{headers:l={},schema:c,fetch:h}){this.url=r,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(r,l){const{head:c=!1,count:h}=l??{},d=c?"HEAD":"GET";let f=!1;const m=(r??"*").split("").map(b=>/\s/.test(b)&&!f?"":(b==='"'&&(f=!f),b)).join("");return this.url.searchParams.set("select",m),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:l,defaultToNull:c=!0}={}){var h;const d="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(f.length>0){const m=[...new Set(f)].map(b=>`"${b}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(r,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const b=r.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(b.length>0){const v=[...new Set(b)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(r,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:r}={}){var l;const c="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return zo.default=t,zo}var tb;function vE(){if(tb)return Lo;tb=1,Object.defineProperty(Lo,"__esModule",{value:!0});const i=Pa,e=i.__importDefault(D0()),t=i.__importDefault(cf());let s=class N0{constructor(l,{headers:c={},schema:h,fetch:d}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=d}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new N0(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:d=!1,count:f}={}){var m;let b;const v=new URL(`${this.url}/rpc/${l}`);let x;h||d?(b=h?"HEAD":"GET",Object.entries(c).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{v.searchParams.append(w,E)})):(b="POST",x=c);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new t.default({method:b,url:v,headers:S,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Lo.default=s,Lo}var nb;function P0(){if(nb)return Ct;nb=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const i=Pa,e=i.__importDefault(vE());Ct.PostgrestClient=e.default;const t=i.__importDefault(D0());Ct.PostgrestQueryBuilder=t.default;const s=i.__importDefault(cf());Ct.PostgrestFilterBuilder=s.default;const r=i.__importDefault(k0());Ct.PostgrestTransformBuilder=r.default;const l=i.__importDefault(M0());Ct.PostgrestBuilder=l.default;const c=i.__importDefault(R0());return Ct.PostgrestError=c.default,Ct.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ct}class L0{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _E="2.87.1",xE=`realtime-js/${_E}`,z0="1.0.0",SE="2.0.0",ib=z0,Nd=1e4,wE=1e3,EE=100;var ws;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ws||(ws={}));var ut;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ut||(ut={}));var Sn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Sn||(Sn={}));var Pd;(function(i){i.websocket="websocket"})(Pd||(Pd={}));var Es;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Es||(Es={}));class TE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const r=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,s;const r=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,s){var r,l;const c=e.topic,h=(r=e.ref)!==null&&r!==void 0?r:"",d=(l=e.join_ref)!==null&&l!==void 0?l:"",f=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+f.length+b.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(x),w=0;S.setUint8(w++,this.KINDS.userBroadcastPush),S.setUint8(w++,d.length),S.setUint8(w++,h.length),S.setUint8(w++,c.length),S.setUint8(w++,f.length),S.setUint8(w++,b.length),S.setUint8(w++,t),Array.from(d,C=>S.setUint8(w++,C.charCodeAt(0))),Array.from(h,C=>S.setUint8(w++,C.charCodeAt(0))),Array.from(c,C=>S.setUint8(w++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(w++,C.charCodeAt(0))),Array.from(b,C=>S.setUint8(w++,C.charCodeAt(0)));var E=new Uint8Array(x.byteLength+s.byteLength);return E.set(new Uint8Array(x),0),E.set(new Uint8Array(s),x.byteLength),E.buffer}decode(e,t){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return t(s)}if(typeof e=="string"){const s=JSON.parse(e),[r,l,c,h,d]=s;return t({join_ref:r,ref:l,topic:c,event:h,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),r=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,s){const r=t.getUint8(1),l=t.getUint8(2),c=t.getUint8(3),h=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=s.decode(e.slice(d,d+r));d=d+r;const m=s.decode(e.slice(d,d+l));d=d+l;const b=s.decode(e.slice(d,d+c));d=d+c;const v=e.slice(d,e.byteLength),x=h===this.JSON_ENCODING?JSON.parse(s.decode(v)):v,S={type:this.BROADCAST_EVENT,event:m,payload:x};return c>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>t.includes(s)))}}class B0{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ve||(Ve={}));const sb=(i,e,t={})=>{var s;const r=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=CE(c,i,e,r),l),{}):{}},CE=(i,e,t,s)=>{const r=e.find(h=>h.name===i),l=r?.type,c=t[i];return l&&!s.includes(l)?U0(l,c):Ld(c)},U0=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return RE(e,t)}switch(i){case Ve.bool:return OE(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return AE(e);case Ve.json:case Ve.jsonb:return jE(e);case Ve.timestamp:return ME(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Ld(e);default:return Ld(e)}},Ld=i=>i,OE=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},AE=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},jE=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},RE=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,s=i[t];if(i[0]==="{"&&s==="}"){let l;const c=i.slice(1,t);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>U0(e,h))}return i},ME=i=>typeof i=="string"?i.replace(" ","T"):i,H0=i=>{const e=new URL(i);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class od{constructor(e,t,s={},r=Nd){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zd;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(zd||(zd={}));let F0=class oc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oc.syncState(this.state,r,l,c),this.pendingDiffs.forEach(d=>{this.state=oc.syncDiff(this.state,d,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=oc.syncDiff(this.state,r,l,c),h())}),this.onJoin((r,l,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:l,newPresences:c})}),this.onLeave((r,l,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const l=this.cloneDeep(e),c=this.transformState(t),h={},d={};return this.map(l,(f,m)=>{c[f]||(d[f]=m)}),this.map(c,(f,m)=>{const b=l[f];if(b){const v=m.map(E=>E.presence_ref),x=b.map(E=>E.presence_ref),S=m.filter(E=>x.indexOf(E.presence_ref)<0),w=b.filter(E=>v.indexOf(E.presence_ref)<0);S.length>0&&(h[f]=S),w.length>0&&(d[f]=w)}else h[f]=m}),this.syncDiff(l,{joins:h,leaves:d},s,r)}static syncDiff(e,t,s,r){const{joins:l,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(l,(h,d)=>{var f;const m=(f=e[h])!==null&&f!==void 0?f:[];if(e[h]=this.cloneDeep(d),m.length>0){const b=e[h].map(x=>x.presence_ref),v=m.filter(x=>b.indexOf(x.presence_ref)<0);e[h].unshift(...v)}s(h,m,d)}),this.map(c,(h,d)=>{let f=e[h];if(!f)return;const m=d.map(b=>b.presence_ref);f=f.filter(b=>m.indexOf(b.presence_ref)<0),e[h]=f,r(h,f,d),f.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return"metas"in r?t[s]=r.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Bd;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Bd||(Bd={}));var Ea;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ea||(Ea={}));var Nn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Nn||(Nn={}));const kE=ut;let I0=class Fr{constructor(e,t={config:{}},s){var r,l;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new B0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new F0(this),this.broadcastEndpointURL=H0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,r,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params,f=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&r!==void 0?r:[],m=!!this.bindings[Ea.PRESENCE]&&this.bindings[Ea.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},v={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(Nn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(Nn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(Nn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,E=(S=w?.length)!==null&&S!==void 0?S:0,C=[];for(let O=0;O<E;O++){const A=w[O],{filter:{event:D,schema:P,table:F,filter:z}}=A,k=x&&x[O];if(k&&k.event===D&&Fr.isFilterValueEqual(k.schema,P)&&Fr.isFilterValueEqual(k.table,F)&&Fr.isFilterValueEqual(k.filter,z))C.push(Object.assign(Object.assign({},A),{id:k.id}));else{this.unsubscribe(),this.state=ut.errored,e?.(Nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Nn.SUBSCRIBED);return}}).receive("error",x=>{this.state=ut.errored,e?.(Nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(Nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===ut.joined&&e===Ea.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var r;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const f=await h.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=f.body)===null||r===void 0?void 0:r.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new od(this,Sn.leave,{},e),s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const r=new AbortController,l=setTimeout(()=>r.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(l),c}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new od(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>EE){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,l;const c=e.toLocaleLowerCase(),{close:h,error:d,leave:f,join:m}=Sn;if(s&&[h,d,f,m].indexOf(c)>=0&&s!==this._joinRef())return;let v=this._onMessage(c,t,s);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(x=>{var S,w,E;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(w=x.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(x=>x.callback(v,s)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var S,w,E,C,O,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const D=x.id,P=(S=x.filter)===null||S===void 0?void 0:S.event;return D&&((w=t.ids)===null||w===void 0?void 0:w.includes(D))&&(P==="*"||P?.toLocaleLowerCase()===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const D=(O=(C=x?.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return D==="*"||D===((A=t?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:w,table:E,commit_timestamp:C,type:O,errors:A}=S;v=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:C,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(S))}x.callback(v,s)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),l={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(l):this.bindings[r]=[l],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var l;return!(((l=r.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Fr.isEqual(r.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sn.close,{},e)}_onError(e){this._on(Sn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=sb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=sb(e.columns,e.old_record)),t}};const cd=()=>{},Io={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DE=[1e3,2e3,5e3,1e4],NE=1e4,PE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let LE=class{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nd,this.transport=null,this.heartbeatIntervalMs=Io.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cd,this.ref=0,this.reconnectTimer=null,this.vsn=ib,this.logger=cd,this.conn=null,this.sendBuffer=[],this.serializer=new TE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...l)=>r(...l):(...l)=>fetch(...l),!(!((s=t?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Pd.websocket}`,this.httpEndpoint=H0(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ws.connecting:return Es.Connecting;case ws.open:return Es.Open;case ws.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(l=>l.topic===s);if(r)return r;{const l=new I0(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:s,payload:r,ref:l}=e,c=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${t} ${s} (${l})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wE,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Io.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:l,ref:c}=t,h=c?`(${c})`:"",d=l.status||"";this.log("receive",`${d} ${s} ${r} ${h}`.trim(),l),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(r,l,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ws.open||this.conn.readyState===ws.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([PE],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,s=!1;if(e)t=e,s=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),t=this.accessTokenValue}else t=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const l={access_token:t,version:xE};t&&r.updateJoinPayload(l),r.joinedOnce&&r._isJoined()&&r._push(Sn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new B0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Io.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,l,c,h,d,f,m,b,v,x;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Nd,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:Io.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:cd,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:ib,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>DE[S-1]||NE),this.vsn){case z0:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((S,w)=>w(JSON.stringify(S))),this.decode=(b=e?.decode)!==null&&b!==void 0?b:((S,w)=>w(JSON.parse(S)));break;case SE:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const zE=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:kE,get REALTIME_LISTEN_TYPES(){return Ea},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Bd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return zd},get REALTIME_SUBSCRIBE_STATES(){return Nn},RealtimeChannel:I0,RealtimeClient:LE,RealtimePresence:F0,WebSocketFactory:L0},Symbol.toStringTag,{value:"Module"})),q0=cl(zE);class fl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Xe(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class $0 extends fl{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bc extends fl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const uf=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),BE=()=>Response,Ud=i=>{if(Array.isArray(i))return i.map(t=>Ud(t));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([t,s])=>{const r=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[r]=Ud(s)}),e},UE=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},HE=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),ud=i=>{var e;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(e=i.error)===null||e===void 0?void 0:e.message)||JSON.stringify(i)},FE=(i,e,t)=>le(void 0,void 0,void 0,function*(){const s=yield BE();i instanceof s&&!t?.noResolveJson?i.json().then(r=>{const l=i.status||500,c=r?.statusCode||l+"";e(new $0(ud(r),l,c))}).catch(r=>{e(new bc(ud(r),r))}):e(new bc(ud(i),i))}),IE=(i,e,t,s)=>{const r={method:i,headers:e?.headers||{}};return i==="GET"||!s?r:(UE(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(s)):r.body=s,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),t))};function gl(i,e,t,s,r,l){return le(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(t,IE(e,s,r,l)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>FE(d,h,s))})})}function Zr(i,e,t,s){return le(this,void 0,void 0,function*(){return gl(i,"GET",e,t,s)})}function xn(i,e,t,s,r){return le(this,void 0,void 0,function*(){return gl(i,"POST",e,s,r,t)})}function Hd(i,e,t,s,r){return le(this,void 0,void 0,function*(){return gl(i,"PUT",e,s,r,t)})}function qE(i,e,t,s){return le(this,void 0,void 0,function*(){return gl(i,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function hf(i,e,t,s,r){return le(this,void 0,void 0,function*(){return gl(i,"DELETE",e,s,r,t)})}class $E{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}var V0;class VE{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[V0]="BlobDownloadBuilder",this.promise=null}asStream(){return new $E(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}V0=Symbol.toStringTag;const GE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ab={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YE{constructor(e,t={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=uf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,r){return le(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},ab),r);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),d&&l.append("metadata",this.encodeMetadata(d)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),d&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(d))):(l=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),r?.headers&&(h=Object.assign(Object.assign({},h),r.headers));const f=this._removeEmptyFolders(t),m=this._getFinalPath(f),b=yield(e=="PUT"?Hd:xn)(this.fetch,`${this.url}/object/${m}`,l,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}upload(e,t,s){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return le(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:ab.upsert},r),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",f.cacheControl)):(d=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const b=yield Hd(this.fetch,h.toString(),d,{headers:m});return{data:{path:l,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Xe(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);t?.upsert&&(r["x-upsert"]="true");const l=yield xn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new fl("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}update(e,t,s){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return le(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}copy(e,t,s){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),l=yield xn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return le(this,void 0,void 0,function*(){try{const r=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),c=l?`?${l}`:"",h=this._getFinalPath(e),d=()=>Zr(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new VE(d,this.shouldThrowOnError)}info(e){return le(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Zr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ud(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}exists(e){return le(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield qE(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s)&&s instanceof bc){const r=s.originalError;if([400,404].includes(r?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&r.push(l);const h=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&r.push(d);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${f}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}list(e,t,s){return le(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},GE),t),{prefix:e||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}listV2(e,t){return le(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const G0="2.87.1",Y0={"X-Client-Info":`storage-js/${G0}`};class WE{constructor(e,t={},s,r){this.shouldThrowOnError=!1;const l=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y0),t),this.fetch=uf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return le(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Zr(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}createBucket(e){return le(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return le(this,void 0,void 0,function*(){try{return{data:yield Hd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}emptyBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var el=class extends Error{constructor(i,e){super(i),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function KE(i,e,t){const s=new URL(e,i);if(t)for(const[r,l]of Object.entries(t))l!==void 0&&s.searchParams.set(r,l);return s.toString()}async function XE(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function QE(i){const e=i.fetchImpl??globalThis.fetch;return{async request({method:t,path:s,query:r,body:l,headers:c}){const h=KE(i.baseUrl,s,r),d=await XE(i.auth),f=await e(h,{method:t,headers:{...l?{"Content-Type":"application/json"}:{},...d,...c},body:l?JSON.stringify(l):void 0}),m=await f.text(),b=(f.headers.get("content-type")||"").includes("application/json"),v=b&&m?JSON.parse(m):m;if(!f.ok){const x=b?v:void 0,S=x?.error;throw new el(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:f.status,headers:f.headers,data:v}}}}function qo(i){return i.join("")}var JE=class{constructor(i,e=""){this.client=i,this.prefix=e}async listNamespaces(i){const e=i?{parent:qo(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(i,e){const t={namespace:i.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qo(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qo(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qo(i.namespace)}`}),!0}catch(e){if(e instanceof el&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(i,e){try{return await this.createNamespace(i,e)}catch(t){if(t instanceof el&&t.status===409)return;throw t}}};function ma(i){return i.join("")}var ZE=class{constructor(i,e="",t){this.client=i,this.prefix=e,this.accessDelegation=t}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables`})).data.identifiers}async createTable(i,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(i,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables/${i.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(i,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(i){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables/${i.name}`,headers:e})).data.metadata}async tableExists(i){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables/${i.name}`,headers:e}),!0}catch(t){if(t instanceof el&&t.status===404)return!1;throw t}}async createTableIfNotExists(i,e){try{return await this.createTable(i,e)}catch(t){if(t instanceof el&&t.status===409)return await this.loadTable({namespace:i.namespace,name:e.name});throw t}}},eT=class{constructor(i){let e="v1";i.catalogName&&(e+=`/${i.catalogName}`);const t=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=QE({baseUrl:t,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new JE(this.client,e),this.tableOps=new ZE(this.client,e,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,e){return this.namespaceOps.createNamespace(i,e)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,e){return this.tableOps.createTable(i,e)}async updateTable(i,e){return this.tableOps.updateTable(i,e)}async dropTable(i,e){await this.tableOps.dropTable(i,e)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,e){return this.namespaceOps.createNamespaceIfNotExists(i,e)}async createTableIfNotExists(i,e){return this.tableOps.createTableIfNotExists(i,e)}};class W0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y0),t),this.fetch=uf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}listBuckets(e){return le(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const s=t.toString(),r=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Zr(this.fetch,r,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}})}from(e){if(!HE(e))throw new fl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new eT({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>le(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(t,{get(l,c){const h=l[c];return typeof h!="function"?h:(...d)=>le(this,void 0,void 0,function*(){try{return{data:yield h.apply(l,d),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}})}})}}const df={"X-Client-Info":`storage-js/${G0}`,"Content-Type":"application/json"};class ff extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ft(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class cc extends ff{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class K0 extends ff{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Fd;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fd||(Fd={}));const Pc=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),tT=()=>Response,X0=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},nT=i=>Array.from(new Float32Array(i)),iT=(i,e)=>{if(e!==void 0&&i.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${i.float32.length}`)},rb=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),sT=(i,e,t)=>le(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!t?.noResolveJson){const r=i.status||500,l=i;if(typeof l.json=="function")l.json().then(c=>{const h=c?.statusCode||c?.code||r+"";e(new cc(rb(c),r,h))}).catch(()=>{const c=r+"",h=l.statusText||`HTTP ${r} error`;e(new cc(h,r,c))});else{const c=r+"",h=l.statusText||`HTTP ${r} error`;e(new cc(h,r,c))}}else e(new K0(rb(i),i))}),aT=(i,e,t,s)=>{const r={method:i,headers:e?.headers||{}};return s?(X0(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(s)):r.body=s,Object.assign(Object.assign({},r),t)):r};function rT(i,e,t,s,r,l){return le(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(t,aT(e,s,r,l)).then(d=>{if(!d.ok)throw d;if(s?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>sT(d,h,s))})})}function en(i,e,t,s,r){return le(this,void 0,void 0,function*(){return rT(i,"POST",e,s,r,t)})}class Q0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),t),this.fetch=Pc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return le(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}getIndex(e,t){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}listIndexes(e){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return le(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}}class J0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),t),this.fetch=Pc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield en(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}getVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}listVectors(e){return le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield en(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}queryVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}deleteVectors(e){return le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield en(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}class Z0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),t),this.fetch=Pc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}listBuckets(){return le(this,arguments,void 0,function*(e={}){try{return{data:yield en(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}class e_ extends Z0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new t_(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return le(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return le(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return le(this,arguments,void 0,function*(t={}){return e.listBuckets.call(this,t)})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return le(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class t_ extends Q0{constructor(e,t,s,r){super(e,t,r),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new n_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class n_ extends J0{constructor(e,t,s,r,l){super(e,t,l),this.vectorBucketName=s,this.indexName=r}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class lT extends WE{constructor(e,t={},s,r){super(e,t,s,r)}from(e){return new YE(this.url,this.headers,e,this.fetch)}get vectors(){return new e_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new W0(this.url+"/iceberg",this.headers,this.fetch)}}const oT=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:W0,StorageApiError:$0,StorageClient:lT,StorageError:fl,StorageUnknownError:bc,StorageVectorsApiError:cc,StorageVectorsClient:e_,StorageVectorsError:ff,get StorageVectorsErrorCode(){return Fd},StorageVectorsUnknownError:K0,VectorBucketApi:Z0,VectorBucketScope:t_,VectorDataApi:J0,VectorIndexApi:Q0,VectorIndexScope:n_,isPlainObject:X0,isStorageError:Xe,isStorageVectorsError:Ft,normalizeToFloat32:nT,resolveFetch:Pc,resolveResponse:tT,validateVectorDimension:iT},Symbol.toStringTag,{value:"Module"})),cT=cl(oT);var hd={},Dr={},lb;function uT(){return lb||(lb=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.version=void 0,Dr.version="2.87.1"),Dr}var ob;function hT(){return ob||(ob=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const e=uT();let t="";typeof Deno<"u"?t="deno":typeof document<"u"?t="web":typeof navigator<"u"&&navigator.product==="ReactNative"?t="react-native":t="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${t}/${e.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(hd)),hd}var dd={},cb;function dT(){return cb||(cb=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const e=r=>r?(...l)=>r(...l):(...l)=>fetch(...l);i.resolveFetch=e;const t=()=>Headers;i.resolveHeadersConstructor=t;const s=(r,l,c)=>{const h=(0,i.resolveFetch)(c),d=(0,i.resolveHeadersConstructor)();return async(f,m)=>{var b;const v=(b=await l())!==null&&b!==void 0?b:r;let x=new d(m?.headers);return x.has("apikey")||x.set("apikey",r),x.has("Authorization")||x.set("Authorization",`Bearer ${v}`),h(f,Object.assign(Object.assign({},m),{headers:x}))}};i.fetchWithAuth=s})(dd)),dd}var ni={},ub;function fT(){if(ub)return ni;ub=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.isBrowser=void 0,ni.uuid=i,ni.ensureTrailingSlash=e,ni.applySettingDefaults=s,ni.validateSupabaseUrl=r;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var c=Math.random()*16|0,h=l=="x"?c:c&3|8;return h.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const t=()=>typeof window<"u";ni.isBrowser=t;function s(l,c){var h,d;const{db:f,auth:m,realtime:b,global:v}=l,{db:x,auth:S,realtime:w,global:E}=c,C={db:Object.assign(Object.assign({},x),f),auth:Object.assign(Object.assign({},S),m),realtime:Object.assign(Object.assign({},w),b),storage:{},global:Object.assign(Object.assign(Object.assign({},E),v),{headers:Object.assign(Object.assign({},(h=E?.headers)!==null&&h!==void 0?h:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return l.accessToken?C.accessToken=l.accessToken:delete C.accessToken,C}function r(l){const c=l?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ni}var Nr={};const i_="2.87.1",Sa=30*1e3,Id=3,fd=Id*Sa,gT="http://localhost:9999",pT="supabase.auth.token",mT={"X-Client-Info":`gotrue-js/${i_}`},qd="X-Supabase-Api-Version",s_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bT=600*1e3;let ja=class extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}};function he(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let a_=class extends ja{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}};function r_(i){return he(i)&&i.name==="AuthApiError"}let Bi=class extends ja{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},hi=class extends ja{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}},Ht=class extends hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function l_(i){return he(i)&&i.name==="AuthSessionMissingError"}let bs=class extends hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ir=class extends hi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},qr=class extends hi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function o_(i){return he(i)&&i.name==="AuthImplicitGrantRedirectError"}let $d=class extends hi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},vc=class extends hi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function uc(i){return he(i)&&i.name==="AuthRetryableFetchError"}let Vd=class extends hi{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}};function vT(i){return he(i)&&i.name==="AuthWeakPasswordError"}let _c=class extends hi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hb=` 	
\r=`.split(""),_T=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<hb.length;e+=1)i[hb[e].charCodeAt(0)]=-2;for(let e=0;e<xc.length;e+=1)i[xc[e].charCodeAt(0)]=e;return i})();function db(i,e,t){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(xc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(xc[s]),e.queuedBits-=6}}function c_(i,e,t){const s=_T[i];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function fb(i){const e=[],t=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},l=c=>{wT(c,s,t)};for(let c=0;c<i.length;c+=1)c_(i.charCodeAt(c),r,l);return e.join("")}function xT(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function ST(i,e){for(let t=0;t<i.length;t+=1){let s=i.charCodeAt(t);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(i.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}xT(s,e)}}function wT(i,e,t){if(e.utf8seq===0){if(i<=127){t(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ta(i){const e=[],t={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<i.length;r+=1)c_(i.charCodeAt(r),t,s);return new Uint8Array(e)}function ET(i){const e=[];return ST(i,t=>e.push(t)),new Uint8Array(e)}function Ts(i){const e=[],t={queue:0,queuedBits:0},s=r=>{e.push(r)};return i.forEach(r=>db(r,t,s)),db(null,t,s),e.join("")}function TT(i){return Math.round(Date.now()/1e3)+i}function CT(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",fs={tested:!1,writable:!1},u_=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fs.tested)return fs.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),fs.tested=!0,fs.writable=!0}catch{fs.tested=!0,fs.writable=!1}return fs.writable};function OT(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,l)=>{e[l]=r})}catch{}return t.searchParams.forEach((s,r)=>{e[r]=s}),e}const h_=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),AT=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",wa=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},gs=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},wt=async(i,e)=>{await i.removeItem(e)};class Lc{constructor(){this.promise=new Lc.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Lc.promiseConstructor=Promise;function gd(i){const e=i.split(".");if(e.length!==3)throw new _c("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!yT.test(e[s]))throw new _c("JWT not in base64url format");return{header:JSON.parse(fb(e[0])),payload:JSON.parse(fb(e[1])),signature:Ta(e[2]),raw:{header:e[0],payload:e[1]}}}async function jT(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function RT(i,e){return new Promise((s,r)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await i(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){r(c);return}}})()})}function MT(i){return("0"+i.toString(16)).substr(-2)}function kT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let r="";for(let l=0;l<56;l++)r+=t.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,MT).join("")}async function DT(i){const t=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(l=>String.fromCharCode(l)).join("")}async function NT(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await DT(i);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ya(i,e,t=!1){const s=kT();let r=s;t&&(r+="/PASSWORD_RECOVERY"),await wa(i,`${e}-code-verifier`,r);const l=await NT(s);return[l,s===l?"plain":"s256"]}const PT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LT(i){const e=i.headers.get(qd);if(!e||!e.match(PT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zT(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function BT(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ba(i){if(!UT.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pd(){const i={};return new Proxy(i,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HT(i,e){return new Proxy(i,{get:(t,s,r)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,s,r)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,s,r)}})}function gb(i){return JSON.parse(JSON.stringify(i))}const vs=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),FT=[502,503,504];async function pb(i){var e;if(!AT(i))throw new vc(vs(i),0);if(FT.includes(i.status))throw new vc(vs(i),i.status);let t;try{t=await i.json()}catch(l){throw new Bi(vs(l),l)}let s;const r=LT(i);if(r&&r.getTime()>=s_["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Vd(vs(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ht}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Vd(vs(t),i.status,t.weak_password.reasons);throw new a_(vs(t),i.status||500,s)}const IT=(i,e,t,s)=>{const r={method:i,headers:e?.headers||{}};return i==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};async function ye(i,e,t,s){var r;const l=Object.assign({},s?.headers);l[qd]||(l[qd]=s_["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(r=s?.query)!==null&&r!==void 0?r:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await qT(i,e,t+h,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function qT(i,e,t,s,r,l){const c=IT(e,s,r,l);let h;try{h=await i(t,Object.assign({},c))}catch(d){throw console.error(d),new vc(vs(d),0)}if(h.ok||await pb(h),s?.noResolveJson)return h;try{return await h.json()}catch(d){await pb(d)}}function _n(i){var e;let t=null;GT(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=TT(i.expires_in)));const s=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:s},error:null}}function mb(i){const e=_n(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=i.weak_password),e}function Ui(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function $T(i){return{data:i,error:null}}function VT(i){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:l}=i,c=Na(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:l},d=Object.assign({},c);return{data:{properties:h,user:d},error:null}}function yb(i){return i}function GT(i){return i.access_token&&i.refresh_token&&i.expires_in}const hc=["global","local","others"];let gf=class{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=h_(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=hc[0]){if(hc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hc.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ui})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Na(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=s?.newEmail,delete r.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:VT,redirectTo:t?.redirectTo})}catch(t){if(he(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ui})}catch(t){if(he(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,l,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},m=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(l=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:yb});if(m.error)throw m.error;const b=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);f[`${E}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(he(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){ba(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ui})}catch(t){if(he(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ba(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ui})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){ba(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ui})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ba(e.userId);try{const{data:t,error:s}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:s}}catch(t){if(he(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ba(e.userId),ba(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,r,l,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},m=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(l=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:yb});if(m.error)throw m.error;const b=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);f[`${E}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(he(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(he(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(he(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(he(t))return{data:null,error:t};throw t}}};function bb(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}const _s={debug:!!(globalThis&&u_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let d_=class extends pf{};class YT extends pf{}async function f_(i,e,t){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),_s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,r.name);try{return await t()}finally{_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,r.name)}}else{if(e===0)throw _s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new d_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(_s.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}const vb={};async function WT(i,e,t){var s;const r=(s=vb[i])!==null&&s!==void 0?s:Promise.resolve(),l=Promise.race([r.catch(()=>null),e>=0?new Promise((c,h)=>{setTimeout(()=>{h(new YT(`Acquring process lock with name "${i}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await t());return vb[i]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await r,null;throw c}),await l}function KT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function g_(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function XT(i){return parseInt(i,16)}function QT(i){const e=new TextEncoder().encode(i);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function JT(i){var e;const{chainId:t,domain:s,expirationTime:r,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:d,resources:f,scheme:m,uri:b,version:v}=i;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=i.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const x=g_(i.address),S=m?`${m}://${s}`:s,w=i.statement?`${i.statement}
`:"",E=`${S} wants you to sign in with your Ethereum account:
${x}

${w}`;let C=`URI: ${b}
Version: ${v}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(r&&(C+=`
Expiration Time: ${r.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),d&&(C+=`
Request ID: ${d}`),f){let O=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}C+=O}return`${E}
${C}`}class ht extends Error{constructor({message:e,code:t,cause:s,name:r}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=r??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=t}}class Sc extends ht{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function ZT({error:i,options:e}){var t,s,r;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((t=l.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ht({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(p_(c)){if(l.rp.id!==c)return new ht({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function eC({error:i,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ht({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(p_(s)){if(t.rpId!==s)return new ht({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class tC{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const nC=new tC;function iC(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:e,user:t,excludeCredentials:s}=i,r=Na(i,["challenge","user","excludeCredentials"]),l=Ta(e).buffer,c=Object.assign(Object.assign({},t),{id:Ta(t.id).buffer}),h=Object.assign(Object.assign({},r),{challenge:l,user:c});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];h.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ta(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return h}function sC(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:e,allowCredentials:t}=i,s=Na(i,["challenge","allowCredentials"]),r=Ta(e).buffer,l=Object.assign(Object.assign({},s),{challenge:r});if(t&&t.length>0){l.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const h=t[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Ta(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function aC(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ts(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rC(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i,s=i.getClientExtensionResults(),r=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ts(new Uint8Array(r.authenticatorData)),clientDataJSON:Ts(new Uint8Array(r.clientDataJSON)),signature:Ts(new Uint8Array(r.signature)),userHandle:r.userHandle?Ts(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function p_(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function _b(){var i,e;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lC(i){try{const e=await navigator.credentials.create(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sc("Browser returned unexpected credential type",e)}:{data:null,error:new Sc("Empty credential response",e)}}catch(e){return{data:null,error:ZT({error:e,options:i})}}}async function oC(i){try{const e=await navigator.credentials.get(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sc("Browser returned unexpected credential type",e)}:{data:null,error:new Sc("Empty credential response",e)}}catch(e){return{data:null,error:eC({error:e,options:i})}}}const cC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wc(...i){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),t=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of i)if(r)for(const l in r){const c=r[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(t(c))s[l]=c;else if(e(c)){const h=s[l];e(h)?s[l]=wc(h,c):s[l]=wc(c)}else s[l]=c}return s}function hC(i,e){return wc(cC,i,e||{})}function dC(i,e){return wc(uC,i,e||{})}class fC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:r},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:h};const d=r??nC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=hC(c.webauthn.credential_options.publicKey,l?.create),{data:m,error:b}=await lC({publicKey:f,signal:d});return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:b}}case"request":{const f=dC(c.webauthn.credential_options.publicKey,l?.request),{data:m,error:b}=await oC(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:b}}}}catch(c){return he(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},l){if(!t)return{data:null,error:new ja("rpId is required for WebAuthn authentication")};try{if(!_b())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:r},{request:l});if(!c)return{data:null,error:h};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:s,credential_response:d.credential_response}})}catch(c){return he(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},l){if(!t)return{data:null,error:new ja("rpId is required for WebAuthn registration")};try{if(!_b())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(m=>{var b;return(b=m.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:h};const{data:d,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:r},{create:l});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(c){return he(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in register",c)}}}}KT();const gC={url:gT,storageKey:pT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xb(i,e,t){return await t()}const va={};let mf=class Gd{get jwks(){var e,t;return(t=(e=va[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=va[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},gC),e);if(this.storageKey=l.storageKey,this.instanceID=(t=Gd.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Gd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Et()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new gf({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=h_(l.fetch),this.lock=l.lock||xb,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Et()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=f_:this.lock=xb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:u_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bb(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=bb(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${i_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},s="none";if(Et()&&(t=OT(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),Et()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:l}=await this._getSessionFromURL(t,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),o_(l)){const d=(e=l.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return he(t)?this._returnResult({error:t}):this._returnResult({error:new Bi("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:_n}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(l){if(he(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var t,s,r;try{let l;if("email"in e){const{email:m,password:b,options:v}=e;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await ya(this.storage,this.storageKey)),l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:b,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:S},xform:_n})}else if("phone"in e){const{phone:m,password:b,options:v}=e;l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:b,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(r=v?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:_n})}else throw new Ir("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:c,options:h}=e;t=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:mb})}else if("phone"in e){const{phone:l,password:c,options:h}=e;t=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:mb})}else throw new Ir("You must provide either an email or phone number and a password");const{data:s,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){const l=new bs;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(t){if(he(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,r,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,r,l,c,h,d,f,m,b,v;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:w,wallet:E,statement:C,options:O}=e;let A;if(Et())if(typeof E=="object")A=E;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")A=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=E}const D=new URL((t=O?.url)!==null&&t!==void 0?t:window.location.href),P=await A.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=g_(P[0]);let z=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!z){const Y=await A.request({method:"eth_chainId"});z=XT(Y)}const k={domain:D.host,address:F,statement:C,uri:D.href,version:"1",chainId:z,nonce:(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(c=(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=JT(k),S=await A.request({method:"personal_sign",params:[QT(x),F]})}try{const{data:w,error:E}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_n});if(E)throw E;if(!w||!w.session||!w.user){const C=new bs;return this._returnResult({data:{user:null,session:null},error:C})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(he(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var t,s,r,l,c,h,d,f,m,b,v,x;let S,w;if("message"in e)S=e.message,w=e.signature;else{const{chain:E,wallet:C,statement:O,options:A}=e;let D;if(Et())if(typeof C=="object")D=C;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))D=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=C}const P=new URL((t=A?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in D&&D.signIn){const F=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),O?{statement:O}:null));let z;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")z=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)z=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)S=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),w=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${P.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(r=(s=A?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((l=A?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((b=(m=A?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||b===void 0)&&b.length?["Resources",...A.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const F=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=F}}try{const{data:E,error:C}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ts(w)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:_n});if(C)throw C;if(!E||!E.session||!E.user){const O=new bs;return this._returnResult({data:{user:null,session:null},error:O})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(he(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const t=await gs(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(t??"").split("/");try{const{data:l,error:c}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:_n});if(await wt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:r??null}),error:c})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:l,nonce:c}=e,h=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:_n}),{data:d,error:f}=h;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new bs;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(he(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,r,l,c;try{if("email"in e){const{email:h,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await ya(this.storage,this.storageKey));const{error:b}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:h,options:d}=e,{data:f,error:m}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(l=d?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Ir("You must provide either an email or phone number.")}catch(h){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var t,s;try{let r,l;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:r,xform:_n});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,f=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,s,r,l,c;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await ya(this.storage,this.storageKey));const f=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:$T});return!((l=f.data)===null||l===void 0)&&l.url&&Et()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(h){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Ht;const{error:r}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(he(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:l}=e,{error:c}=await ye(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:r,options:l}=e,{data:c,error:h}=await ye(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new Ir("You must provide either an email or phone number and a type")}catch(t){if(he(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<fd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await gs(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=pd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=HT(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ui}):await this._useSession(async t=>{var s,r,l;const{data:c,error:h}=t;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0,xform:Ui})})}catch(t){if(he(t))return l_(t)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:l}=s;if(l)throw l;if(!r.session)throw new Ht;const c=r.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await ya(this.storage,this.storageKey));const{data:f,error:m}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:c.access_token,xform:Ui});if(m)throw m;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const t=Date.now()/1e3;let s=t,r=!0,l=null;const{payload:c}=gd(e.access_token);if(c.exp&&(s=c.exp,r=s<=t),r){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(t){if(he(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:c,error:h}=t;if(h)throw h;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Ht;const{data:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(he(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Et())throw new qr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new $d("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qr("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $d("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:l,refresh_token:c,expires_in:h,expires_at:d,token_type:f}=e;if(!l||!h||!c||!f)throw new qr("No session defined in URL");const m=Math.round(Date.now()/1e3),b=parseInt(h);let v=m+b;d&&(v=parseInt(d));const x=v-m;x*1e3<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${b}s`);const S=v-b;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,m);const{data:w,error:E}=await this._getUser(l);if(E)throw E;const C={provider_token:s,provider_refresh_token:r,access_token:l,expires_in:b,expires_at:v,refresh_token:c,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(s){if(he(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await gs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:l}=t;if(l)return this._returnResult({error:l});const c=(s=r.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(r_(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=CT(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:l},error:c}=t;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await ya(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:r}=await this._useSession(async l=>{var c,h,d,f,m;const{data:b,error:v}=l;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(f=b.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(r)throw r;return Et()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(he(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:r,data:{session:l}}=t;if(r)throw r;const{options:c,provider:h,token:d,access_token:f,nonce:m}=e,b=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:_n}),{data:v,error:x}=b;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new bs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(r){if(await wt(this.storage,`${this.storageKey}-code-verifier`),he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:l,error:c}=t;if(c)throw c;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await RT(async r=>(r>0&&await jT(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_n})),(r,l)=>{const c=200*Math.pow(2,r);return l&&uc(l)&&Date.now()+c-s<Sa})}catch(s){if(this._debug(t,"error",s),he(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Et()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await gs(this.storage,this.storageKey);if(r&&this.userStorage){let c=await gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await wa(this.userStorage,this.storageKey+"-user",c)),r.user=(e=c?.user)!==null&&e!==void 0?e:pd()}else if(r&&!r.user&&!r.user){const c=await gs(this.storage,this.storageKey+"-user");c&&c?.user?(r.user=c.user,await wt(this.storage,this.storageKey+"-user"),await wa(this.storage,this.storageKey,r)):r.user=pd()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const l=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<fd;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${fd}s`),l){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),uc(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(r.access_token);!h&&c?.user?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Lc;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Ht;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(r,"error",l),he(l)){const c={data:null,error:l};return uc(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(d){l.push(d)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await wa(this.userStorage,this.storageKey+"-user",{user:t.user});const r=Object.assign({},t);delete r.user;const l=gb(r);await wa(this.storage,this.storageKey,l)}else{const r=gb(t);await wa(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Sa}ms, refresh threshold is ${Id} ticks`),r<=Id&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await ya(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(h.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);r.push(l.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:l}=t;return l?this._returnResult({data:null,error:l}):await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:l,error:c}=t;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((r=d?.totp)===null||r===void 0)&&r.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?aC(e.webauthn.credential_response):rC(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:iC(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:sC(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=t?.factors)!==null&&e!==void 0?e:[])r.all.push(l),l.status==="verified"&&r[l.factor_type].push(l);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=gd(s.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((t=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!r)return this._returnResult({data:null,error:new Ht});const c=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Et()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!r)return this._returnResult({data:null,error:new Ht});const c=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Et()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;return s?this._returnResult({data:null,error:s}):t?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(e){if(he(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(h=>h.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+bT>r)return s;const{data:l,error:c}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=r,s=l.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});s=x.session.access_token}const{header:r,payload:l,signature:c,raw:{header:h,payload:d}}=gd(s);t?.allowExpired||zT(l.exp);const f=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:l,header:r,signature:c},error:null}}const m=BT(r.alg),b=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,b,c,ET(`${h}.${d}`)))throw new _c("Invalid JWT signature");return{data:{claims:l,header:r,signature:c},error:null}}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}};mf.nextInstanceID={};const pC=gf,mC=mf,yC=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:pC,AuthApiError:a_,AuthClient:mC,AuthError:ja,AuthImplicitGrantRedirectError:qr,AuthInvalidCredentialsError:Ir,AuthInvalidJwtError:_c,AuthInvalidTokenResponseError:bs,AuthPKCEGrantCodeExchangeError:$d,AuthRetryableFetchError:vc,AuthSessionMissingError:Ht,AuthUnknownError:Bi,AuthWeakPasswordError:Vd,CustomAuthError:hi,GoTrueAdminApi:gf,GoTrueClient:mf,NavigatorLockAcquireTimeoutError:d_,SIGN_OUT_SCOPES:hc,isAuthApiError:r_,isAuthError:he,isAuthImplicitGrantRedirectError:o_,isAuthRetryableFetchError:uc,isAuthSessionMissingError:l_,isAuthWeakPasswordError:vT,lockInternals:_s,navigatorLock:f_,processLock:WT},Symbol.toStringTag,{value:"Module"})),m_=cl(yC);var Sb;function bC(){if(Sb)return Nr;Sb=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.SupabaseAuthClient=void 0;const i=m_;let e=class extends i.AuthClient{constructor(s){super(s)}};return Nr.SupabaseAuthClient=e,Nr}var wb;function Eb(){if(wb)return Po;wb=1,Object.defineProperty(Po,"__esModule",{value:!0});const i=j0,e=P0(),t=q0,s=cT,r=hT(),l=dT(),c=fT(),h=bC();class d{constructor(m,b,v){var x,S,w;this.supabaseUrl=m,this.supabaseKey=b;const E=(0,c.validateSupabaseUrl)(m);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const C=`sb-${E.hostname.split(".")[0]}-auth-token`,O={db:r.DEFAULT_DB_OPTIONS,realtime:r.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},r.DEFAULT_AUTH_OPTIONS),{storageKey:C}),global:r.DEFAULT_GLOBAL_OPTIONS},A=(0,c.applySettingDefaults)(v??{},O);this.storageKey=(x=A.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(S=A.global.headers)!==null&&S!==void 0?S:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(D,P)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(P)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=A.auth)!==null&&w!==void 0?w:{},this.headers,A.global.fetch),this.fetch=(0,l.fetchWithAuth)(b,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.accessToken&&this.accessToken().then(D=>this.realtime.setAuth(D)).catch(D=>console.warn("Failed to set initial Realtime auth token:",D)),this.rest=new e.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,b={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,b,v)}channel(m,b={config:{}}){return this.realtime.channel(m,b)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,b;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(b=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:b,detectSessionInUrl:v,storage:x,userStorage:S,storageKey:w,flowType:E,lock:C,debug:O,throwOnError:A},D,P){const F={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},F),D),storageKey:w,autoRefreshToken:m,persistSession:b,detectSessionInUrl:v,storage:x,userStorage:S,flowType:E,lock:C,debug:O,throwOnError:A,fetch:P,hasCustomAuthorizationHeader:Object.keys(this.headers).some(z=>z.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new t.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,v)=>{this._handleTokenChanged(b,"CLIENT",v?.access_token)})}_handleTokenChanged(m,b,v){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Po.default=d,Po}var Tb;function vC(){return Tb||(Tb=1,(function(i){var e=ti&&ti.__createBinding||(Object.create?(function(m,b,v,x){x===void 0&&(x=v);var S=Object.getOwnPropertyDescriptor(b,v);(!S||("get"in S?!b.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(m,x,S)}):(function(m,b,v,x){x===void 0&&(x=v),m[x]=b[v]})),t=ti&&ti.__exportStar||function(m,b){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(b,v)&&e(b,m,v)},s=ti&&ti.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const r=s(Eb());t(m_,i);var l=P0();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var c=j0;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),t(q0,i);var h=Eb();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return s(h).default}});const d=(m,b,v)=>new r.default(m,b,v);i.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const b=m.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ti)),ti}var y_=vC();const b_=ef(y_),_C=Aw({__proto__:null,default:b_},[y_]),{PostgrestError:IM,FunctionsHttpError:qM,FunctionsFetchError:$M,FunctionsRelayError:VM,FunctionsError:GM,FunctionRegion:YM,SupabaseClient:WM,createClient:xC,GoTrueAdminApi:KM,GoTrueClient:XM,AuthAdminApi:QM,AuthClient:JM,navigatorLock:ZM,NavigatorLockAcquireTimeoutError:e2,lockInternals:t2,processLock:n2,SIGN_OUT_SCOPES:i2,AuthError:s2,AuthApiError:a2,AuthUnknownError:r2,CustomAuthError:l2,AuthSessionMissingError:o2,AuthInvalidTokenResponseError:c2,AuthInvalidCredentialsError:u2,AuthImplicitGrantRedirectError:h2,AuthPKCEGrantCodeExchangeError:d2,AuthRetryableFetchError:f2,AuthWeakPasswordError:g2,AuthInvalidJwtError:p2,isAuthError:m2,isAuthApiError:y2,isAuthSessionMissingError:b2,isAuthImplicitGrantRedirectError:v2,isAuthRetryableFetchError:_2,isAuthWeakPasswordError:x2,RealtimePresence:S2,RealtimeChannel:w2,RealtimeClient:E2,REALTIME_LISTEN_TYPES:T2,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:C2,REALTIME_PRESENCE_LISTEN_EVENTS:O2,REALTIME_SUBSCRIBE_STATES:A2,REALTIME_CHANNEL_STATES:j2}=b_||_C,SC="https://gimldhrqyzpgaxfueokt.supabase.co",wC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdpbWxkaHJxeXpwZ2F4ZnVlb2t0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNzAwMzksImV4cCI6MjA4MDk0NjAzOX0.jGLt8yyu9psWRus5ksfY-dBvhTfgF3o5SHx2Ngwy0VE",ft=xC(SC,wC),EC=async i=>{try{const{client:e,meta:t,items:s,vatRate:r,discount:l,notes:c}=i,h=s.reduce((S,w)=>S+w.qty*w.unitPrice,0),d=Math.max(h-l,0),f=d*r/100,m=d+f;let b=null;if(e.name||e.email){const{data:S}=await ft.from("clients").select("id").eq("email",e.email).maybeSingle();if(S)b=S.id,await ft.from("clients").update({name:e.name,company:e.company,address:e.address,phone:e.phone,site_address:e.siteAddress}).eq("id",b);else{const{data:w,error:E}=await ft.from("clients").insert({name:e.name,company:e.company,address:e.address,phone:e.phone,email:e.email,site_address:e.siteAddress}).select().single();if(E)throw E;b=w.id}}const{data:v}=await ft.from("invoices").select("id").eq("invoice_no",t.invoiceNo).maybeSingle();let x;if(v)x=v.id,await ft.from("invoices").update({client_id:b,project_name:t.projectName,invoice_date:t.date,due_date:t.dueDate||null,subtotal:h,discount:l,vat_rate:r,vat_amount:f,total:m,notes:c,status:"draft"}).eq("id",x),await ft.from("invoice_items").delete().eq("invoice_id",x);else{const{data:S,error:w}=await ft.from("invoices").insert({invoice_no:t.invoiceNo,client_id:b,project_name:t.projectName,invoice_date:t.date,due_date:t.dueDate||null,subtotal:h,discount:l,vat_rate:r,vat_amount:f,total:m,notes:c,status:"draft"}).select().single();if(w)throw w;x=S.id}for(let S=0;S<s.length;S++){const w=s[S],E=w.qty*w.unitPrice,{data:C,error:O}=await ft.from("invoice_items").insert({invoice_id:x,category:w.category,code:w.code,description:w.description,dimensions:w.dimensions,qty:w.qty,unit_price:w.unitPrice,line_total:E,image_url:w.image||null,sort_order:S}).select().single();if(O)throw O;if(w.materials&&w.materials.length>0){const A=w.materials.map(P=>({invoice_item_id:C.id,material_name:P.name,unit:P.unit,qty_per_item:P.qty,total_qty:P.qty*w.qty})),{error:D}=await ft.from("item_materials").insert(A);if(D)throw D}}return{success:!0,invoiceId:x}}catch(e){return console.error("Error saving invoice:",e),console.error("Error details:",{message:e?.message,details:e?.details,hint:e?.hint,code:e?.code}),{success:!1,error:e}}},TC=()=>{const[i]=I.useState({name:"Meduza Studio Works",logoUrl:"/Company%20Logo.svg",address:"Tolon, El Sayeda Zeinab, Cairo , Egypt",phone:"+20 1146700228 / +20 1018705558",email:"info@meduzafurniture.com"}),[e,t]=I.useState({name:"Client Name",company:"Client Company",address:"Client Billing Address",phone:"+20 100 000 0000",email:"client@example.com",siteAddress:"Site / Delivery Address"}),[s,r]=I.useState({invoiceNo:"INV-2025-001",date:new Date().toISOString().slice(0,10),dueDate:"",projectName:"Project Name"}),[l,c]=I.useState(14),[h,d]=I.useState(0),[f,m]=I.useState([{id:1,category:"Door",code:"Solid door",description:"Wood: Mouski  Veneer: Oak veneer  Finish: PU matte  Fabric: none",dimensions:"220904 cm",qty:1,unitPrice:8500}]),[b,v]=I.useState(`- Production lead time: 2530 working days from advance payment.
- Delivery & installation inside Cairo & Giza are included.
- Colors and finishes may vary slightly due to natural wood characteristics.`),[x,S]=I.useState({mouskiRate:24e3,zanRate:36e3,aroRate:85e3,beechPineRate:78e3,mdf10RatePerSheet:650,mdf16RatePerSheet:1050,mdf21RatePerSheet:1350,blockboard18RatePerSheet:1650,walnutVeneerRatePerM2:310,oakVeneerRatePerM2:210,beechVeneerRatePerM2:210,hplRatePerSheet:650,lplRatePerSheet:350,finishPuMatteRatePerM2:350,finishPuHighGlossRatePerM2:420,finishNcRatePerM2:280,finishOilRatePerM2:250,glass6RatePerM2:1350,glass10RatePerM2:1750,marbleRatePerM2:4500,ply25RatePerSheet:200,ply27RatePerSheet:390,ply8RatePerSheet:1050,ply12RatePerSheet:1450,ply18RatePerSheet:2050,foamboardRatePerSheet:2100,upholsterySeatOnly:500,upholsteryFull:700,upholsteryArmFull:900,upholsterySofaLowPerM:1250,upholsterySofaHighPerM:1750,fabricLowRate:220,fabricHighRate:450,steelChassisCostPerPiece:1500,laborRatePerHour:160,defaultAccessories:1500,drawerRunnerRate:310,doorHingeRate:89,defaultProfitMargin:30,compliancePerItem:80}),[w,E]=I.useState(!1),[C,O]=I.useState(!1),[A,D]=I.useState(null),[P,F]=I.useState(!1),[z,k]=I.useState(null),[Y,V]=I.useState(!1),[$,L]=I.useState(null),[ee,ie]=I.useState(!1),[de,B]=I.useState(null),[Z,re]=I.useState(!1),[ce,ve]=I.useState(null),R=(J,be,Ee)=>{m(tn=>tn.map(Wi=>Wi.id===J?{...Wi,[be]:be==="qty"||be==="unitPrice"?Number(Ee||0):Ee}:Wi))},K=()=>{const J={id:Date.now(),category:"Custom furniture",code:"",description:"",dimensions:"",qty:1,unitPrice:0};m(be=>[...be,J])},te=J=>{const be={id:Date.now(),category:J,code:J,description:"",dimensions:"",qty:1,unitPrice:0};m(Ee=>[...Ee,be])},se=J=>{m(be=>be.filter(Ee=>Ee.id!==J))},fe=(J,be)=>{const Ee=be.target.files?.[0];if(!Ee)return;const tn=new FileReader;tn.onload=()=>{m(Wi=>Wi.map(za=>za.id===J?{...za,image:tn.result}:za))},tn.readAsDataURL(Ee)},pe=()=>({company:i,client:e,meta:s,items:f,vatRate:l,discount:h,notes:b}),Te=()=>{const J=pe();localStorage.setItem("invoice-preview",JSON.stringify(J)),window.open("/preview","_blank","width=1024,height=1200")},nt=()=>{const J=pe();localStorage.setItem("saved-invoice",JSON.stringify(J)),alert("Invoice saved locally ")},qe=async()=>{const J=pe(),be=await EC(J);be.success?(alert(`Invoice saved to database successfully! 

View analytics in the Dashboard tab.`),localStorage.setItem("invoice-preview",JSON.stringify(J))):(alert("Failed to save invoice to database. Check the browser console for details."),console.error("Save failed:",be.error))},Tn=()=>{const J=localStorage.getItem("saved-invoice");if(!J){alert("No saved invoice found.");return}try{const be=JSON.parse(J),Ee=be.items.map(tn=>({category:tn.category||"Custom furniture",...tn}));t(be.client),r(be.meta),m(Ee),c(be.vatRate),d(be.discount),v(be.notes)}catch{alert("Saved invoice is corrupted.")}},Je=J=>{A&&(m(be=>be.map(Ee=>Ee.id===A?{...Ee,unitPrice:Math.round(J.price),description:J.description,dimensions:J.dimensions}:Ee)),O(!1))},Yi=J=>{z&&(m(be=>be.map(Ee=>Ee.id===z?{...Ee,unitPrice:Math.round(J.price),description:J.description}:Ee)),F(!1))},Ms=J=>{ce&&(m(be=>be.map(Ee=>Ee.id===ce?{...Ee,unitPrice:Math.round(J.price),description:J.description,dimensions:J.dimensions||Ee.dimensions,materials:J.materials??Ee.materials}:Ee)),re(!1))},ae=J=>{$&&(m(be=>be.map(Ee=>Ee.id===$?{...Ee,unitPrice:Math.round(J.price),description:J.description,dimensions:J.dimensions||Ee.dimensions}:Ee)),V(!1))},Rt=J=>{de&&(m(be=>be.map(Ee=>Ee.id===de?{...Ee,unitPrice:Math.round(J.price),description:J.description}:Ee)),ie(!1))},qt=J=>!J.dimensions||!J.dimensions.trim()?(alert("Please enter item dimensions first (H  W  T cm)."),!1):!0,Cn=J=>{qt(J)&&(J.category==="Door"?(D(J.id),O(!0)):J.category==="Dining chair"||J.category==="Arm chair"||J.category==="Bar stool"||J.category==="Bench"?(k(J.id),F(!0)):J.category==="Dining table"||J.category==="Coffee table"||J.category==="Side table"||J.category==="Console table"?(L(J.id),V(!0)):J.category==="Sofa straight"||J.category==="Sofa curved"?(B(J.id),ie(!0)):J.category==="Cabinet"?(ve(J.id),re(!0)):alert("Costing is available for doors, seating, tables, sofas and cabinets."))};return y.jsxs("div",{className:"app",children:[y.jsxs("div",{className:"form-shell",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[y.jsx("h1",{className:"app-title",children:"Meduza Invoice Generator"}),y.jsx("button",{type:"button",className:"btn-outline",style:{whiteSpace:"nowrap"},onClick:()=>E(!0),children:"Pricing Settings"})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Client Info"}),y.jsx(ne,{label:"Client Name",value:e.name,onChange:J=>t({...e,name:J})}),y.jsx(ne,{label:"Client Company",value:e.company,onChange:J=>t({...e,company:J})}),y.jsx(ne,{label:"Billing Address",value:e.address,onChange:J=>t({...e,address:J})}),y.jsx(ne,{label:"Phone",value:e.phone,onChange:J=>t({...e,phone:J})}),y.jsx(ne,{label:"Email",value:e.email,onChange:J=>t({...e,email:J})}),y.jsx(ne,{label:"Site / Delivery Address",value:e.siteAddress,onChange:J=>t({...e,siteAddress:J})})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Invoice Details"}),y.jsx(ne,{label:"Invoice No.",value:s.invoiceNo,onChange:J=>r({...s,invoiceNo:J})}),y.jsx(ne,{label:"Date",type:"date",value:s.date,onChange:J=>r({...s,date:J})}),y.jsx(ne,{label:"Due Date",type:"date",value:s.dueDate,onChange:J=>r({...s,dueDate:J})}),y.jsx(ne,{label:"Project Name",value:s.projectName,onChange:J=>r({...s,projectName:J})})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Quick Add Items"}),y.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Dining chair"),children:"+ Dining chair"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Arm chair"),children:"+ Arm chair"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Bar stool"),children:"+ Bar stool"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Bench"),children:"+ Bench"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Dining table"),children:"+ Dining table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Cabinet"),children:"+ Cabinet"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Coffee table"),children:"+ Coffee table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Side table"),children:"+ Side table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Console table"),children:"+ Console table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Sofa straight"),children:"+ Sofa (straight)"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Sofa curved"),children:"+ Sofa (curved)"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>te("Door"),children:"+ Door"})]})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Items"}),f.map(J=>y.jsxs("div",{className:"item-card",children:[y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Item Type"}),y.jsxs("select",{className:"input",value:J.category,onChange:be=>R(J.id,"category",be.target.value),children:[y.jsx("option",{value:"Door",children:"Door"}),y.jsx("option",{value:"Dining chair",children:"Dining chair"}),y.jsx("option",{value:"Arm chair",children:"Arm chair"}),y.jsx("option",{value:"Bar stool",children:"Bar stool"}),y.jsx("option",{value:"Bench",children:"Bench"}),y.jsx("option",{value:"Dining table",children:"Dining table"}),y.jsx("option",{value:"Cabinet",children:"Cabinet"}),y.jsx("option",{value:"Coffee table",children:"Coffee table"}),y.jsx("option",{value:"Side table",children:"Side table"}),y.jsx("option",{value:"Console table",children:"Console table"}),y.jsx("option",{value:"Sofa straight",children:"Sofa straight"}),y.jsx("option",{value:"Sofa curved",children:"Sofa curved"}),y.jsx("option",{value:"Custom furniture",children:"Custom furniture"})]})]}),y.jsx(ne,{label:"Item Name (Invoice)",value:J.code,onChange:be=>R(J.id,"code",be)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Dimensions (H  W  T cm)",value:J.dimensions,onChange:be=>R(J.id,"dimensions",be)}),y.jsx(ne,{label:"Qty",type:"number",value:String(J.qty),onChange:be=>R(J.id,"qty",be)}),y.jsx(ne,{label:"Unit Price",type:"number",value:String(J.unitPrice),onChange:be=>R(J.id,"unitPrice",be)})]}),y.jsx(ne,{label:"Description",value:J.description,onChange:be=>R(J.id,"description",be)}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Item Image"}),y.jsx("input",{type:"file",accept:"image/*",onChange:be=>fe(J.id,be)})]}),J.image&&y.jsx("div",{className:"form-image-preview",children:y.jsx("img",{src:J.image,alt:"Item Preview"})}),y.jsxs("div",{className:"item-footer",children:[y.jsxs("span",{children:["Line Total:"," ",y.jsx("strong",{children:(J.qty*J.unitPrice).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),y.jsxs("div",{style:{display:"flex",gap:8},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>Cn(J),children:"Costing"}),y.jsx("button",{type:"button",className:"btn-delete",onClick:()=>se(J.id),children:"Remove"})]})]})]},J.id)),y.jsx("button",{type:"button",className:"btn-outline",onClick:K,children:"+ Add Item"})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Totals & Tax"}),y.jsx(ne,{label:"Discount (EGP)",type:"number",value:String(h),onChange:J=>d(Number(J||0))}),y.jsx(ne,{label:"VAT %",type:"number",value:String(l),onChange:J=>c(Number(J||0))})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Notes / Terms"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Notes"}),y.jsx("textarea",{className:"textarea",value:b,onChange:J=>v(J.target.value),rows:4})]})]}),y.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[y.jsx("button",{className:"btn-outline",onClick:nt,children:"Save Locally"}),y.jsx("button",{className:"btn-outline",onClick:Tn,children:"Load Local"})]}),y.jsx("button",{className:"btn-primary",onClick:qe,style:{marginBottom:8},children:"Save to Database"}),y.jsx("button",{className:"btn-primary",onClick:Te,children:"Preview Invoice (New Window)"})]}),y.jsx(CC,{isOpen:w,config:x,onChange:S,onClose:()=>E(!1)}),y.jsx(OC,{isOpen:C,onClose:()=>O(!1),onApply:Je,pricing:x}),y.jsx(AC,{isOpen:P,onClose:()=>F(!1),onApply:Yi,pricing:x}),y.jsx(jC,{isOpen:Y,onClose:()=>V(!1),onApply:ae,pricing:x}),y.jsx(RC,{isOpen:ee,onClose:()=>ie(!1),onApply:Rt,pricing:x}),y.jsx(MC,{isOpen:Z,onClose:()=>re(!1),onApply:Ms,pricing:x})]})},CC=({isOpen:i,config:e,onChange:t,onClose:s})=>{const[r,l]=I.useState(e),c=(d,f)=>{l(m=>({...m,[d]:Number(f||0)}))},h=()=>{t(r),s()};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Pricing Settings"}),y.jsx("h3",{className:"card-title",style:{fontSize:12},children:"Natural Wood (EGP / m)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Mouski",type:"number",value:String(r.mouskiRate),onChange:d=>c("mouskiRate",d)}),y.jsx(ne,{label:"Zan (Beech)",type:"number",value:String(r.zanRate),onChange:d=>c("zanRate",d)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Aro (Oak)",type:"number",value:String(r.aroRate),onChange:d=>c("aroRate",d)}),y.jsx(ne,{label:"Beech Pine",type:"number",value:String(r.beechPineRate),onChange:d=>c("beechPineRate",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"MDF Panels (EGP / sheet 122244)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"MDF 10 mm",type:"number",value:String(r.mdf10RatePerSheet),onChange:d=>c("mdf10RatePerSheet",d)}),y.jsx(ne,{label:"MDF 16 mm",type:"number",value:String(r.mdf16RatePerSheet),onChange:d=>c("mdf16RatePerSheet",d)}),y.jsx(ne,{label:"MDF 21 mm",type:"number",value:String(r.mdf21RatePerSheet),onChange:d=>c("mdf21RatePerSheet",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Blockboard & Marble"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Blockboard 18mm (sheet)",type:"number",value:String(r.blockboard18RatePerSheet),onChange:d=>c("blockboard18RatePerSheet",d)}),y.jsx(ne,{label:"Marble (EGP / m)",type:"number",value:String(r.marbleRatePerM2),onChange:d=>c("marbleRatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Veneer (EGP / m)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Walnut",type:"number",value:String(r.walnutVeneerRatePerM2),onChange:d=>c("walnutVeneerRatePerM2",d)}),y.jsx(ne,{label:"Oak",type:"number",value:String(r.oakVeneerRatePerM2),onChange:d=>c("oakVeneerRatePerM2",d)}),y.jsx(ne,{label:"Beech",type:"number",value:String(r.beechVeneerRatePerM2),onChange:d=>c("beechVeneerRatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"HPL / LPL (EGP / sheet 122244)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"HPL",type:"number",value:String(r.hplRatePerSheet),onChange:d=>c("hplRatePerSheet",d)}),y.jsx(ne,{label:"LPL",type:"number",value:String(r.lplRatePerSheet),onChange:d=>c("lplRatePerSheet",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Finish (EGP / m / face)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"PU matte",type:"number",value:String(r.finishPuMatteRatePerM2),onChange:d=>c("finishPuMatteRatePerM2",d)}),y.jsx(ne,{label:"PU high gloss",type:"number",value:String(r.finishPuHighGlossRatePerM2),onChange:d=>c("finishPuHighGlossRatePerM2",d)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"NC",type:"number",value:String(r.finishNcRatePerM2),onChange:d=>c("finishNcRatePerM2",d)}),y.jsx(ne,{label:"Oil / stain",type:"number",value:String(r.finishOilRatePerM2),onChange:d=>c("finishOilRatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Glass (EGP / m)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Glass 6mm white",type:"number",value:String(r.glass6RatePerM2),onChange:d=>c("glass6RatePerM2",d)}),y.jsx(ne,{label:"Glass 10mm white",type:"number",value:String(r.glass10RatePerM2),onChange:d=>c("glass10RatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Ply wood (EGP / sheet 122244)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"PLY 2.5mm",type:"number",value:String(r.ply25RatePerSheet),onChange:d=>c("ply25RatePerSheet",d)}),y.jsx(ne,{label:"PLY 2.7mm",type:"number",value:String(r.ply27RatePerSheet),onChange:d=>c("ply27RatePerSheet",d)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"PLY 8mm",type:"number",value:String(r.ply8RatePerSheet),onChange:d=>c("ply8RatePerSheet",d)}),y.jsx(ne,{label:"PLY 12mm",type:"number",value:String(r.ply12RatePerSheet),onChange:d=>c("ply12RatePerSheet",d)}),y.jsx(ne,{label:"PLY 18mm",type:"number",value:String(r.ply18RatePerSheet),onChange:d=>c("ply18RatePerSheet",d)}),y.jsx(ne,{label:"Foamboard 18mm (sheet)",type:"number",value:String(r.foamboardRatePerSheet),onChange:d=>c("foamboardRatePerSheet",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Upholstery (chairs / benches)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Seat only",type:"number",value:String(r.upholsterySeatOnly),onChange:d=>c("upholsterySeatOnly",d)}),y.jsx(ne,{label:"Full seat",type:"number",value:String(r.upholsteryFull),onChange:d=>c("upholsteryFull",d)}),y.jsx(ne,{label:"Full arm chair",type:"number",value:String(r.upholsteryArmFull),onChange:d=>c("upholsteryArmFull",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Upholstery (sofas)  per meter"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Sofa upholstery low / m",type:"number",value:String(r.upholsterySofaLowPerM),onChange:d=>c("upholsterySofaLowPerM",d)}),y.jsx(ne,{label:"Sofa upholstery high / m",type:"number",value:String(r.upholsterySofaHighPerM),onChange:d=>c("upholsterySofaHighPerM",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Fabric (EGP / meter)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Fabric low (220)",type:"number",value:String(r.fabricLowRate),onChange:d=>c("fabricLowRate",d)}),y.jsx(ne,{label:"Fabric high (450)",type:"number",value:String(r.fabricHighRate),onChange:d=>c("fabricHighRate",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Steel chassis"}),y.jsx("div",{className:"item-row",children:y.jsx(ne,{label:"Steel chassis / piece",type:"number",value:String(r.steelChassisCostPerPiece),onChange:d=>c("steelChassisCostPerPiece",d)})}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Hardware"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Drawer runner / drawer",type:"number",value:String(r.drawerRunnerRate),onChange:d=>c("drawerRunnerRate",d)}),y.jsx(ne,{label:"Door hinge / piece",type:"number",value:String(r.doorHingeRate),onChange:d=>c("doorHingeRate",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Labor"}),y.jsx("div",{className:"item-row",children:y.jsx(ne,{label:"Labor rate (EGP / hour)",type:"number",value:String(r.laborRatePerHour),onChange:d=>c("laborRatePerHour",d)})}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Defaults & Compliance"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Default accessories (EGP)",type:"number",value:String(r.defaultAccessories),onChange:d=>c("defaultAccessories",d)}),y.jsx(ne,{label:"Default profit margin %",type:"number",value:String(r.defaultProfitMargin),onChange:d=>c("defaultProfitMargin",d)}),y.jsx(ne,{label:"Compliance / item (EGP)",type:"number",value:String(r.compliancePerItem),onChange:d=>c("compliancePerItem",d)})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:s,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:h,children:"Save"})]})]})}):null},OC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,l]=I.useState({heightCm:220,widthCm:90,thicknessCm:4,veneerType:"Oak",finishType:"PU matte",woodType:"Mouski",glassType:"None",glassAreaM2:0,accessoriesCost:s.defaultAccessories,overheadCost:0,laborHours:0,hasSteelChassis:!1,profitMargin:s.defaultProfitMargin}),c=(L,ee)=>{l(typeof ee=="boolean"?ie=>({...ie,[L]:ee}):ie=>({...ie,[L]:typeof ie[L]=="number"?Number(ee||0):ee}))},h=r.heightCm/100*(r.widthCm/100),d=h*2,f=h*(r.thicknessCm/100),m=.045*(r.heightCm/220)*(r.widthCm/90);let b=s.mouskiRate;r.woodType==="Zan"&&(b=s.zanRate),r.woodType==="Aro"&&(b=s.aroRate),r.woodType==="BeechPine"&&(b=s.beechPineRate);const v=m*b,x=1.22*2.44,w=d/x*s.mdf10RatePerSheet;let E=0,C=0;if(r.veneerType==="Walnut")E=d*s.walnutVeneerRatePerM2;else if(r.veneerType==="Oak")E=d*s.oakVeneerRatePerM2;else if(r.veneerType==="Beech")E=d*s.beechVeneerRatePerM2;else if(r.veneerType==="HPL"||r.veneerType==="LPL"){const L=d/x;r.veneerType==="HPL"?E=L*s.hplRatePerSheet:r.veneerType==="LPL"&&(E=L*s.lplRatePerSheet),C=0}if(r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"){let L=0;r.finishType==="PU matte"?L=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?L=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?L=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(L=s.finishOilRatePerM2),C=d*L}let O=0;r.glassType==="Glass6"?O=r.glassAreaM2*s.glass6RatePerM2:r.glassType==="Glass10"&&(O=r.glassAreaM2*s.glass10RatePerM2);const A=r.hasSteelChassis?s.steelChassisCostPerPiece:0,D=r.laborHours*s.laborRatePerHour,P=v+w+E+C+O+A+r.accessoriesCost+r.overheadCost+D,F=P*r.profitMargin/100,z=P+F,k=r.veneerType==="HPL"||r.veneerType==="LPL",Y=r.glassType==="Glass6"||r.glassType==="Glass10",V=()=>{const L=[];let ee="Mouski";r.woodType==="Zan"?ee="Zan (Beech)":r.woodType==="Aro"?ee="Aro (Oak)":r.woodType==="BeechPine"&&(ee="Beech pine"),L.push(`Wood: ${ee}`);let ie="";return r.veneerType==="Walnut"?ie="Walnut veneer":r.veneerType==="Oak"?ie="Oak veneer":r.veneerType==="Beech"?ie="Beech veneer":r.veneerType==="HPL"?ie="HPL facing":r.veneerType==="LPL"&&(ie="LPL facing"),L.push(`Veneer: ${ie}`),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"?L.push(`Finish: ${r.finishType}`):L.push("Finish: none (HPL / LPL)"),r.glassType==="Glass6"?L.push(`Glass: 6mm white, ${r.glassAreaM2.toFixed(2)} m`):r.glassType==="Glass10"?L.push(`Glass: 10mm white, ${r.glassAreaM2.toFixed(2)} m`):L.push("Glass: none"),r.hasSteelChassis&&L.push("Steel chassis: yes"),L.join("  ")},$=()=>{const L=V(),ee=`${r.heightCm}${r.widthCm}${r.thicknessCm} cm`;t({price:z,description:L,dimensions:ee})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Door Costing"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Height (cm)",type:"number",value:String(r.heightCm),onChange:L=>c("heightCm",L)}),y.jsx(ne,{label:"Width (cm)",type:"number",value:String(r.widthCm),onChange:L=>c("widthCm",L)}),y.jsx(ne,{label:"Thickness (cm)",type:"number",value:String(r.thicknessCm),onChange:L=>c("thicknessCm",L)})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Frame wood type"}),y.jsxs("select",{className:"input",value:r.woodType,onChange:L=>c("woodType",L.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Facing / Skin Type"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:L=>c("veneerType",L.target.value),children:[y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"}),y.jsx("option",{value:"HPL",children:"HPL"}),y.jsx("option",{value:"LPL",children:"LPL"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:L=>c("finishType",L.target.value),disabled:k,children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]}),k&&y.jsx("span",{style:{fontSize:10,color:"#9ca3af",marginTop:2,display:"block"},children:"HPL / LPL     (Finish cost = 0)"})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Glass"}),y.jsxs("select",{className:"input",value:r.glassType,onChange:L=>c("glassType",L.target.value),children:[y.jsx("option",{value:"None",children:"No glass"}),y.jsx("option",{value:"Glass6",children:"Glass 6mm white"}),y.jsx("option",{value:"Glass10",children:"Glass 10mm white"})]})]}),Y&&y.jsx(ne,{label:"Glass area (m)",type:"number",value:String(r.glassAreaM2),onChange:L=>c("glassAreaM2",L)}),y.jsx(ne,{label:"Accessories (EGP)",type:"number",value:String(r.accessoriesCost),onChange:L=>c("accessoriesCost",L)}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:L=>c("overheadCost",L)}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:L=>c("laborHours",L)}),y.jsxs("label",{className:"field field-inline",children:[y.jsx("span",{className:"field-label",children:"Steel chassis"}),y.jsx("input",{type:"checkbox",checked:r.hasSteelChassis,onChange:L=>c("hasSteelChassis",L.target.checked)}),y.jsxs("span",{className:"field-hint",children:["+"," ",s.steelChassisCostPerPiece.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})," ","per piece"]})]}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:L=>c("profitMargin",L)}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Leaf area (one face): ",h.toFixed(2)," m"]}),y.jsxs("div",{children:["Area both faces: ",d.toFixed(2)," m"]}),y.jsxs("div",{children:["Leaf volume: ",f.toFixed(3)," m"]}),y.jsxs("div",{children:["Frame volume (natural wood): ",m.toFixed(3)," m"]}),y.jsxs("div",{children:["Natural wood cost: ",v.toFixed(0)," EGP"]}),y.jsxs("div",{children:["MDF 10mm (both faces): ",w.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Skin / veneer / HPL / LPL: ",E.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Glass cost: ",O.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Accessories: ",r.accessoriesCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h "," ",s.laborRatePerHour," = ",D.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Steel chassis: ",A.toFixed(0)," EGP"]}),y.jsx("div",{style:{marginTop:4},children:y.jsxs("strong",{children:["Material cost: ",P.toFixed(0)," EGP"]})}),y.jsxs("div",{children:["Profit (",r.profitMargin,"%): ",F.toFixed(0)," EGP"]}),y.jsx("div",{children:y.jsxs("strong",{children:["Suggested selling price / door: ",z.toFixed(0)," EGP"]})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:$,children:"Apply to Item"})]})]})}):null},AC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const r=($,L)=>$==="Dining chair"?L==="Light"?.025:.035:$==="Bar stool"?L==="Light"?.03:.04:$==="Bench"?L==="Light"?.035:.05:L==="Light"?.04:.06,l=($,L)=>$==="Dining chair"?L==="Light"?3:4:$==="Bar stool"?L==="Light"?3:4.5:$==="Bench"?L==="Light"?3.5:5:L==="Light"?4:5.5,[c,h]=I.useState(()=>{const $="Dining chair",L="Light";return{itemType:$,detailLevel:L,solidVolumeM3:r($,L),woodType:"Mouski",hasPly:!1,plyThickness:"2.7",plySheets:2,areaM2:1.2,veneerType:"None",finishType:"PU matte",upholsteryType:"Seat only",fabricType:"Low",fabricMeters:1.5,hasSteelChassis:!1,overheadCost:350,laborHours:l($,L),profitMargin:s.defaultProfitMargin}}),d=($,L)=>{h(ee=>{const ie={...ee,[$]:L};if($==="itemType"||$==="detailLevel"){const de=$==="itemType"?L:ie.itemType,B=$==="detailLevel"?L:ie.detailLevel;ie.solidVolumeM3=r(de,B),ie.laborHours=l(de,B)}return ie})};let f=s.mouskiRate;c.woodType==="Zan"&&(f=s.zanRate),c.woodType==="Aro"&&(f=s.aroRate),c.woodType==="BeechPine"&&(f=s.beechPineRate);const m=c.solidVolumeM3*f;let b=0;c.plyThickness==="2.5"?b=s.ply25RatePerSheet:c.plyThickness==="2.7"?b=s.ply27RatePerSheet:c.plyThickness==="8"?b=s.ply8RatePerSheet:c.plyThickness==="12"?b=s.ply12RatePerSheet:c.plyThickness==="18"&&(b=s.ply18RatePerSheet);const v=c.hasPly?c.plySheets*b:0;let x=0;c.veneerType==="Walnut"?x=s.walnutVeneerRatePerM2:c.veneerType==="Oak"?x=s.oakVeneerRatePerM2:c.veneerType==="Beech"&&(x=s.beechVeneerRatePerM2);const S=c.veneerType==="None"?0:c.areaM2*x;let w=0;c.finishType==="PU matte"?w=s.finishPuMatteRatePerM2:c.finishType==="PU high gloss"?w=s.finishPuHighGlossRatePerM2:c.finishType==="NC"?w=s.finishNcRatePerM2:c.finishType==="Oil / stain"&&(w=s.finishOilRatePerM2);const E=c.areaM2*w;let C=0;c.upholsteryType==="Seat only"?C=s.upholsterySeatOnly:c.upholsteryType==="Full"?C=s.upholsteryFull:c.upholsteryType==="Full arm chair"&&(C=s.upholsteryArmFull);let O=0;c.fabricType==="Low"?O=s.fabricLowRate:c.fabricType==="High"&&(O=s.fabricHighRate);const A=c.upholsteryType==="None"?0:c.fabricMeters*O,D=c.hasSteelChassis?s.steelChassisCostPerPiece:0,P=c.laborHours*s.laborRatePerHour,F=m+v+S+E+C+A+c.overheadCost+P+D,z=F*c.profitMargin/100,k=F+z,Y=()=>{const $=[];let L="Mouski";c.woodType==="Zan"?L="Zan (Beech)":c.woodType==="Aro"?L="Aro (Oak)":c.woodType==="BeechPine"&&(L="Beech pine"),$.push(`Wood: ${L}`);let ee="none";if(c.veneerType==="Walnut"?ee="Walnut veneer":c.veneerType==="Oak"?ee="Oak veneer":c.veneerType==="Beech"&&(ee="Beech veneer"),$.push(`Veneer: ${ee}`),$.push(`Finish: ${c.finishType}`),c.upholsteryType==="None")$.push("Fabric: none");else{const ie=c.fabricType==="Low"?"Low grade":"High grade";$.push(`Fabric: ${ie} (${O} EGP/m, ${c.fabricMeters.toFixed(2)} m)`)}return $.join("  ")},V=()=>{const $=Y();t({price:k,description:$,dimensions:""})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Seating Costing (Chairs / Bench / Bar stool)"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Item type"}),y.jsxs("select",{className:"input",value:c.itemType,onChange:$=>d("itemType",$.target.value),children:[y.jsx("option",{children:"Dining chair"}),y.jsx("option",{children:"Bar stool"}),y.jsx("option",{children:"Bench"}),y.jsx("option",{children:"Arm chair"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Solid wood details"}),y.jsxs("select",{className:"input",value:c.detailLevel,onChange:$=>d("detailLevel",$.target.value),children:[y.jsx("option",{value:"Light",children:"Simple details (less wood)"}),y.jsx("option",{value:"Heavy",children:"Rich details (more wood)"})]}),y.jsxs("span",{className:"field-hint",children:["Volume: ",c.solidVolumeM3.toFixed(3)," m"]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Wood type"}),y.jsxs("select",{className:"input",value:c.woodType,onChange:$=>d("woodType",$.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field field-inline",children:[y.jsx("span",{className:"field-label",children:"Curved back / ply layers"}),y.jsx("input",{type:"checkbox",checked:c.hasPly,onChange:$=>d("hasPly",$.target.checked)})]}),c.hasPly&&y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Ply thickness"}),y.jsxs("select",{className:"input",value:c.plyThickness,onChange:$=>d("plyThickness",$.target.value),children:[y.jsx("option",{value:"2.5",children:"2.5 mm"}),y.jsx("option",{value:"2.7",children:"2.7 mm"}),y.jsx("option",{value:"8",children:"8 mm"}),y.jsx("option",{value:"12",children:"12 mm"}),y.jsx("option",{value:"18",children:"18 mm"})]})]}),y.jsx(ne,{label:"Ply sheets (pcs)",type:"number",value:String(c.plySheets),onChange:$=>d("plySheets",Number($||0))})]}),y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Veneer"}),y.jsxs("select",{className:"input",value:c.veneerType,onChange:$=>d("veneerType",$.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),y.jsx(ne,{label:"Area for veneer/finish (m)",type:"number",value:String(c.areaM2),onChange:$=>d("areaM2",Number($||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:c.finishType,onChange:$=>d("finishType",$.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Upholstery"}),y.jsxs("select",{className:"input",value:c.upholsteryType,onChange:$=>d("upholsteryType",$.target.value),children:[y.jsx("option",{children:"None"}),y.jsx("option",{children:"Seat only"}),y.jsx("option",{children:"Full"}),y.jsx("option",{children:"Full arm chair"})]})]}),c.upholsteryType!=="None"&&y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Fabric type"}),y.jsxs("select",{className:"input",value:c.fabricType,onChange:$=>d("fabricType",$.target.value),children:[y.jsx("option",{value:"Low",children:"Low (220 EGP/m default)"}),y.jsx("option",{value:"High",children:"High (450 EGP/m default)"})]})]}),y.jsx(ne,{label:"Fabric length (m)",type:"number",value:String(c.fabricMeters),onChange:$=>d("fabricMeters",Number($||0))})]}),y.jsxs("label",{className:"field field-inline",children:[y.jsx("span",{className:"field-label",children:"Steel chassis"}),y.jsx("input",{type:"checkbox",checked:c.hasSteelChassis,onChange:$=>d("hasSteelChassis",$.target.checked)}),y.jsxs("span",{className:"field-hint",children:["+"," ",s.steelChassisCostPerPiece.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})," ","per piece"]})]}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(c.overheadCost),onChange:$=>d("overheadCost",Number($||0))}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(c.laborHours),onChange:$=>d("laborHours",Number($||0))}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(c.profitMargin),onChange:$=>d("profitMargin",Number($||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Natural wood cost: ",m.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Ply cost: ",v.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer cost: ",S.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",E.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Upholstery labor: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Fabric cost: ",A.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Steel chassis: ",D.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",c.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",c.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",P.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",F.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",c.profitMargin,"%): ",z.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / piece: ",k.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:V,children:"Apply to Item"})]})]})}):null},jC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,l]=I.useState({lengthCm:220,widthCm:110,heightCm:74,legMaterial:"Wood",woodType:"Mouski",topMaterial:"Marble",veneerType:"None",finishType:"PU matte",overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(V,$)=>{l(L=>({...L,[V]:$}))},h=1.22*2.44,d=r.lengthCm/100*(r.widthCm/100);let f=0;r.legMaterial==="Wood"&&(f=.35*(r.lengthCm/220)*(r.widthCm/110)*(r.heightCm/74));let m=s.mouskiRate;r.woodType==="Zan"&&(m=s.zanRate),r.woodType==="Aro"&&(m=s.aroRate),r.woodType==="BeechPine"&&(m=s.beechPineRate);const b=f*m;let v=0,x=0,S=0;r.topMaterial==="MDF16"?v=d/h*s.mdf16RatePerSheet:r.topMaterial==="MDF21"?v=d/h*s.mdf21RatePerSheet:r.topMaterial==="Blockboard18"?v=d/h*s.blockboard18RatePerSheet:r.topMaterial==="Marble"?x=d*s.marbleRatePerM2:r.topMaterial==="Glass6"?S=d*s.glass6RatePerM2:r.topMaterial==="Glass10"&&(S=d*s.glass10RatePerM2);const w=r.topMaterial==="MDF16"||r.topMaterial==="MDF21"||r.topMaterial==="Blockboard18";let E=0;r.veneerType==="Walnut"?E=s.walnutVeneerRatePerM2:r.veneerType==="Oak"?E=s.oakVeneerRatePerM2:r.veneerType==="Beech"&&(E=s.beechVeneerRatePerM2);const C=w&&r.veneerType!=="None"?d*E:0;let O=0;r.finishType==="PU matte"?O=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?O=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?O=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(O=s.finishOilRatePerM2);const A=w&&r.veneerType!=="None"?d*O:0,D=r.laborHours*s.laborRatePerHour,P=b+v+x+S+C+A+r.overheadCost+D,F=P*r.profitMargin/100,z=P+F,k=()=>{const V=[];let $="";r.topMaterial==="MDF16"?$="MDF 16mm":r.topMaterial==="MDF21"?$="MDF 21mm":r.topMaterial==="Blockboard18"?$="Blockboard 18mm":r.topMaterial==="Marble"?$="Marble top":r.topMaterial==="Glass6"?$="Glass 6mm top":r.topMaterial==="Glass10"&&($="Glass 10mm top");let L="Steel";if(r.legMaterial==="Wood"){let ee="Mouski";r.woodType==="Zan"?ee="Zan (Beech)":r.woodType==="Aro"?ee="Aro (Oak)":r.woodType==="BeechPine"&&(ee="Beech pine"),L=ee}if(V.push(`Top: ${$}`),V.push(`Legs: ${L}`),w&&r.veneerType!=="None"){let ee="";r.veneerType==="Walnut"?ee="Walnut veneer":r.veneerType==="Oak"?ee="Oak veneer":r.veneerType==="Beech"&&(ee="Beech veneer"),V.push(`Veneer: ${ee}`),V.push(`Finish: ${r.finishType}`)}return V.join("  ")},Y=()=>{const V=k(),$=`${r.lengthCm}${r.widthCm}${r.heightCm} cm`;t({price:z,description:V,dimensions:$})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Table Costing"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Length (cm)",type:"number",value:String(r.lengthCm),onChange:V=>c("lengthCm",Number(V||0))}),y.jsx(ne,{label:"Width (cm)",type:"number",value:String(r.widthCm),onChange:V=>c("widthCm",Number(V||0))}),y.jsx(ne,{label:"Height (cm)",type:"number",value:String(r.heightCm),onChange:V=>c("heightCm",Number(V||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Leg material"}),y.jsxs("select",{className:"input",value:r.legMaterial,onChange:V=>c("legMaterial",V.target.value),children:[y.jsx("option",{value:"Wood",children:"Wood"}),y.jsx("option",{value:"Steel",children:"Steel"})]})]}),r.legMaterial==="Wood"&&y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Leg wood type"}),y.jsxs("select",{className:"input",value:r.woodType,onChange:V=>c("woodType",V.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Top material"}),y.jsxs("select",{className:"input",value:r.topMaterial,onChange:V=>c("topMaterial",V.target.value),children:[y.jsx("option",{value:"MDF16",children:"MDF 16mm"}),y.jsx("option",{value:"MDF21",children:"MDF 21mm"}),y.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),y.jsx("option",{value:"Marble",children:"Marble"}),y.jsx("option",{value:"Glass6",children:"Glass 6mm"}),y.jsx("option",{value:"Glass10",children:"Glass 10mm"})]})]}),w&&y.jsxs(y.Fragment,{children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Veneer"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:V=>c("veneerType",V.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),r.veneerType!=="None"&&y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:V=>c("finishType",V.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]}),y.jsx("span",{className:"field-hint",children:"Finish is applied on the veneered wooden top area."})]})]}),!w&&y.jsx("span",{className:"field-hint",style:{marginTop:4,display:"block"},children:"Marble / glass tops do not take veneer or finish here."}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:V=>c("overheadCost",Number(V||0))}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:V=>c("laborHours",Number(V||0))}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:V=>c("profitMargin",Number(V||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Top area: ",d.toFixed(2)," m"]}),y.jsxs("div",{children:["Legs wood volume: ",f.toFixed(3)," m"]}),y.jsxs("div",{children:["Legs wood cost: ",b.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Top core cost: ",v.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Marble cost: ",x.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Glass cost: ",S.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer cost: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",A.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",D.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",P.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",r.profitMargin,"%): ",F.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / table: ",z.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:Y,children:"Apply to Item"})]})]})}):null},RC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,l]=I.useState({sofaType:"Straight",lengthM:2.5,woodType:"Mouski",solidVolumePerM3:.06,veneerType:"None",veneerAreaM2:4,finishType:"PU matte",upholsteryQuality:"Low",fabricGrade:"Low",fabricMeters:8,overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(k,Y)=>{l(V=>{const $={...V,[k]:Y};return k==="sofaType"&&($.solidVolumePerM3=Y==="Straight"?.06:.08),$})};let h=s.mouskiRate;r.woodType==="Zan"&&(h=s.zanRate),r.woodType==="Aro"&&(h=s.aroRate),r.woodType==="BeechPine"&&(h=s.beechPineRate);const d=r.lengthM*r.solidVolumePerM3,f=d*h;let m=0;r.veneerType==="Walnut"?m=s.walnutVeneerRatePerM2:r.veneerType==="Oak"?m=s.oakVeneerRatePerM2:r.veneerType==="Beech"&&(m=s.beechVeneerRatePerM2);const b=r.veneerType==="None"?0:r.veneerAreaM2*m;let v=0;r.finishType==="PU matte"?v=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?v=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?v=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(v=s.finishOilRatePerM2);const x=r.veneerType==="None"?0:r.veneerAreaM2*v;let S=0;r.upholsteryQuality==="Low"?S=s.upholsterySofaLowPerM:r.upholsteryQuality==="High"&&(S=s.upholsterySofaHighPerM);const w=r.upholsteryQuality==="None"?0:r.lengthM*S;let E=0;r.fabricGrade==="Low"?E=s.fabricLowRate:r.fabricGrade==="High"&&(E=s.fabricHighRate);const C=r.upholsteryQuality==="None"?0:r.fabricMeters*E,O=r.laborHours*s.laborRatePerHour,A=f+b+x+w+C+r.overheadCost+O,D=A*r.profitMargin/100,P=A+D,F=()=>{const k=[];let Y="Mouski";r.woodType==="Zan"?Y="Zan (Beech)":r.woodType==="Aro"?Y="Aro (Oak)":r.woodType==="BeechPine"&&(Y="Beech pine"),k.push(`Wood: ${Y}`);let V="none";if(r.veneerType==="Walnut"?V="Walnut veneer":r.veneerType==="Oak"?V="Oak veneer":r.veneerType==="Beech"&&(V="Beech veneer"),k.push(`Veneer: ${V}`),k.push(`Finish: ${r.veneerType==="None"?"none":r.finishType}`),r.upholsteryQuality==="None")k.push("Fabric: none");else{const $=r.fabricGrade==="Low"?"Low grade":"High grade";k.push(`Fabric: ${$} (${E} EGP/m, ${r.fabricMeters.toFixed(2)} m)`)}return k.join("  ")},z=()=>{const k=F();t({price:P,description:k,dimensions:""})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Sofa Costing (per meter)"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Sofa type"}),y.jsxs("select",{className:"input",value:r.sofaType,onChange:k=>c("sofaType",k.target.value),children:[y.jsx("option",{value:"Straight",children:"Straight"}),y.jsx("option",{value:"Curved",children:"Curved"})]}),y.jsx("span",{className:"field-hint",children:"Curved sofas take more wood and labor."})]}),y.jsx(ne,{label:"Length (m)",type:"number",value:String(r.lengthM),onChange:k=>c("lengthM",Number(k||0))}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Wood type"}),y.jsxs("select",{className:"input",value:r.woodType,onChange:k=>c("woodType",k.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Veneer"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:k=>c("veneerType",k.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),r.veneerType!=="None"&&y.jsxs(y.Fragment,{children:[y.jsx(ne,{label:"Veneer / finish area (m)",type:"number",value:String(r.veneerAreaM2),onChange:k=>c("veneerAreaM2",Number(k||0))}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:k=>c("finishType",k.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Upholstery quality"}),y.jsxs("select",{className:"input",value:r.upholsteryQuality,onChange:k=>c("upholsteryQuality",k.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Low",children:"Low (1250 EGP/m default)"}),y.jsx("option",{value:"High",children:"High (1750 EGP/m default)"})]})]}),r.upholsteryQuality!=="None"&&y.jsxs(y.Fragment,{children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Fabric grade"}),y.jsxs("select",{className:"input",value:r.fabricGrade,onChange:k=>c("fabricGrade",k.target.value),children:[y.jsx("option",{value:"Low",children:"Low (220 EGP/m default)"}),y.jsx("option",{value:"High",children:"High (450 EGP/m default)"})]})]}),y.jsx(ne,{label:"Fabric length (m)",type:"number",value:String(r.fabricMeters),onChange:k=>c("fabricMeters",Number(k||0))})]}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:k=>c("overheadCost",Number(k||0))}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:k=>c("laborHours",Number(k||0))}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:k=>c("profitMargin",Number(k||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Wood volume: ",d.toFixed(3)," m"]}),y.jsxs("div",{children:["Wood cost: ",f.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer cost: ",b.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",x.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Upholstery cost: ",w.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Fabric cost: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",O.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",A.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",r.profitMargin,"%): ",D.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / sofa: ",P.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:z,children:"Apply to Item"})]})]})}):null},MC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,l]=I.useState({widthCm:80,heightCm:220,depthCm:40,bodyMaterial:"MDF16",faceMaterial:"MDF16",doorsCount:2,shelvesCount:4,drawersCount:0,veneerType:"None",finishType:"PU matte",accessoriesCost:s.defaultAccessories,overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(ae,Rt)=>{l(qt=>({...qt,[ae]:Rt}))},h=1.22*2.44,d=r.widthCm/100,f=r.heightCm/100,m=r.depthCm/100,b=2*f*m,v=2*d*m,x=d*f*.3,S=b+v+x,w=d*f,E=d*m,C=r.shelvesCount*E,O=S+C;let A=s.mdf16RatePerSheet;r.bodyMaterial==="MDF21"?A=s.mdf21RatePerSheet:r.bodyMaterial==="Blockboard18"?A=s.blockboard18RatePerSheet:r.bodyMaterial==="Ply18"?A=s.ply18RatePerSheet:r.bodyMaterial==="Foamboard"&&(A=s.foamboardRatePerSheet);const D=O/h,P=D*A,F=w/h,z=F*s.mdf10RatePerSheet,k=w;let Y=s.mdf16RatePerSheet;r.faceMaterial==="MDF21"?Y=s.mdf21RatePerSheet:r.faceMaterial==="Blockboard18"?Y=s.blockboard18RatePerSheet:r.faceMaterial==="Ply18"?Y=s.ply18RatePerSheet:r.faceMaterial==="Foamboard"&&(Y=s.foamboardRatePerSheet);const V=k/h,$=V*Y,ee=d*f+S*.4;let ie=0,de=0,B=0;if(r.veneerType==="Walnut"?B=s.walnutVeneerRatePerM2:r.veneerType==="Oak"?B=s.oakVeneerRatePerM2:r.veneerType==="Beech"&&(B=s.beechVeneerRatePerM2),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"){ie=ee*B;let ae=0;r.finishType==="PU matte"?ae=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?ae=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?ae=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(ae=s.finishOilRatePerM2),de=ee*ae}else if(r.veneerType==="HPL"||r.veneerType==="LPL"){const ae=ee/h;r.veneerType==="HPL"?ie=ae*s.hplRatePerSheet:ie=ae*s.lplRatePerSheet,de=0}const Z=2*(.4*.18)+2*(.3*.18),re=.4*.3,ce=r.drawersCount*Z/h,ve=r.drawersCount*re/h,R=ce*s.ply12RatePerSheet,K=ve*s.mdf10RatePerSheet,te=r.drawersCount*s.drawerRunnerRate;let se=2;r.heightCm>60&&r.heightCm<=120?se=3:r.heightCm>120&&r.heightCm<=200?se=4:r.heightCm>200&&r.heightCm<=300&&(se=5);const fe=r.doorsCount*se,pe=fe*s.doorHingeRate,Te=r.laborHours*s.laborRatePerHour,nt=P+z+$+R+K+te+ie+de+pe+r.accessoriesCost+r.overheadCost+Te,qe=nt*r.profitMargin/100,Tn=nt+qe,Je=[];if(D>0){let ae="MDF 16mm";r.bodyMaterial==="MDF21"?ae="MDF 21mm":r.bodyMaterial==="Blockboard18"?ae="Blockboard 18mm":r.bodyMaterial==="Ply18"?ae="Plywood 18mm":r.bodyMaterial==="Foamboard"&&(ae="Foamboard 18mm"),Je.push({name:`Cabinet body core (${ae})`,unit:"sheet",qty:parseFloat(D.toFixed(3))})}if(F>0&&Je.push({name:"Back (MDF 10mm)",unit:"sheet",qty:parseFloat(F.toFixed(3))}),V>0){let ae="MDF 16mm";r.faceMaterial==="MDF21"?ae="MDF 21mm":r.faceMaterial==="Blockboard18"?ae="Blockboard 18mm":r.faceMaterial==="Ply18"?ae="Plywood 18mm":r.faceMaterial==="Foamboard"&&(ae="Foamboard 18mm"),Je.push({name:`Face panel (${ae})`,unit:"sheet",qty:parseFloat(V.toFixed(3))})}if(r.drawersCount>0&&(Je.push({name:"Drawer boxes PLY 12mm",unit:"sheet",qty:parseFloat(ce.toFixed(3))}),Je.push({name:"Drawer bottoms MDF 10mm",unit:"sheet",qty:parseFloat(ve.toFixed(3))}),Je.push({name:"Drawer runners",unit:"pair",qty:r.drawersCount})),r.veneerType!=="None")if(r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech")Je.push({name:`Veneer (${r.veneerType})`,unit:"m",qty:parseFloat(ee.toFixed(2))}),Je.push({name:`Finish (${r.finishType})`,unit:"m",qty:parseFloat(ee.toFixed(2))});else{const ae=ee/h;Je.push({name:`Laminate (${r.veneerType})`,unit:"sheet",qty:parseFloat(ae.toFixed(3))})}fe>0&&Je.push({name:"Door hinges",unit:"pcs",qty:fe}),r.accessoriesCost>0&&Je.push({name:"Accessories (handles, screws, etc.)",unit:"EGP",qty:parseFloat(r.accessoriesCost.toFixed(0))}),r.overheadCost>0&&Je.push({name:"Overhead",unit:"EGP",qty:parseFloat(r.overheadCost.toFixed(0))}),Te>0&&Je.push({name:"Labor",unit:"EGP",qty:parseFloat(Te.toFixed(0))}),Je.push({name:"Profit",unit:"EGP",qty:parseFloat(qe.toFixed(0))});const Yi=()=>{const ae=[];let Rt="MDF 16mm";r.bodyMaterial==="MDF21"?Rt="MDF 21mm":r.bodyMaterial==="Blockboard18"?Rt="Blockboard 18mm":r.bodyMaterial==="Ply18"?Rt="Plywood 18mm":r.bodyMaterial==="Foamboard"&&(Rt="Foamboard 18mm"),ae.push(`Body: ${Rt}`),ae.push("Back: MDF 10mm");let qt="MDF 16mm";r.faceMaterial==="MDF21"?qt="MDF 21mm":r.faceMaterial==="Blockboard18"?qt="Blockboard 18mm":r.faceMaterial==="Ply18"?qt="Plywood 18mm":r.faceMaterial==="Foamboard"&&(qt="Foamboard 18mm"),ae.push(`Face: ${qt}`),ae.push(`Doors: ${r.doorsCount} pcs`),ae.push(`Shelves: ${r.shelvesCount} pcs`),ae.push(`Drawers: ${r.drawersCount} pcs`);let Cn="none";return r.veneerType==="Walnut"?Cn="Walnut veneer":r.veneerType==="Oak"?Cn="Oak veneer":r.veneerType==="Beech"?Cn="Beech veneer":r.veneerType==="HPL"?Cn="HPL laminate":r.veneerType==="LPL"&&(Cn="LPL laminate"),ae.push(`Facing: ${Cn}`),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"?ae.push(`Finish: ${r.finishType}`):r.veneerType==="None"?ae.push("Finish: none"):ae.push("Finish: integrated (HPL/LPL)"),ae.push(`Hinges: ${fe} pcs`),ae.join("  ")},Ms=()=>{const ae=Yi(),Rt=`${r.heightCm}${r.widthCm}${r.depthCm} cm`;t({price:Tn,description:ae,dimensions:Rt,materials:Je})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Cabinet Costing"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Width (cm)",type:"number",value:String(r.widthCm),onChange:ae=>c("widthCm",Number(ae||0))}),y.jsx(ne,{label:"Height (cm)",type:"number",value:String(r.heightCm),onChange:ae=>c("heightCm",Number(ae||0))}),y.jsx(ne,{label:"Depth (cm)",type:"number",value:String(r.depthCm),onChange:ae=>c("depthCm",Number(ae||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Body panel material"}),y.jsxs("select",{className:"input",value:r.bodyMaterial,onChange:ae=>c("bodyMaterial",ae.target.value),children:[y.jsx("option",{value:"MDF16",children:"MDF 16mm"}),y.jsx("option",{value:"MDF21",children:"MDF 21mm"}),y.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),y.jsx("option",{value:"Ply18",children:"Plywood 18mm"}),y.jsx("option",{value:"Foamboard",children:"Foamboard 18mm"})]}),y.jsx("span",{className:"field-hint",children:"Body panels (sides, top, bottom, dividers, shelves core)."})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Face panel material"}),y.jsxs("select",{className:"input",value:r.faceMaterial,onChange:ae=>c("faceMaterial",ae.target.value),children:[y.jsx("option",{value:"MDF16",children:"MDF 16mm"}),y.jsx("option",{value:"MDF21",children:"MDF 21mm"}),y.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),y.jsx("option",{value:"Ply18",children:"Plywood 18mm"}),y.jsx("option",{value:"Foamboard",children:"Foamboard 18mm"})]}),y.jsx("span",{className:"field-hint",children:"Face panel area is same as back (width  height)."})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Doors (pcs)",type:"number",value:String(r.doorsCount),onChange:ae=>c("doorsCount",Number(ae||0))}),y.jsx(ne,{label:"Shelves (pcs)",type:"number",value:String(r.shelvesCount),onChange:ae=>c("shelvesCount",Number(ae||0))}),y.jsx(ne,{label:"Drawers (pcs)",type:"number",value:String(r.drawersCount),onChange:ae=>c("drawersCount",Number(ae||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Facing / Veneer"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:ae=>c("veneerType",ae.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"}),y.jsx("option",{value:"HPL",children:"HPL"}),y.jsx("option",{value:"LPL",children:"LPL"})]})]}),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"?y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:ae=>c("finishType",ae.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]})]}):null,y.jsx(ne,{label:"Accessories (EGP)",type:"number",value:String(r.accessoriesCost),onChange:ae=>c("accessoriesCost",Number(ae||0))}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:ae=>c("overheadCost",Number(ae||0))}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:ae=>c("laborHours",Number(ae||0))}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:ae=>c("profitMargin",Number(ae||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Body area (approx): ",S.toFixed(2)," m"]}),y.jsxs("div",{children:["Shelves area: ",C.toFixed(2)," m"]}),y.jsxs("div",{children:["Core area total: ",O.toFixed(2)," m"]}),y.jsxs("div",{children:["Back area: ",w.toFixed(2)," m"]}),y.jsxs("div",{children:["Face area: ",k.toFixed(2)," m"]}),y.jsxs("div",{children:["Core sheets: ",D.toFixed(3)]}),y.jsxs("div",{children:["Back sheets: ",F.toFixed(3)]}),y.jsxs("div",{children:["Face sheets: ",V.toFixed(3)]}),y.jsxs("div",{children:["Body core cost: ",P.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Back cost: ",z.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Face cost: ",$.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer / laminate cost: ",ie.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",de.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Drawers PLY cost: ",R.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Drawers MDF cost: ",K.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Drawer runners: ",te.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Hinges cost: ",pe.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Accessories: ",r.accessoriesCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",Te.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",nt.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",r.profitMargin,"%): ",qe.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / cabinet: ",Tn.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:Ms,children:"Apply to Item"})]})]})}):null},ne=({label:i,value:e,onChange:t,type:s="text"})=>y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:i}),y.jsx("input",{className:"input",type:s,value:e,onChange:r=>t(r.target.value)})]});function pl(i){return i+.5|0}const Hi=(i,e,t)=>Math.max(Math.min(i,t),e);function $r(i){return Hi(pl(i*2.55),0,255)}function $i(i){return Hi(pl(i*255),0,255)}function ri(i){return Hi(pl(i/2.55)/100,0,1)}function Cb(i){return Hi(pl(i*100),0,100)}const fn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yd=[..."0123456789ABCDEF"],kC=i=>Yd[i&15],DC=i=>Yd[(i&240)>>4]+Yd[i&15],$o=i=>(i&240)>>4===(i&15),NC=i=>$o(i.r)&&$o(i.g)&&$o(i.b)&&$o(i.a);function PC(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&fn[i[1]]*17,g:255&fn[i[2]]*17,b:255&fn[i[3]]*17,a:e===5?fn[i[4]]*17:255}:(e===7||e===9)&&(t={r:fn[i[1]]<<4|fn[i[2]],g:fn[i[3]]<<4|fn[i[4]],b:fn[i[5]]<<4|fn[i[6]],a:e===9?fn[i[7]]<<4|fn[i[8]]:255})),t}const LC=(i,e)=>i<255?e(i):"";function zC(i){var e=NC(i)?kC:DC;return i?"#"+e(i.r)+e(i.g)+e(i.b)+LC(i.a,e):void 0}const BC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v_(i,e,t){const s=e*Math.min(t,1-t),r=(l,c=(l+i/30)%12)=>t-s*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function UC(i,e,t){const s=(r,l=(r+i/60)%6)=>t-t*e*Math.max(Math.min(l,4-l,1),0);return[s(5),s(3),s(1)]}function HC(i,e,t){const s=v_(i,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)s[r]*=1-e-t,s[r]+=e;return s}function FC(i,e,t,s,r){return i===r?(e-t)/s+(e<t?6:0):e===r?(t-i)/s+2:(i-e)/s+4}function yf(i){const t=i.r/255,s=i.g/255,r=i.b/255,l=Math.max(t,s,r),c=Math.min(t,s,r),h=(l+c)/2;let d,f,m;return l!==c&&(m=l-c,f=h>.5?m/(2-l-c):m/(l+c),d=FC(t,s,r,m,l),d=d*60+.5),[d|0,f||0,h]}function bf(i,e,t,s){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,s)).map($i)}function vf(i,e,t){return bf(v_,i,e,t)}function IC(i,e,t){return bf(HC,i,e,t)}function qC(i,e,t){return bf(UC,i,e,t)}function __(i){return(i%360+360)%360}function $C(i){const e=BC.exec(i);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?$r(+e[5]):$i(+e[5]));const r=__(+e[2]),l=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=IC(r,l,c):e[1]==="hsv"?s=qC(r,l,c):s=vf(r,l,c),{r:s[0],g:s[1],b:s[2],a:t}}function VC(i,e){var t=yf(i);t[0]=__(t[0]+e),t=vf(t),i.r=t[0],i.g=t[1],i.b=t[2]}function GC(i){if(!i)return;const e=yf(i),t=e[0],s=Cb(e[1]),r=Cb(e[2]);return i.a<255?`hsla(${t}, ${s}%, ${r}%, ${ri(i.a)})`:`hsl(${t}, ${s}%, ${r}%)`}const Ob={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ab={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function YC(){const i={},e=Object.keys(Ab),t=Object.keys(Ob);let s,r,l,c,h;for(s=0;s<e.length;s++){for(c=h=e[s],r=0;r<t.length;r++)l=t[r],h=h.replace(l,Ob[l]);l=parseInt(Ab[c],16),i[h]=[l>>16&255,l>>8&255,l&255]}return i}let Vo;function WC(i){Vo||(Vo=YC(),Vo.transparent=[0,0,0,0]);const e=Vo[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const KC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XC(i){const e=KC.exec(i);let t=255,s,r,l;if(e){if(e[7]!==s){const c=+e[7];t=e[8]?$r(c):Hi(c*255,0,255)}return s=+e[1],r=+e[3],l=+e[5],s=255&(e[2]?$r(s):Hi(s,0,255)),r=255&(e[4]?$r(r):Hi(r,0,255)),l=255&(e[6]?$r(l):Hi(l,0,255)),{r:s,g:r,b:l,a:t}}}function QC(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ri(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const md=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,_a=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function JC(i,e,t){const s=_a(ri(i.r)),r=_a(ri(i.g)),l=_a(ri(i.b));return{r:$i(md(s+t*(_a(ri(e.r))-s))),g:$i(md(r+t*(_a(ri(e.g))-r))),b:$i(md(l+t*(_a(ri(e.b))-l))),a:i.a+t*(e.a-i.a)}}function Go(i,e,t){if(i){let s=yf(i);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=vf(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function x_(i,e){return i&&Object.assign(e||{},i)}function jb(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=$i(i[3]))):(e=x_(i,{r:0,g:0,b:0,a:1}),e.a=$i(e.a)),e}function ZC(i){return i.charAt(0)==="r"?XC(i):$C(i)}class tl{constructor(e){if(e instanceof tl)return e;const t=typeof e;let s;t==="object"?s=jb(e):t==="string"&&(s=PC(e)||WC(e)||ZC(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=x_(this._rgb);return e&&(e.a=ri(e.a)),e}set rgb(e){this._rgb=jb(e)}rgbString(){return this._valid?QC(this._rgb):void 0}hexString(){return this._valid?zC(this._rgb):void 0}hslString(){return this._valid?GC(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,r=e.rgb;let l;const c=t===l?.5:t,h=2*c-1,d=s.a-r.a,f=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;l=1-f,s.r=255&f*s.r+l*r.r+.5,s.g=255&f*s.g+l*r.g+.5,s.b=255&f*s.b+l*r.b+.5,s.a=c*s.a+(1-c)*r.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=JC(this._rgb,e._rgb,t)),this}clone(){return new tl(this.rgb)}alpha(e){return this._rgb.a=$i(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=pl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Go(this._rgb,2,e),this}darken(e){return Go(this._rgb,2,-e),this}saturate(e){return Go(this._rgb,1,e),this}desaturate(e){return Go(this._rgb,1,-e),this}rotate(e){return VC(this._rgb,e),this}}function ii(){}const eO=(()=>{let i=0;return()=>i++})();function Pe(i){return i==null}function gt(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Me(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function pn(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Mn(i,e){return pn(i)?i:e}function we(i,e){return typeof i>"u"?e:i}const tO=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,S_=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function We(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function Be(i,e,t,s){let r,l,c;if(gt(i))for(l=i.length,r=0;r<l;r++)e.call(t,i[r],r);else if(Me(i))for(c=Object.keys(i),l=c.length,r=0;r<l;r++)e.call(t,i[c[r]],c[r])}function Ec(i,e){let t,s,r,l;if(!i||!e||i.length!==e.length)return!1;for(t=0,s=i.length;t<s;++t)if(r=i[t],l=e[t],r.datasetIndex!==l.datasetIndex||r.index!==l.index)return!1;return!0}function Tc(i){if(gt(i))return i.map(Tc);if(Me(i)){const e=Object.create(null),t=Object.keys(i),s=t.length;let r=0;for(;r<s;++r)e[t[r]]=Tc(i[t[r]]);return e}return i}function w_(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function nO(i,e,t,s){if(!w_(i))return;const r=e[i],l=t[i];Me(r)&&Me(l)?nl(r,l,s):e[i]=Tc(l)}function nl(i,e,t){const s=gt(e)?e:[e],r=s.length;if(!Me(i))return i;t=t||{};const l=t.merger||nO;let c;for(let h=0;h<r;++h){if(c=s[h],!Me(c))continue;const d=Object.keys(c);for(let f=0,m=d.length;f<m;++f)l(d[f],i,c,t)}return i}function Wr(i,e){return nl(i,e,{merger:iO})}function iO(i,e,t){if(!w_(i))return;const s=e[i],r=t[i];Me(s)&&Me(r)?Wr(s,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Tc(r))}const Rb={"":i=>i,x:i=>i.x,y:i=>i.y};function sO(i){const e=i.split("."),t=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function aO(i){const e=sO(i);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function As(i,e){return(Rb[e]||(Rb[e]=aO(e)))(i)}function _f(i){return i.charAt(0).toUpperCase()+i.slice(1)}const il=i=>typeof i<"u",Vi=i=>typeof i=="function",Mb=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function rO(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const Ue=Math.PI,tt=2*Ue,lO=tt+Ue,Cc=Number.POSITIVE_INFINITY,oO=Ue/180,pt=Ue/2,ps=Ue/4,kb=Ue*2/3,E_=Math.log10,Pn=Math.sign;function Kr(i,e,t){return Math.abs(i-e)<t}function Db(i){const e=Math.round(i);i=Kr(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(E_(i))),s=i/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function cO(i){const e=[],t=Math.sqrt(i);let s;for(s=1;s<t;s++)i%s===0&&(e.push(s),e.push(i/s));return t===(t|0)&&e.push(t),e.sort((r,l)=>r-l).pop(),e}function uO(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function sl(i){return!uO(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function hO(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function dO(i,e,t){let s,r,l;for(s=0,r=i.length;s<r;s++)l=i[s][t],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function li(i){return i*(Ue/180)}function fO(i){return i*(180/Ue)}function Nb(i){if(!pn(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function T_(i,e){const t=e.x-i.x,s=e.y-i.y,r=Math.sqrt(t*t+s*s);let l=Math.atan2(s,t);return l<-.5*Ue&&(l+=tt),{angle:l,distance:r}}function Wd(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function gO(i,e){return(i-e+lO)%tt-Ue}function wn(i){return(i%tt+tt)%tt}function al(i,e,t,s){const r=wn(i),l=wn(e),c=wn(t),h=wn(l-r),d=wn(c-r),f=wn(r-l),m=wn(r-c);return r===l||r===c||s&&l===c||h>d&&f<m}function At(i,e,t){return Math.max(e,Math.min(t,i))}function pO(i){return At(i,-32768,32767)}function Fi(i,e,t,s=1e-6){return i>=Math.min(e,t)-s&&i<=Math.max(e,t)+s}function xf(i,e,t){t=t||(c=>i[c]<e);let s=i.length-1,r=0,l;for(;s-r>1;)l=r+s>>1,t(l)?r=l:s=l;return{lo:r,hi:s}}const Cs=(i,e,t,s)=>xf(i,t,s?r=>{const l=i[r][e];return l<t||l===t&&i[r+1][e]===t}:r=>i[r][e]<t),mO=(i,e,t)=>xf(i,t,s=>i[s][e]>=t);function yO(i,e,t){let s=0,r=i.length;for(;s<r&&i[s]<e;)s++;for(;r>s&&i[r-1]>t;)r--;return s>0||r<i.length?i.slice(s,r):i}const C_=["push","pop","shift","splice","unshift"];function bO(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),C_.forEach(t=>{const s="_onData"+_f(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...l){const c=r.apply(this,l);return i._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...l)}),c}})})}function Pb(i,e){const t=i._chartjs;if(!t)return;const s=t.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(C_.forEach(l=>{delete i[l]}),delete i._chartjs)}function O_(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const A_=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function j_(i,e){let t=[],s=!1;return function(...r){t=r,s||(s=!0,A_.call(window,()=>{s=!1,i.apply(e,t)}))}}function vO(i,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(i,e,s)):i.apply(this,s),e}}const Sf=i=>i==="start"?"left":i==="end"?"right":"center",Ot=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,_O=(i,e,t,s)=>i===(s?"left":"right")?t:i==="center"?(e+t)/2:e;function xO(i,e,t){const s=e.length;let r=0,l=s;if(i._sorted){const{iScale:c,vScale:h,_parsed:d}=i,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,m=c.axis,{min:b,max:v,minDefined:x,maxDefined:S}=c.getUserBounds();if(x){if(r=Math.min(Cs(d,m,b).lo,t?s:Cs(e,m,c.getPixelForValue(b)).lo),f){const w=d.slice(0,r+1).reverse().findIndex(E=>!Pe(E[h.axis]));r-=Math.max(0,w)}r=At(r,0,s-1)}if(S){let w=Math.max(Cs(d,c.axis,v,!0).hi+1,t?0:Cs(e,m,c.getPixelForValue(v),!0).hi+1);if(f){const E=d.slice(w-1).findIndex(C=>!Pe(C[h.axis]));w+=Math.max(0,E)}l=At(w,r,s)-r}else l=s-r}return{start:r,count:l}}function SO(i){const{xScale:e,yScale:t,_scaleRanges:s}=i,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return i._scaleRanges=r,!0;const l=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,r),l}const Yo=i=>i===0||i===1,Lb=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*tt/t)),zb=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*tt/t)+1,Xr={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*pt)+1,easeOutSine:i=>Math.sin(i*pt),easeInOutSine:i=>-.5*(Math.cos(Ue*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Yo(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Yo(i)?i:Lb(i,.075,.3),easeOutElastic:i=>Yo(i)?i:zb(i,.075,.3),easeInOutElastic(i){return Yo(i)?i:i<.5?.5*Lb(i*2,.1125,.45):.5+.5*zb(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-Xr.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Xr.easeInBounce(i*2)*.5:Xr.easeOutBounce(i*2-1)*.5+.5};function wf(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bb(i){return wf(i)?i:new tl(i)}function yd(i){return wf(i)?i:new tl(i).saturate(.5).darken(.1).hexString()}const wO=["x","y","borderWidth","radius","tension"],EO=["color","borderColor","backgroundColor"];function TO(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:EO},numbers:{type:"number",properties:wO}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function CO(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ub=new Map;function OO(i,e){e=e||{};const t=i+JSON.stringify(e);let s=Ub.get(t);return s||(s=new Intl.NumberFormat(i,e),Ub.set(t,s)),s}function Ef(i,e,t){return OO(e,t).format(i)}const AO={values(i){return gt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const s=this.chart.options.locale;let r,l=i;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),l=jO(i,t)}const c=E_(Math.abs(l)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),Ef(i,s,d)}};function jO(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var R_={formatters:AO};function RO(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:R_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const js=Object.create(null),Kd=Object.create(null);function Qr(i,e){if(!e)return i;const t=e.split(".");for(let s=0,r=t.length;s<r;++s){const l=t[s];i=i[l]||(i[l]=Object.create(null))}return i}function bd(i,e,t){return typeof e=="string"?nl(Qr(i,e),t):nl(Qr(i,""),e)}class MO{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>yd(r.backgroundColor),this.hoverBorderColor=(s,r)=>yd(r.borderColor),this.hoverColor=(s,r)=>yd(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return bd(this,e,t)}get(e){return Qr(this,e)}describe(e,t){return bd(Kd,e,t)}override(e,t){return bd(js,e,t)}route(e,t,s,r){const l=Qr(this,e),c=Qr(this,s),h="_"+t;Object.defineProperties(l,{[h]:{value:l[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[h],f=c[r];return Me(d)?Object.assign({},f,d):we(d,f)},set(d){this[h]=d}}})}apply(e){e.forEach(t=>t(this))}}var at=new MO({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[TO,CO,RO]);function kO(i){return!i||Pe(i.size)||Pe(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Hb(i,e,t,s,r){let l=e[r];return l||(l=e[r]=i.measureText(r).width,t.push(r)),l>s&&(s=l),s}function ms(i,e,t){const s=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*s)/s+r}function Fb(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function Xd(i,e,t,s){M_(i,e,t,s,null)}function M_(i,e,t,s,r){let l,c,h,d,f,m,b,v;const x=e.pointStyle,S=e.rotation,w=e.radius;let E=(S||0)*oO;if(x&&typeof x=="object"&&(l=x.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){i.save(),i.translate(t,s),i.rotate(E),i.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),i.restore();return}if(!(isNaN(w)||w<=0)){switch(i.beginPath(),x){default:r?i.ellipse(t,s,r/2,w,0,0,tt):i.arc(t,s,w,0,tt),i.closePath();break;case"triangle":m=r?r/2:w,i.moveTo(t+Math.sin(E)*m,s-Math.cos(E)*w),E+=kb,i.lineTo(t+Math.sin(E)*m,s-Math.cos(E)*w),E+=kb,i.lineTo(t+Math.sin(E)*m,s-Math.cos(E)*w),i.closePath();break;case"rectRounded":f=w*.516,d=w-f,c=Math.cos(E+ps)*d,b=Math.cos(E+ps)*(r?r/2-f:d),h=Math.sin(E+ps)*d,v=Math.sin(E+ps)*(r?r/2-f:d),i.arc(t-b,s-h,f,E-Ue,E-pt),i.arc(t+v,s-c,f,E-pt,E),i.arc(t+b,s+h,f,E,E+pt),i.arc(t-v,s+c,f,E+pt,E+Ue),i.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*w,m=r?r/2:d,i.rect(t-m,s-d,2*m,2*d);break}E+=ps;case"rectRot":b=Math.cos(E)*(r?r/2:w),c=Math.cos(E)*w,h=Math.sin(E)*w,v=Math.sin(E)*(r?r/2:w),i.moveTo(t-b,s-h),i.lineTo(t+v,s-c),i.lineTo(t+b,s+h),i.lineTo(t-v,s+c),i.closePath();break;case"crossRot":E+=ps;case"cross":b=Math.cos(E)*(r?r/2:w),c=Math.cos(E)*w,h=Math.sin(E)*w,v=Math.sin(E)*(r?r/2:w),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c);break;case"star":b=Math.cos(E)*(r?r/2:w),c=Math.cos(E)*w,h=Math.sin(E)*w,v=Math.sin(E)*(r?r/2:w),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c),E+=ps,b=Math.cos(E)*(r?r/2:w),c=Math.cos(E)*w,h=Math.sin(E)*w,v=Math.sin(E)*(r?r/2:w),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c);break;case"line":c=r?r/2:Math.cos(E)*w,h=Math.sin(E)*w,i.moveTo(t-c,s-h),i.lineTo(t+c,s+h);break;case"dash":i.moveTo(t,s),i.lineTo(t+Math.cos(E)*(r?r/2:w),s+Math.sin(E)*w);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function rl(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function Tf(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Cf(i){i.restore()}function DO(i,e,t,s,r){if(!e)return i.lineTo(t.x,t.y);if(r==="middle"){const l=(e.x+t.x)/2;i.lineTo(l,e.y),i.lineTo(l,t.y)}else r==="after"!=!!s?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function NO(i,e,t,s){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function PO(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),Pe(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function LO(i,e,t,s,r){if(r.strikethrough||r.underline){const l=i.measureText(s),c=e-l.actualBoundingBoxLeft,h=e+l.actualBoundingBoxRight,d=t-l.actualBoundingBoxAscent,f=t+l.actualBoundingBoxDescent,m=r.strikethrough?(d+f)/2:f;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(c,m),i.lineTo(h,m),i.stroke()}}function zO(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function ll(i,e,t,s,r,l={}){const c=gt(e)?e:[e],h=l.strokeWidth>0&&l.strokeColor!=="";let d,f;for(i.save(),i.font=r.string,PO(i,l),d=0;d<c.length;++d)f=c[d],l.backdrop&&zO(i,l.backdrop),h&&(l.strokeColor&&(i.strokeStyle=l.strokeColor),Pe(l.strokeWidth)||(i.lineWidth=l.strokeWidth),i.strokeText(f,t,s,l.maxWidth)),i.fillText(f,t,s,l.maxWidth),LO(i,t,s,f,l),s+=Number(r.lineHeight);i.restore()}function Oc(i,e){const{x:t,y:s,w:r,h:l,radius:c}=e;i.arc(t+c.topLeft,s+c.topLeft,c.topLeft,1.5*Ue,Ue,!0),i.lineTo(t,s+l-c.bottomLeft),i.arc(t+c.bottomLeft,s+l-c.bottomLeft,c.bottomLeft,Ue,pt,!0),i.lineTo(t+r-c.bottomRight,s+l),i.arc(t+r-c.bottomRight,s+l-c.bottomRight,c.bottomRight,pt,0,!0),i.lineTo(t+r,s+c.topRight),i.arc(t+r-c.topRight,s+c.topRight,c.topRight,0,-pt,!0),i.lineTo(t+c.topLeft,s)}const BO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,UO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function HO(i,e){const t=(""+i).match(BO);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const FO=i=>+i||0;function Of(i,e){const t={},s=Me(e),r=s?Object.keys(e):e,l=Me(i)?s?c=>we(i[c],i[e[c]]):c=>i[c]:()=>i;for(const c of r)t[c]=FO(l(c));return t}function k_(i){return Of(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Ca(i){return Of(i,["topLeft","topRight","bottomLeft","bottomRight"])}function mn(i){const e=k_(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function jt(i,e){i=i||{},e=e||at.font;let t=we(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=we(i.style,e.style);s&&!(""+s).match(UO)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:we(i.family,e.family),lineHeight:HO(we(i.lineHeight,e.lineHeight),t),size:t,style:s,weight:we(i.weight,e.weight),string:""};return r.string=kO(r),r}function Wo(i,e,t,s){let r,l,c;for(r=0,l=i.length;r<l;++r)if(c=i[r],c!==void 0&&c!==void 0)return c}function IO(i,e,t){const{min:s,max:r}=i,l=S_(e,(r-s)/2),c=(h,d)=>t&&h===0?0:h+d;return{min:c(s,-Math.abs(l)),max:c(r,l)}}function Rs(i,e){return Object.assign(Object.create(i),e)}function Af(i,e=[""],t,s,r=()=>i[0]){const l=t||i;typeof s>"u"&&(s=L_("_fallback",i));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:l,_fallback:s,_getTarget:r,override:h=>Af([h,...i],e,l,s)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete i[0][d],!0},get(h,d){return N_(h,d,()=>XO(d,e,i,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,d){return qb(h).includes(d)},ownKeys(h){return qb(h)},set(h,d,f){const m=h._storage||(h._storage=r());return h[d]=m[d]=f,delete h._keys,!0}})}function Ra(i,e,t,s){const r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:D_(i,s),setContext:l=>Ra(i,l,t,s),override:l=>Ra(i.override(l),e,t,s)};return new Proxy(r,{deleteProperty(l,c){return delete l[c],delete i[c],!0},get(l,c,h){return N_(l,c,()=>$O(l,c,h))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(i,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,c)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(l,c){return Reflect.has(i,c)},ownKeys(){return Reflect.ownKeys(i)},set(l,c,h){return i[c]=h,delete l[c],!0}})}function D_(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:s,isScriptable:Vi(t)?t:()=>t,isIndexable:Vi(s)?s:()=>s}}const qO=(i,e)=>i?i+_f(e):e,jf=(i,e)=>Me(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function N_(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const s=t();return i[e]=s,s}function $O(i,e,t){const{_proxy:s,_context:r,_subProxy:l,_descriptors:c}=i;let h=s[e];return Vi(h)&&c.isScriptable(e)&&(h=VO(e,h,i,t)),gt(h)&&h.length&&(h=GO(e,h,i,c.isIndexable)),jf(e,h)&&(h=Ra(h,r,l&&l[e],c)),h}function VO(i,e,t,s){const{_proxy:r,_context:l,_subProxy:c,_stack:h}=t;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let d=e(l,c||s);return h.delete(i),jf(i,d)&&(d=Rf(r._scopes,r,i,d)),d}function GO(i,e,t,s){const{_proxy:r,_context:l,_subProxy:c,_descriptors:h}=t;if(typeof l.index<"u"&&s(i))return e[l.index%e.length];if(Me(e[0])){const d=e,f=r._scopes.filter(m=>m!==d);e=[];for(const m of d){const b=Rf(f,r,i,m);e.push(Ra(b,l,c&&c[i],h))}}return e}function P_(i,e,t){return Vi(i)?i(e,t):i}const YO=(i,e)=>i===!0?e:typeof i=="string"?As(e,i):void 0;function WO(i,e,t,s,r){for(const l of e){const c=YO(t,l);if(c){i.add(c);const h=P_(c._fallback,t,r);if(typeof h<"u"&&h!==t&&h!==s)return h}else if(c===!1&&typeof s<"u"&&t!==s)return null}return!1}function Rf(i,e,t,s){const r=e._rootScopes,l=P_(e._fallback,t,s),c=[...i,...r],h=new Set;h.add(s);let d=Ib(h,c,t,l||t,s);return d===null||typeof l<"u"&&l!==t&&(d=Ib(h,c,l,d,s),d===null)?!1:Af(Array.from(h),[""],r,l,()=>KO(e,t,s))}function Ib(i,e,t,s,r){for(;t;)t=WO(i,e,t,s,r);return t}function KO(i,e,t){const s=i._getTarget();e in s||(s[e]={});const r=s[e];return gt(r)&&Me(t)?t:r||{}}function XO(i,e,t,s){let r;for(const l of e)if(r=L_(qO(l,i),t),typeof r<"u")return jf(i,r)?Rf(t,s,i,r):r}function L_(i,e){for(const t of e){if(!t)continue;const s=t[i];if(typeof s<"u")return s}}function qb(i){let e=i._keys;return e||(e=i._keys=QO(i._scopes)),e}function QO(i){const e=new Set;for(const t of i)for(const s of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const JO=Number.EPSILON||1e-14,Ma=(i,e)=>e<i.length&&!i[e].skip&&i[e],z_=i=>i==="x"?"y":"x";function ZO(i,e,t,s){const r=i.skip?e:i,l=e,c=t.skip?e:t,h=Wd(l,r),d=Wd(c,l);let f=h/(h+d),m=d/(h+d);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const b=s*f,v=s*m;return{previous:{x:l.x-b*(c.x-r.x),y:l.y-b*(c.y-r.y)},next:{x:l.x+v*(c.x-r.x),y:l.y+v*(c.y-r.y)}}}function eA(i,e,t){const s=i.length;let r,l,c,h,d,f=Ma(i,0);for(let m=0;m<s-1;++m)if(d=f,f=Ma(i,m+1),!(!d||!f)){if(Kr(e[m],0,JO)){t[m]=t[m+1]=0;continue}r=t[m]/e[m],l=t[m+1]/e[m],h=Math.pow(r,2)+Math.pow(l,2),!(h<=9)&&(c=3/Math.sqrt(h),t[m]=r*c*e[m],t[m+1]=l*c*e[m])}}function tA(i,e,t="x"){const s=z_(t),r=i.length;let l,c,h,d=Ma(i,0);for(let f=0;f<r;++f){if(c=h,h=d,d=Ma(i,f+1),!h)continue;const m=h[t],b=h[s];c&&(l=(m-c[t])/3,h[`cp1${t}`]=m-l,h[`cp1${s}`]=b-l*e[f]),d&&(l=(d[t]-m)/3,h[`cp2${t}`]=m+l,h[`cp2${s}`]=b+l*e[f])}}function nA(i,e="x"){const t=z_(e),s=i.length,r=Array(s).fill(0),l=Array(s);let c,h,d,f=Ma(i,0);for(c=0;c<s;++c)if(h=d,d=f,f=Ma(i,c+1),!!d){if(f){const m=f[e]-d[e];r[c]=m!==0?(f[t]-d[t])/m:0}l[c]=h?f?Pn(r[c-1])!==Pn(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}eA(i,r,l),tA(i,l,e)}function Ko(i,e,t){return Math.max(Math.min(i,t),e)}function iA(i,e){let t,s,r,l,c,h=rl(i[0],e);for(t=0,s=i.length;t<s;++t)c=l,l=h,h=t<s-1&&rl(i[t+1],e),l&&(r=i[t],c&&(r.cp1x=Ko(r.cp1x,e.left,e.right),r.cp1y=Ko(r.cp1y,e.top,e.bottom)),h&&(r.cp2x=Ko(r.cp2x,e.left,e.right),r.cp2y=Ko(r.cp2y,e.top,e.bottom)))}function sA(i,e,t,s,r){let l,c,h,d;if(e.spanGaps&&(i=i.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")nA(i,r);else{let f=s?i[i.length-1]:i[0];for(l=0,c=i.length;l<c;++l)h=i[l],d=ZO(f,h,i[Math.min(l+1,c-(s?0:1))%c],e.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,f=h}e.capBezierPoints&&iA(i,t)}function Mf(){return typeof window<"u"&&typeof document<"u"}function kf(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ac(i,e,t){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=i,s}const zc=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function aA(i,e){return zc(i).getPropertyValue(e)}const rA=["top","right","bottom","left"];function Os(i,e,t){const s={};t=t?"-"+t:"";for(let r=0;r<4;r++){const l=rA[r];s[l]=parseFloat(i[e+"-"+l+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const lA=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function oA(i,e){const t=i.touches,s=t&&t.length?t[0]:i,{offsetX:r,offsetY:l}=s;let c=!1,h,d;if(lA(r,l,i.target))h=r,d=l;else{const f=e.getBoundingClientRect();h=s.clientX-f.left,d=s.clientY-f.top,c=!0}return{x:h,y:d,box:c}}function xs(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:s}=e,r=zc(t),l=r.boxSizing==="border-box",c=Os(r,"padding"),h=Os(r,"border","width"),{x:d,y:f,box:m}=oA(i,t),b=c.left+(m&&h.left),v=c.top+(m&&h.top);let{width:x,height:S}=e;return l&&(x-=c.width+h.width,S-=c.height+h.height),{x:Math.round((d-b)/x*t.width/s),y:Math.round((f-v)/S*t.height/s)}}function cA(i,e,t){let s,r;if(e===void 0||t===void 0){const l=i&&kf(i);if(!l)e=i.clientWidth,t=i.clientHeight;else{const c=l.getBoundingClientRect(),h=zc(l),d=Os(h,"border","width"),f=Os(h,"padding");e=c.width-f.width-d.width,t=c.height-f.height-d.height,s=Ac(h.maxWidth,l,"clientWidth"),r=Ac(h.maxHeight,l,"clientHeight")}}return{width:e,height:t,maxWidth:s||Cc,maxHeight:r||Cc}}const Ii=i=>Math.round(i*10)/10;function uA(i,e,t,s){const r=zc(i),l=Os(r,"margin"),c=Ac(r.maxWidth,i,"clientWidth")||Cc,h=Ac(r.maxHeight,i,"clientHeight")||Cc,d=cA(i,e,t);let{width:f,height:m}=d;if(r.boxSizing==="content-box"){const v=Os(r,"border","width"),x=Os(r,"padding");f-=x.width+v.width,m-=x.height+v.height}return f=Math.max(0,f-l.width),m=Math.max(0,s?f/s:m-l.height),f=Ii(Math.min(f,c,d.maxWidth)),m=Ii(Math.min(m,h,d.maxHeight)),f&&!m&&(m=Ii(f/2)),(e!==void 0||t!==void 0)&&s&&d.height&&m>d.height&&(m=d.height,f=Ii(Math.floor(m*s))),{width:f,height:m}}function $b(i,e,t){const s=e||1,r=Ii(i.height*s),l=Ii(i.width*s);i.height=Ii(i.height),i.width=Ii(i.width);const c=i.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${i.height}px`,c.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||c.height!==r||c.width!==l?(i.currentDevicePixelRatio=s,c.height=r,c.width=l,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const hA=(function(){let i=!1;try{const e={get passive(){return i=!0,!1}};Mf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i})();function Vb(i,e){const t=aA(i,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ss(i,e,t,s){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function dA(i,e,t,s){return{x:i.x+t*(e.x-i.x),y:s==="middle"?t<.5?i.y:e.y:s==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function fA(i,e,t,s){const r={x:i.cp2x,y:i.cp2y},l={x:e.cp1x,y:e.cp1y},c=Ss(i,r,t),h=Ss(r,l,t),d=Ss(l,e,t),f=Ss(c,h,t),m=Ss(h,d,t);return Ss(f,m,t)}const gA=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},pA=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function Oa(i,e,t){return i?gA(e,t):pA()}function B_(i,e){let t,s;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=s)}function U_(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function H_(i){return i==="angle"?{between:al,compare:gO,normalize:wn}:{between:Fi,compare:(e,t)=>e-t,normalize:e=>e}}function Gb({start:i,end:e,count:t,loop:s,style:r}){return{start:i%t,end:e%t,loop:s&&(e-i+1)%t===0,style:r}}function mA(i,e,t){const{property:s,start:r,end:l}=t,{between:c,normalize:h}=H_(s),d=e.length;let{start:f,end:m,loop:b}=i,v,x;if(b){for(f+=d,m+=d,v=0,x=d;v<x&&c(h(e[f%d][s]),r,l);++v)f--,m--;f%=d,m%=d}return m<f&&(m+=d),{start:f,end:m,loop:b,style:i.style}}function yA(i,e,t){if(!t)return[i];const{property:s,start:r,end:l}=t,c=e.length,{compare:h,between:d,normalize:f}=H_(s),{start:m,end:b,loop:v,style:x}=mA(i,e,t),S=[];let w=!1,E=null,C,O,A;const D=()=>d(r,A,C)&&h(r,A)!==0,P=()=>h(l,C)===0||d(l,A,C),F=()=>w||D(),z=()=>!w||P();for(let k=m,Y=m;k<=b;++k)O=e[k%c],!O.skip&&(C=f(O[s]),C!==A&&(w=d(C,r,l),E===null&&F()&&(E=h(C,r)===0?k:Y),E!==null&&z()&&(S.push(Gb({start:E,end:k,loop:v,count:c,style:x})),E=null),Y=k,A=C));return E!==null&&S.push(Gb({start:E,end:b,loop:v,count:c,style:x})),S}function bA(i,e){const t=[],s=i.segments;for(let r=0;r<s.length;r++){const l=yA(s[r],i.points,e);l.length&&t.push(...l)}return t}function vA(i,e,t,s){let r=0,l=e-1;if(t&&!s)for(;r<e&&!i[r].skip;)r++;for(;r<e&&i[r].skip;)r++;for(r%=e,t&&(l+=r);l>r&&i[l%e].skip;)l--;return l%=e,{start:r,end:l}}function _A(i,e,t,s){const r=i.length,l=[];let c=e,h=i[e],d;for(d=e+1;d<=t;++d){const f=i[d%r];f.skip||f.stop?h.skip||(s=!1,l.push({start:e%r,end:(d-1)%r,loop:s}),e=c=f.stop?d:null):(c=d,h.skip&&(e=d)),h=f}return c!==null&&l.push({start:e%r,end:c%r,loop:s}),l}function xA(i,e){const t=i.points,s=i.options.spanGaps,r=t.length;if(!r)return[];const l=!!i._loop,{start:c,end:h}=vA(t,r,l,s);if(s===!0)return Yb(i,[{start:c,end:h,loop:l}],t,e);const d=h<c?h+r:h,f=!!i._fullLoop&&c===0&&h===r-1;return Yb(i,_A(t,c,d,f),t,e)}function Yb(i,e,t,s){return!s||!s.setContext||!t?e:SA(i,e,t,s)}function SA(i,e,t,s){const r=i._chart.getContext(),l=Wb(i.options),{_datasetIndex:c,options:{spanGaps:h}}=i,d=t.length,f=[];let m=l,b=e[0].start,v=b;function x(S,w,E,C){const O=h?-1:1;if(S!==w){for(S+=d;t[S%d].skip;)S-=O;for(;t[w%d].skip;)w+=O;S%d!==w%d&&(f.push({start:S%d,end:w%d,loop:E,style:C}),m=C,b=w%d)}}for(const S of e){b=h?b:S.start;let w=t[b%d],E;for(v=b+1;v<=S.end;v++){const C=t[v%d];E=Wb(s.setContext(Rs(r,{type:"segment",p0:w,p1:C,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:c}))),wA(E,m)&&x(b,v-1,S.loop,m),w=C,m=E}b<v-1&&x(b,v-1,S.loop,m)}return f}function Wb(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function wA(i,e){if(!e)return!1;const t=[],s=function(r,l){return wf(l)?(t.includes(l)||t.push(l),t.indexOf(l)):l};return JSON.stringify(i,s)!==JSON.stringify(e,s)}function Xo(i,e,t){return i.options.clip?i[t]:e[t]}function EA(i,e){const{xScale:t,yScale:s}=i;return t&&s?{left:Xo(t,e,"left"),right:Xo(t,e,"right"),top:Xo(s,e,"top"),bottom:Xo(s,e,"bottom")}:e}function TA(i,e){const t=e._clip;if(t.disabled)return!1;const s=EA(e,i.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?i.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?i.height:s.bottom+(t.bottom===!0?0:t.bottom)}}class CA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,r){const l=t.listeners[r],c=t.duration;l.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(s-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=A_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const l=s.items;let c=l.length-1,h=!1,d;for(;c>=0;--c)d=l[c],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(e),h=!0):(l[c]=l[l.length-1],l.pop());h&&(r.draw(),this._notify(r,s,e,"progress")),l.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),t+=l.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var si=new CA;const Kb="transparent",OA={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const s=Bb(i||Kb),r=s.valid&&Bb(e||Kb);return r&&r.valid?r.mix(s,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class AA{constructor(e,t,s,r){const l=t[s];r=Wo([e.to,r,l,e.from]);const c=Wo([e.from,l,r]);this._active=!0,this._fn=e.fn||OA[e.type||typeof c],this._easing=Xr[e.easing]||Xr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const r=this._target[this._prop],l=s-this._start,c=this._duration-l;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=Wo([e.to,t,r,e.from]),this._from=Wo([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,r=this._prop,l=this._from,c=this._loop,h=this._to;let d;if(this._active=l!==h&&(c||t<s),!this._active){this._target[r]=h,this._notify(!0);return}if(t<0){this._target[r]=l;return}d=t/s%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(l,h,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][t]()}}class F_{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Me(e))return;const t=Object.keys(at.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const l=e[r];if(!Me(l))return;const c={};for(const h of t)c[h]=l[h];(gt(l.properties)&&l.properties||[r]).forEach(h=>{(h===r||!s.has(h))&&s.set(h,c)})})}_animateOptions(e,t){const s=t.options,r=RA(e,s);if(!r)return[];const l=this._createAnimations(r,s);return s.$shared&&jA(e.options.$animations,s).then(()=>{e.options=s},()=>{}),l}_createAnimations(e,t){const s=this._properties,r=[],l=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const f=c[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const m=t[f];let b=l[f];const v=s.get(f);if(b)if(v&&b.active()){b.update(v,m,h);continue}else b.cancel();if(!v||!v.duration){e[f]=m;continue}l[f]=b=new AA(v,e,f,m),r.push(b)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return si.add(this._chart,s),!0}}function jA(i,e){const t=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const l=i[s[r]];l&&l.active()&&t.push(l.wait())}return Promise.all(t)}function RA(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Xb(i,e){const t=i&&i.options||{},s=t.reverse,r=t.min===void 0?e:0,l=t.max===void 0?e:0;return{start:s?l:r,end:s?r:l}}function MA(i,e,t){if(t===!1)return!1;const s=Xb(i,t),r=Xb(e,t);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function kA(i){let e,t,s,r;return Me(i)?(e=i.top,t=i.right,s=i.bottom,r=i.left):e=t=s=r=i,{top:e,right:t,bottom:s,left:r,disabled:i===!1}}function I_(i,e){const t=[],s=i._getSortedDatasetMetas(e);let r,l;for(r=0,l=s.length;r<l;++r)t.push(s[r].index);return t}function Qb(i,e,t,s={}){const r=i.keys,l=s.mode==="single";let c,h,d,f;if(e===null)return;let m=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===t){if(m=!0,s.all)continue;break}f=i.values[d],pn(f)&&(l||e===0||Pn(e)===Pn(f))&&(e+=f)}return!m&&!s.all?0:e}function DA(i,e){const{iScale:t,vScale:s}=e,r=t.axis==="x"?"x":"y",l=s.axis==="x"?"x":"y",c=Object.keys(i),h=new Array(c.length);let d,f,m;for(d=0,f=c.length;d<f;++d)m=c[d],h[d]={[r]:m,[l]:i[m]};return h}function vd(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function NA(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function PA(i){const{min:e,max:t,minDefined:s,maxDefined:r}=i.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function LA(i,e,t){const s=i[e]||(i[e]={});return s[t]||(s[t]={})}function Jb(i,e,t,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const l=i[r.index];if(t&&l>0||!t&&l<0)return r.index}return null}function Zb(i,e){const{chart:t,_cachedMeta:s}=i,r=t._stacks||(t._stacks={}),{iScale:l,vScale:c,index:h}=s,d=l.axis,f=c.axis,m=NA(l,c,s),b=e.length;let v;for(let x=0;x<b;++x){const S=e[x],{[d]:w,[f]:E}=S,C=S._stacks||(S._stacks={});v=C[f]=LA(r,m,w),v[h]=E,v._top=Jb(v,c,!0,s.type),v._bottom=Jb(v,c,!1,s.type);const O=v._visualValues||(v._visualValues={});O[h]=E}}function _d(i,e){const t=i.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function zA(i,e){return Rs(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function BA(i,e,t){return Rs(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Pr(i,e){const t=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){e=e||i._parsed;for(const r of e){const l=r._stacks;if(!l||l[s]===void 0||l[s][t]===void 0)return;delete l[s][t],l[s]._visualValues!==void 0&&l[s]._visualValues[t]!==void 0&&delete l[s]._visualValues[t]}}}const xd=i=>i==="reset"||i==="none",ev=(i,e)=>e?i:Object.assign({},i),UA=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:I_(t,!0),values:null};class Bc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),r=(b,v,x,S)=>b==="x"?v:b==="r"?S:x,l=t.xAxisID=we(s.xAxisID,_d(e,"x")),c=t.yAxisID=we(s.yAxisID,_d(e,"y")),h=t.rAxisID=we(s.rAxisID,_d(e,"r")),d=t.indexAxis,f=t.iAxisID=r(d,l,c,h),m=t.vAxisID=r(d,c,l,h);t.xScale=this.getScaleForId(l),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Pb(this._data,this),e._stacked&&Pr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(Me(t)){const r=this._cachedMeta;this._data=DA(t,r)}else if(s!==t){if(s){Pb(s,this);const r=this._cachedMeta;Pr(r),r._parsed=[]}t&&Object.isExtensible(t)&&bO(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const l=t._stacked;t._stacked=vd(t.vScale,t),t.stack!==s.stack&&(r=!0,Pr(t),t.stack=s.stack),this._resyncElements(e),(r||l!==t._stacked)&&(Zb(this,t._parsed),t._stacked=vd(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:r}=this,{iScale:l,_stacked:c}=s,h=l.axis;let d=e===0&&t===r.length?!0:s._sorted,f=e>0&&s._parsed[e-1],m,b,v;if(this._parsing===!1)s._parsed=r,s._sorted=!0,v=r;else{gt(r[e])?v=this.parseArrayData(s,r,e,t):Me(r[e])?v=this.parseObjectData(s,r,e,t):v=this.parsePrimitiveData(s,r,e,t);const x=()=>b[h]===null||f&&b[h]<f[h];for(m=0;m<t;++m)s._parsed[m+e]=b=v[m],d&&(x()&&(d=!1),f=b);s._sorted=d}c&&Zb(this,v)}parsePrimitiveData(e,t,s,r){const{iScale:l,vScale:c}=e,h=l.axis,d=c.axis,f=l.getLabels(),m=l===c,b=new Array(r);let v,x,S;for(v=0,x=r;v<x;++v)S=v+s,b[v]={[h]:m||l.parse(f[S],S),[d]:c.parse(t[S],S)};return b}parseArrayData(e,t,s,r){const{xScale:l,yScale:c}=e,h=new Array(r);let d,f,m,b;for(d=0,f=r;d<f;++d)m=d+s,b=t[m],h[d]={x:l.parse(b[0],m),y:c.parse(b[1],m)};return h}parseObjectData(e,t,s,r){const{xScale:l,yScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let m,b,v,x;for(m=0,b=r;m<b;++m)v=m+s,x=t[v],f[m]={x:l.parse(As(x,h),v),y:c.parse(As(x,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const r=this.chart,l=this._cachedMeta,c=t[e.axis],h={keys:I_(r,!0),values:t._stacks[e.axis]._visualValues};return Qb(h,c,l.index,{mode:s})}updateRangeFromParsed(e,t,s,r){const l=s[t.axis];let c=l===null?NaN:l;const h=r&&s._stacks[t.axis];r&&h&&(r.values=h,c=Qb(r,l,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const s=this._cachedMeta,r=s._parsed,l=s._sorted&&e===s.iScale,c=r.length,h=this._getOtherScale(e),d=UA(t,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:b}=PA(h);let v,x;function S(){x=r[v];const w=x[h.axis];return!pn(x[e.axis])||m>w||b<w}for(v=0;v<c&&!(!S()&&(this.updateRangeFromParsed(f,e,x,d),l));++v);if(l){for(v=c-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(f,e,x,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let r,l,c;for(r=0,l=t.length;r<l;++r)c=t[r][e.axis],pn(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,r=t.vScale,l=this.getParsed(e);return{label:s?""+s.getLabelForValue(l[s.axis]):"",value:r?""+r.getLabelForValue(l[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=kA(we(this.options.clip,MA(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,r=s.data||[],l=t.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,f=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(e,l,h,d),m=h;m<h+d;++m){const b=r[m];b.hidden||(b.active&&f?c.push(b):b.draw(e,l))}for(m=0;m<c.length;++m)c[m].draw(e,l)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const r=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];l=c.$context||(c.$context=BA(this.getContext(),e,c)),l.parsed=this.getParsed(e),l.raw=r.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=zA(this.chart.getContext(),this.index)),l.dataset=r,l.index=l.datasetIndex=this.index;return l.active=!!t,l.mode=s,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const r=t==="active",l=this._cachedDataOpts,c=e+"-"+t,h=l[c],d=this.enableOptionSharing&&il(s);if(h)return ev(h,d);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),b=r?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),m),x=Object.keys(at.elements[e]),S=()=>this.getContext(s,r,t),w=f.resolveNamedOptions(v,x,S,b);return w.$shared&&(w.$shared=d,l[c]=Object.freeze(ev(w,d))),w}_resolveAnimations(e,t,s){const r=this.chart,l=this._cachedDataOpts,c=`animation-${t}`,h=l[c];if(h)return h;let d;if(r.options.animation!==!1){const m=this.chart.config,b=m.datasetAnimationScopeKeys(this._type,t),v=m.getOptionScopes(this.getDataset(),b);d=m.createResolver(v,this.getContext(e,s,t))}const f=new F_(r,d&&d.animations);return d&&d._cacheable&&(l[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||xd(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),r=this._sharedOptions,l=this.getSharedOptions(s),c=this.includeOptions(t,l)||l!==r;return this.updateSharedOptions(l,t,s),{sharedOptions:l,includeOptions:c}}updateElement(e,t,s,r){xd(r)?Object.assign(e,s):this._resolveAnimations(t,r).update(e,s)}updateSharedOptions(e,t,s){e&&!xd(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,r){e.active=r;const l=this.getStyle(t,r);this._resolveAnimations(t,s,r).update(e,{options:!r&&this.getSharedOptions(l)||l})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[h,d,f]of this._syncList)this[h](d,f);this._syncList=[];const r=s.length,l=t.length,c=Math.min(l,r);c&&this.parse(0,c),l>r?this._insertElements(r,l-r,e):l<r&&this._removeElements(l,r-l)}_insertElements(e,t,s=!0){const r=this._cachedMeta,l=r.data,c=e+t;let h;const d=f=>{for(f.length+=t,h=f.length-1;h>=c;h--)f[h]=f[h-t]};for(d(l),h=e;h<c;++h)l[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(e,t),s&&this.updateElements(l,e,t,"reset")}updateElements(e,t,s,r){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,t);s._stacked&&Pr(s,r)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,r]=e;this[t](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function HA(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let s=[];for(let r=0,l=t.length;r<l;r++)s=s.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=O_(s.sort((r,l)=>r-l))}return i._cache.$bar}function FA(i){const e=i.iScale,t=HA(e,i.type);let s=e._length,r,l,c,h;const d=()=>{c===32767||c===-32768||(il(h)&&(s=Math.min(s,Math.abs(c-h)||s)),h=c)};for(r=0,l=t.length;r<l;++r)c=e.getPixelForValue(t[r]),d();for(h=void 0,r=0,l=e.ticks.length;r<l;++r)c=e.getPixelForTick(r),d();return s}function IA(i,e,t,s){const r=t.barThickness;let l,c;return Pe(r)?(l=e.min*t.categoryPercentage,c=t.barPercentage):(l=r*s,c=1),{chunk:l/s,ratio:c,start:e.pixels[i]-l/2}}function qA(i,e,t,s){const r=e.pixels,l=r[i];let c=i>0?r[i-1]:null,h=i<r.length-1?r[i+1]:null;const d=t.categoryPercentage;c===null&&(c=l-(h===null?e.end-e.start:h-l)),h===null&&(h=l+l-c);const f=l-(l-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/s,ratio:t.barPercentage,start:f}}function $A(i,e,t,s){const r=t.parse(i[0],s),l=t.parse(i[1],s),c=Math.min(r,l),h=Math.max(r,l);let d=c,f=h;Math.abs(c)>Math.abs(h)&&(d=h,f=c),e[t.axis]=f,e._custom={barStart:d,barEnd:f,start:r,end:l,min:c,max:h}}function q_(i,e,t,s){return gt(i)?$A(i,e,t,s):e[t.axis]=t.parse(i,s),e}function tv(i,e,t,s){const r=i.iScale,l=i.vScale,c=r.getLabels(),h=r===l,d=[];let f,m,b,v;for(f=t,m=t+s;f<m;++f)v=e[f],b={},b[r.axis]=h||r.parse(c[f],f),d.push(q_(v,b,l,f));return d}function Sd(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function VA(i,e,t){return i!==0?Pn(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function GA(i){let e,t,s,r,l;return i.horizontal?(e=i.base>i.x,t="left",s="right"):(e=i.base<i.y,t="bottom",s="top"),e?(r="end",l="start"):(r="start",l="end"),{start:t,end:s,reverse:e,top:r,bottom:l}}function YA(i,e,t,s){let r=e.borderSkipped;const l={};if(!r){i.borderSkipped=l;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:f,bottom:m}=GA(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===s?r=f:(t._bottom||0)===s?r=m:(l[nv(m,c,h,d)]=!0,r=f)),l[nv(r,c,h,d)]=!0,i.borderSkipped=l}function nv(i,e,t,s){return s?(i=WA(i,e,t),i=iv(i,t,e)):i=iv(i,e,t),i}function WA(i,e,t){return i===e?t:i===t?e:i}function iv(i,e,t){return i==="start"?e:i==="end"?t:i}function KA(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class XA extends Bc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,r){return tv(e,t,s,r)}parseArrayData(e,t,s,r){return tv(e,t,s,r)}parseObjectData(e,t,s,r){const{iScale:l,vScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=l.axis==="x"?h:d,m=c.axis==="x"?h:d,b=[];let v,x,S,w;for(v=s,x=s+r;v<x;++v)w=t[v],S={},S[l.axis]=l.parse(As(w,f),v),b.push(q_(As(w,m),S,c,v));return b}updateRangeFromParsed(e,t,s,r){super.updateRangeFromParsed(e,t,s,r);const l=s._custom;l&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:r}=t,l=this.getParsed(e),c=l._custom,h=Sd(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(l[r.axis]);return{label:""+s.getLabelForValue(l[s.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,r){const l=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),f=h.isHorizontal(),m=this._getRuler(),{sharedOptions:b,includeOptions:v}=this._getSharedOptions(t,r);for(let x=t;x<t+s;x++){const S=this.getParsed(x),w=l||Pe(S[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(x),E=this._calculateBarIndexPixels(x,m),C=(S._stacks||{})[h.axis],O={horizontal:f,base:w.base,enableBorderRadius:!C||Sd(S._custom)||c===C._top||c===C._bottom,x:f?w.head:E.center,y:f?E.center:w.head,height:f?E.size:Math.abs(w.size),width:f?Math.abs(w.size):E.size};v&&(O.options=b||this.resolveDataElementOptions(x,e[x].active?"active":r));const A=O.options||e[x].options;YA(O,A,C,c),KA(O,A,m.ratio),this.updateElement(e[x],x,O,r)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),l=s.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(t),d=h&&h[s.axis],f=m=>{const b=m._parsed.find(x=>x[s.axis]===d),v=b&&b[m.vScale.axis];if(Pe(v)||isNaN(v))return!0};for(const m of r)if(!(t!==void 0&&f(m))&&((l===!1||c.indexOf(m.stack)===-1||l===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[we(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const r=this._getStacks(e,s),l=t!==void 0?r.indexOf(t):-1;return l===-1?r.length-1:l}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,r=[];let l,c;for(l=0,c=t.data.length;l<c;++l)r.push(s.getPixelForValue(this.getParsed(l)[s.axis],l));const h=e.barThickness;return{min:h||FA(t),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:r},options:{base:l,minBarLength:c}}=this,h=l||0,d=this.getParsed(e),f=d._custom,m=Sd(f);let b=d[t.axis],v=0,x=s?this.applyStack(t,d,s):b,S,w;x!==b&&(v=x-b,x=b),m&&(b=f.barStart,x=f.barEnd-f.barStart,b!==0&&Pn(b)!==Pn(f.barEnd)&&(v=0),v+=b);const E=!Pe(l)&&!m?l:v;let C=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(v+x):S=C,w=S-C,Math.abs(w)<c){w=VA(w,t,h)*c,b===h&&(C-=w/2);const O=t.getPixelForDecimal(0),A=t.getPixelForDecimal(1),D=Math.min(O,A),P=Math.max(O,A);C=Math.max(Math.min(C,P),D),S=C+w,s&&!m&&(d._stacks[t.axis]._visualValues[r]=t.getValueForPixel(S)-t.getValueForPixel(C))}if(C===t.getPixelForValue(h)){const O=Pn(w)*t.getLineWidthForValue(h)/2;C+=O,w-=O}return{size:w,base:C,head:S,center:S+w/2}}_calculateBarIndexPixels(e,t){const s=t.scale,r=this.options,l=r.skipNull,c=we(r.maxBarThickness,1/0);let h,d;const f=this._getAxisCount();if(t.grouped){const m=l?this._getStackCount(e):t.stackCount,b=r.barThickness==="flex"?qA(e,t,r,m*f):IA(e,t,r,m*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(we(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+x;h=b.start+b.chunk*S+b.chunk/2,d=Math.min(c,b.chunk*b.ratio)}else h=s.getPixelForValue(this.getParsed(e)[s.axis],e),d=Math.min(c,t.min*t.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,r=s.length;let l=0;for(;l<r;++l)this.getParsed(l)[t.axis]!==null&&!s[l].hidden&&s[l].draw(this._ctx)}}function QA(i,e,t){let s=1,r=1,l=0,c=0;if(e<tt){const h=i,d=h+e,f=Math.cos(h),m=Math.sin(h),b=Math.cos(d),v=Math.sin(d),x=(A,D,P)=>al(A,h,d,!0)?1:Math.max(D,D*t,P,P*t),S=(A,D,P)=>al(A,h,d,!0)?-1:Math.min(D,D*t,P,P*t),w=x(0,f,b),E=x(pt,m,v),C=S(Ue,f,b),O=S(Ue+pt,m,v);s=(w-C)/2,r=(E-O)/2,l=-(w+C)/2,c=-(E+O)/2}return{ratioX:s,ratioY:r,offsetX:l,offsetY:c}}class JA extends Bc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:r,color:l,useBorderRadius:c,borderRadius:h}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,f)=>{const b=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:b.backgroundColor,fontColor:l,hidden:!e.getDataVisibility(f),lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,textAlign:r,pointStyle:s,borderRadius:c&&(h||b.borderRadius),index:f}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let l=d=>+s[d];if(Me(s[e])){const{key:d="value"}=this._parsing;l=f=>+As(s[f],d)}let c,h;for(c=e,h=e+t;c<h;++c)r._parsed[c]=l(c)}}_getRotation(){return li(this.options.rotation-90)}_getCircumference(){return li(this.options.circumference)}_getRotationExtents(){let e=tt,t=-tt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,l=r._getRotation(),c=r._getCircumference();e=Math.min(e,l),t=Math.max(t,l+c)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,r=this._cachedMeta,l=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-c)/2,0),d=Math.min(tO(this.options.cutout,h),1),f=this._getRingWeight(this.index),{circumference:m,rotation:b}=this._getRotationExtents(),{ratioX:v,ratioY:x,offsetX:S,offsetY:w}=QA(b,m,d),E=(s.width-c)/v,C=(s.height-c)/x,O=Math.max(Math.min(E,C)/2,0),A=S_(this.options.radius,O),D=Math.max(A*d,0),P=(A-D)/this._getVisibleDatasetWeightTotal();this.offsetX=S*A,this.offsetY=w*A,r.total=this.calculateTotal(),this.outerRadius=A-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*f,0),this.updateElements(l,0,l.length,e)}_circumference(e,t){const s=this.options,r=this._cachedMeta,l=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*l/tt)}updateElements(e,t,s,r){const l=r==="reset",c=this.chart,h=c.chartArea,f=c.options.animation,m=(h.left+h.right)/2,b=(h.top+h.bottom)/2,v=l&&f.animateScale,x=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:w,includeOptions:E}=this._getSharedOptions(t,r);let C=this._getRotation(),O;for(O=0;O<t;++O)C+=this._circumference(O,l);for(O=t;O<t+s;++O){const A=this._circumference(O,l),D=e[O],P={x:m+this.offsetX,y:b+this.offsetY,startAngle:C,endAngle:C+A,circumference:A,outerRadius:S,innerRadius:x};E&&(P.options=w||this.resolveDataElementOptions(O,D.active?"active":r)),C+=A,this.updateElement(D,O,P,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,r;for(r=0;r<t.length;r++){const l=e._parsed[r];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(s+=Math.abs(l))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?tt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,r=s.data.labels||[],l=Ef(t._parsed[e],s.options.locale);return{label:r[e]||"",value:l}}getMaxBorderWidth(e){let t=0;const s=this.chart;let r,l,c,h,d;if(!e){for(r=0,l=s.data.datasets.length;r<l;++r)if(s.isDatasetVisible(r)){c=s.getDatasetMeta(r),e=c.data,h=c.controller;break}}if(!e)return 0;for(r=0,l=e.length;r<l;++r)d=h.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,r=e.length;s<r;++s){const l=this.resolveDataElementOptions(s);t=Math.max(t,l.offset||0,l.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(we(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class ZA extends Bc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:r=[],_dataset:l}=t,c=this.chart._animationsDisabled;let{start:h,count:d}=xO(t,r,c);this._drawStart=h,this._drawCount=d,SO(t)&&(h=0,d=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!l._decimated,s.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:f},e),this.updateElements(r,h,d,e)}updateElements(e,t,s,r){const l=r==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(t,r),v=c.axis,x=h.axis,{spanGaps:S,segment:w}=this.options,E=sl(S)?S:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||l||r==="none",O=t+s,A=e.length;let D=t>0&&this.getParsed(t-1);for(let P=0;P<A;++P){const F=e[P],z=C?F:{};if(P<t||P>=O){z.skip=!0;continue}const k=this.getParsed(P),Y=Pe(k[x]),V=z[v]=c.getPixelForValue(k[v],P),$=z[x]=l||Y?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,k,d):k[x],P);z.skip=isNaN(V)||isNaN($)||Y,z.stop=P>0&&Math.abs(k[v]-D[v])>E,w&&(z.parsed=k,z.raw=f.data[P]),b&&(z.options=m||this.resolveDataElementOptions(P,F.active?"active":r)),C||this.updateElement(F,P,z,r),D=k}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const l=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,l,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function ys(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Df{static override(e){Object.assign(Df.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ys()}parse(){return ys()}format(){return ys()}add(){return ys()}diff(){return ys()}startOf(){return ys()}endOf(){return ys()}}var ej={_date:Df};function tj(i,e,t,s){const{controller:r,data:l,_sorted:c}=i,h=r._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&l.length){const f=h._reversePixels?mO:Cs;if(s){if(r._sharedOptions){const m=l[0],b=typeof m.getRange=="function"&&m.getRange(e);if(b){const v=f(l,e,t-b),x=f(l,e,t+b);return{lo:v.lo,hi:x.hi}}}}else{const m=f(l,e,t);if(d){const{vScale:b}=r._cachedMeta,{_parsed:v}=i,x=v.slice(0,m.lo+1).reverse().findIndex(w=>!Pe(w[b.axis]));m.lo-=Math.max(0,x);const S=v.slice(m.hi).findIndex(w=>!Pe(w[b.axis]));m.hi+=Math.max(0,S)}return m}}return{lo:0,hi:l.length-1}}function Uc(i,e,t,s,r){const l=i.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,d=l.length;h<d;++h){const{index:f,data:m}=l[h],{lo:b,hi:v}=tj(l[h],e,c,r);for(let x=b;x<=v;++x){const S=m[x];S.skip||s(S,f,x)}}}function nj(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(s,r){const l=e?Math.abs(s.x-r.x):0,c=t?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function wd(i,e,t,s,r){const l=[];return!r&&!i.isPointInArea(e)||Uc(i,t,e,function(h,d,f){!r&&!rl(h,i.chartArea,0)||h.inRange(e.x,e.y,s)&&l.push({element:h,datasetIndex:d,index:f})},!0),l}function ij(i,e,t,s){let r=[];function l(c,h,d){const{startAngle:f,endAngle:m}=c.getProps(["startAngle","endAngle"],s),{angle:b}=T_(c,{x:e.x,y:e.y});al(b,f,m)&&r.push({element:c,datasetIndex:h,index:d})}return Uc(i,t,e,l),r}function sj(i,e,t,s,r,l){let c=[];const h=nj(t);let d=Number.POSITIVE_INFINITY;function f(m,b,v){const x=m.inRange(e.x,e.y,r);if(s&&!x)return;const S=m.getCenterPoint(r);if(!(!!l||i.isPointInArea(S))&&!x)return;const E=h(e,S);E<d?(c=[{element:m,datasetIndex:b,index:v}],d=E):E===d&&c.push({element:m,datasetIndex:b,index:v})}return Uc(i,t,e,f),c}function Ed(i,e,t,s,r,l){return!l&&!i.isPointInArea(e)?[]:t==="r"&&!s?ij(i,e,t,r):sj(i,e,t,s,r,l)}function sv(i,e,t,s,r){const l=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return Uc(i,t,e,(d,f,m)=>{d[c]&&d[c](e[t],r)&&(l.push({element:d,datasetIndex:f,index:m}),h=h||d.inRange(e.x,e.y,r))}),s&&!h?[]:l}var aj={modes:{index(i,e,t,s){const r=xs(e,i),l=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?wd(i,r,l,s,c):Ed(i,r,l,!1,s,c),d=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(f=>{const m=h[0].index,b=f.data[m];b&&!b.skip&&d.push({element:b,datasetIndex:f.index,index:m})}),d):[]},dataset(i,e,t,s){const r=xs(e,i),l=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?wd(i,r,l,s,c):Ed(i,r,l,!1,s,c);if(h.length>0){const d=h[0].datasetIndex,f=i.getDatasetMeta(d).data;h=[];for(let m=0;m<f.length;++m)h.push({element:f[m],datasetIndex:d,index:m})}return h},point(i,e,t,s){const r=xs(e,i),l=t.axis||"xy",c=t.includeInvisible||!1;return wd(i,r,l,s,c)},nearest(i,e,t,s){const r=xs(e,i),l=t.axis||"xy",c=t.includeInvisible||!1;return Ed(i,r,l,t.intersect,s,c)},x(i,e,t,s){const r=xs(e,i);return sv(i,r,"x",t.intersect,s)},y(i,e,t,s){const r=xs(e,i);return sv(i,r,"y",t.intersect,s)}}};const $_=["left","top","right","bottom"];function Lr(i,e){return i.filter(t=>t.pos===e)}function av(i,e){return i.filter(t=>$_.indexOf(t.pos)===-1&&t.box.axis===e)}function zr(i,e){return i.sort((t,s)=>{const r=e?s:t,l=e?t:s;return r.weight===l.weight?r.index-l.index:r.weight-l.weight})}function rj(i){const e=[];let t,s,r,l,c,h;for(t=0,s=(i||[]).length;t<s;++t)r=i[t],{position:l,options:{stack:c,stackWeight:h=1}}=r,e.push({index:t,box:r,pos:l,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&l+c,stackWeight:h});return e}function lj(i){const e={};for(const t of i){const{stack:s,pos:r,stackWeight:l}=t;if(!s||!$_.includes(r))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return e}function oj(i,e){const t=lj(i),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let l,c,h;for(l=0,c=i.length;l<c;++l){h=i[l];const{fullSize:d}=h.box,f=t[h.stack],m=f&&h.stackWeight/f.weight;h.horizontal?(h.width=m?m*s:d&&e.availableWidth,h.height=r):(h.width=s,h.height=m?m*r:d&&e.availableHeight)}return t}function cj(i){const e=rj(i),t=zr(e.filter(f=>f.box.fullSize),!0),s=zr(Lr(e,"left"),!0),r=zr(Lr(e,"right")),l=zr(Lr(e,"top"),!0),c=zr(Lr(e,"bottom")),h=av(e,"x"),d=av(e,"y");return{fullSize:t,leftAndTop:s.concat(l),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:Lr(e,"chartArea"),vertical:s.concat(r).concat(d),horizontal:l.concat(c).concat(h)}}function rv(i,e,t,s){return Math.max(i[t],e[t])+Math.max(i[s],e[s])}function V_(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function uj(i,e,t,s){const{pos:r,box:l}=t,c=i.maxPadding;if(!Me(r)){t.size&&(i[r]-=t.size);const b=s[t.stack]||{size:0,count:1};b.size=Math.max(b.size,t.horizontal?l.height:l.width),t.size=b.size/b.count,i[r]+=t.size}l.getPadding&&V_(c,l.getPadding());const h=Math.max(0,e.outerWidth-rv(c,i,"left","right")),d=Math.max(0,e.outerHeight-rv(c,i,"top","bottom")),f=h!==i.w,m=d!==i.h;return i.w=h,i.h=d,t.horizontal?{same:f,other:m}:{same:m,other:f}}function hj(i){const e=i.maxPadding;function t(s){const r=Math.max(e[s]-i[s],0);return i[s]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function dj(i,e){const t=e.maxPadding;function s(r){const l={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{l[c]=Math.max(e[c],t[c])}),l}return s(i?["left","right"]:["top","bottom"])}function Vr(i,e,t,s){const r=[];let l,c,h,d,f,m;for(l=0,c=i.length,f=0;l<c;++l){h=i[l],d=h.box,d.update(h.width||e.w,h.height||e.h,dj(h.horizontal,e));const{same:b,other:v}=uj(e,t,h,s);f|=b&&r.length,m=m||v,d.fullSize||r.push(h)}return f&&Vr(r,e,t,s)||m}function Qo(i,e,t,s,r){i.top=t,i.left=e,i.right=e+s,i.bottom=t+r,i.width=s,i.height=r}function lv(i,e,t,s){const r=t.padding;let{x:l,y:c}=e;for(const h of i){const d=h.box,f=s[h.stack]||{placed:0,weight:1},m=h.stackWeight/f.weight||1;if(h.horizontal){const b=e.w*m,v=f.size||d.height;il(f.start)&&(c=f.start),d.fullSize?Qo(d,r.left,c,t.outerWidth-r.right-r.left,v):Qo(d,e.left+f.placed,c,b,v),f.start=c,f.placed+=b,c=d.bottom}else{const b=e.h*m,v=f.size||d.width;il(f.start)&&(l=f.start),d.fullSize?Qo(d,l,r.top,v,t.outerHeight-r.bottom-r.top):Qo(d,l,e.top+f.placed,v,b),f.start=l,f.placed+=b,l=d.right}}e.x=l,e.y=c}var gn={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,s){if(!i)return;const r=mn(i.options.layout.padding),l=Math.max(e-r.width,0),c=Math.max(t-r.height,0),h=cj(i.boxes),d=h.vertical,f=h.horizontal;Be(i.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const m=d.reduce((w,E)=>E.box.options&&E.box.options.display===!1?w:w+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/m,hBoxMaxHeight:c/2}),v=Object.assign({},r);V_(v,mn(s));const x=Object.assign({maxPadding:v,w:l,h:c,x:r.left,y:r.top},r),S=oj(d.concat(f),b);Vr(h.fullSize,x,b,S),Vr(d,x,b,S),Vr(f,x,b,S)&&Vr(d,x,b,S),hj(x),lv(h.leftAndTop,x,b,S),x.x+=x.w,x.y+=x.h,lv(h.rightAndBottom,x,b,S),i.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Be(h.chartArea,w=>{const E=w.box;Object.assign(E,i.chartArea),E.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class G_{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,r){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):s)}}isAttached(e){return!0}updateConfig(e){}}class fj extends G_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const dc="$chartjs",gj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ov=i=>i===null||i==="";function pj(i,e){const t=i.style,s=i.getAttribute("height"),r=i.getAttribute("width");if(i[dc]={initial:{height:s,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ov(r)){const l=Vb(i,"width");l!==void 0&&(i.width=l)}if(ov(s))if(i.style.height==="")i.height=i.width/(e||2);else{const l=Vb(i,"height");l!==void 0&&(i.height=l)}return i}const Y_=hA?{passive:!0}:!1;function mj(i,e,t){i&&i.addEventListener(e,t,Y_)}function yj(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,Y_)}function bj(i,e){const t=gj[i.type]||i.type,{x:s,y:r}=xs(i,e);return{type:t,chart:e,native:i,x:s!==void 0?s:null,y:r!==void 0?r:null}}function jc(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function vj(i,e,t){const s=i.canvas,r=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||jc(h.addedNodes,s),c=c&&!jc(h.removedNodes,s);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function _j(i,e,t){const s=i.canvas,r=new MutationObserver(l=>{let c=!1;for(const h of l)c=c||jc(h.removedNodes,s),c=c&&!jc(h.addedNodes,s);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const ol=new Map;let cv=0;function W_(){const i=window.devicePixelRatio;i!==cv&&(cv=i,ol.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function xj(i,e){ol.size||window.addEventListener("resize",W_),ol.set(i,e)}function Sj(i){ol.delete(i),ol.size||window.removeEventListener("resize",W_)}function wj(i,e,t){const s=i.canvas,r=s&&kf(s);if(!r)return;const l=j_((h,d)=>{const f=r.clientWidth;t(h,d),f<r.clientWidth&&t()},window),c=new ResizeObserver(h=>{const d=h[0],f=d.contentRect.width,m=d.contentRect.height;f===0&&m===0||l(f,m)});return c.observe(r),xj(i,l),c}function Td(i,e,t){t&&t.disconnect(),e==="resize"&&Sj(i)}function Ej(i,e,t){const s=i.canvas,r=j_(l=>{i.ctx!==null&&t(bj(l,i))},i);return mj(s,e,r),r}class Tj extends G_{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(pj(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[dc])return!1;const s=t[dc].initial;["height","width"].forEach(l=>{const c=s[l];Pe(c)?t.removeAttribute(l):t.setAttribute(l,c)});const r=s.style||{};return Object.keys(r).forEach(l=>{t.style[l]=r[l]}),t.width=t.width,delete t[dc],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),c={attach:vj,detach:_j,resize:wj}[t]||Ej;r[t]=c(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),r=s[t];if(!r)return;({attach:Td,detach:Td,resize:Td}[t]||yj)(e,t,r),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,r){return uA(e,t,s,r)}isAttached(e){const t=e&&kf(e);return!!(t&&t.isConnected)}}function Cj(i){return!Mf()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?fj:Tj}class di{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return sl(this.x)&&sl(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const r={};return e.forEach(l=>{r[l]=s[l]&&s[l].active()?s[l]._to:this[l]}),r}}function Oj(i,e){const t=i.options.ticks,s=Aj(i),r=Math.min(t.maxTicksLimit||s,s),l=t.major.enabled?Rj(e):[],c=l.length,h=l[0],d=l[c-1],f=[];if(c>r)return Mj(e,f,l,c/r),f;const m=jj(l,e,r);if(c>0){let b,v;const x=c>1?Math.round((d-h)/(c-1)):null;for(Jo(e,f,m,Pe(x)?0:h-x,h),b=0,v=c-1;b<v;b++)Jo(e,f,m,l[b],l[b+1]);return Jo(e,f,m,d,Pe(x)?e.length:d+x),f}return Jo(e,f,m),f}function Aj(i){const e=i.options.offset,t=i._tickSize(),s=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(s,r))}function jj(i,e,t){const s=kj(i),r=e.length/t;if(!s)return Math.max(r,1);const l=cO(s);for(let c=0,h=l.length-1;c<h;c++){const d=l[c];if(d>r)return d}return Math.max(r,1)}function Rj(i){const e=[];let t,s;for(t=0,s=i.length;t<s;t++)i[t].major&&e.push(t);return e}function Mj(i,e,t,s){let r=0,l=t[0],c;for(s=Math.ceil(s),c=0;c<i.length;c++)c===l&&(e.push(i[c]),r++,l=t[r*s])}function Jo(i,e,t,s,r){const l=we(s,0),c=Math.min(we(r,i.length),i.length);let h=0,d,f,m;for(t=Math.ceil(t),r&&(d=r-s,t=d/Math.floor(d/t)),m=l;m<0;)h++,m=Math.round(l+h*t);for(f=Math.max(l,0);f<c;f++)f===m&&(e.push(i[f]),h++,m=Math.round(l+h*t))}function kj(i){const e=i.length;let t,s;if(e<2)return!1;for(s=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==s)return!1;return s}const Dj=i=>i==="left"?"right":i==="right"?"left":i,uv=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,hv=(i,e)=>Math.min(e||i,i);function dv(i,e){const t=[],s=i.length/e,r=i.length;let l=0;for(;l<r;l+=s)t.push(i[Math.floor(l)]);return t}function Nj(i,e,t){const s=i.ticks.length,r=Math.min(e,s-1),l=i._startPixel,c=i._endPixel,h=1e-6;let d=i.getPixelForTick(r),f;if(!(t&&(s===1?f=Math.max(d-l,c-d):e===0?f=(i.getPixelForTick(1)-d)/2:f=(d-i.getPixelForTick(r-1))/2,d+=r<e?f:-f,d<l-h||d>c+h)))return d}function Pj(i,e){Be(i,t=>{const s=t.gc,r=s.length/2;let l;if(r>e){for(l=0;l<r;++l)delete t.data[s[l]];s.splice(0,r)}})}function Br(i){return i.drawTicks?i.tickLength:0}function fv(i,e){if(!i.display)return 0;const t=jt(i.font,e),s=mn(i.padding);return(gt(i.text)?i.text.length:1)*t.lineHeight+s.height}function Lj(i,e){return Rs(i,{scale:e,type:"scale"})}function zj(i,e,t){return Rs(i,{tick:t,index:e,type:"tick"})}function Bj(i,e,t){let s=Sf(i);return(t&&e!=="right"||!t&&e==="right")&&(s=Dj(s)),s}function Uj(i,e,t,s){const{top:r,left:l,bottom:c,right:h,chart:d}=i,{chartArea:f,scales:m}=d;let b=0,v,x,S;const w=c-r,E=h-l;if(i.isHorizontal()){if(x=Ot(s,l,h),Me(t)){const C=Object.keys(t)[0],O=t[C];S=m[C].getPixelForValue(O)+w-e}else t==="center"?S=(f.bottom+f.top)/2+w-e:S=uv(i,t,e);v=h-l}else{if(Me(t)){const C=Object.keys(t)[0],O=t[C];x=m[C].getPixelForValue(O)-E+e}else t==="center"?x=(f.left+f.right)/2-E+e:x=uv(i,t,e);S=Ot(s,c,r),b=t==="left"?-pt:pt}return{titleX:x,titleY:S,maxWidth:v,rotation:b}}class La extends di{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:r}=this;return e=Mn(e,Number.POSITIVE_INFINITY),t=Mn(t,Number.NEGATIVE_INFINITY),s=Mn(s,Number.POSITIVE_INFINITY),r=Mn(r,Number.NEGATIVE_INFINITY),{min:Mn(e,s),max:Mn(t,r),minDefined:pn(e),maxDefined:pn(t)}}getMinMax(e){let{min:t,max:s,minDefined:r,maxDefined:l}=this.getUserBounds(),c;if(r&&l)return{min:t,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,f=h.length;d<f;++d)c=h[d].controller.getMinMax(this,e),r||(t=Math.min(t,c.min)),l||(s=Math.max(s,c.max));return t=l&&t>s?s:t,s=r&&t>s?t:s,{min:Mn(t,Mn(s,t)),max:Mn(s,Mn(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){We(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:r,grace:l,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=IO(this,l,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?dv(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Oj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){We(this.options.afterUpdate,[this])}beforeSetDimensions(){We(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){We(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),We(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){We(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,r,l;for(s=0,r=e.length;s<r;s++)l=e[s],l.label=We(t.callback,[l.value,s,e],this)}afterTickToLabelConversion(){We(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){We(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=hv(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,l=t.maxRotation;let c=r,h,d,f;if(!this._isVisible()||!t.display||r>=l||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),b=m.widest.width,v=m.highest.height,x=At(this.chart.width-b,0,this.maxWidth);h=e.offset?this.maxWidth/s:x/(s-1),b+6>h&&(h=x/(s-(e.offset?.5:1)),d=this.maxHeight-Br(e.grid)-t.padding-fv(e.title,this.chart.options.font),f=Math.sqrt(b*b+v*v),c=fO(Math.min(Math.asin(At((m.highest.height+6)/h,-1,1)),Math.asin(At(d/f,-1,1))-Math.asin(At(v/f,-1,1)))),c=Math.max(r,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){We(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){We(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:r,grid:l}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=fv(r,t.options.font);if(h?(e.width=this.maxWidth,e.height=Br(l)+d):(e.height=this.maxHeight,e.width=Br(l)+d),s.display&&this.ticks.length){const{first:f,last:m,widest:b,highest:v}=this._getLabelSizes(),x=s.padding*2,S=li(this.labelRotation),w=Math.cos(S),E=Math.sin(S);if(h){const C=s.mirror?0:E*b.width+w*v.height;e.height=Math.min(this.maxHeight,e.height+C+x)}else{const C=s.mirror?0:w*b.width+E*v.height;e.width=Math.min(this.maxWidth,e.width+C+x)}this._calculatePadding(f,m,E,w)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,r){const{ticks:{align:l,padding:c},position:h}=this.options,d=this.labelRotation!==0,f=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,x=0;d?f?(v=r*e.width,x=s*t.height):(v=s*e.height,x=r*t.width):l==="start"?x=t.width:l==="end"?v=e.width:l!=="inner"&&(v=e.width/2,x=t.width/2),this.paddingLeft=Math.max((v-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((x-b+c)*this.width/(this.width-b),0)}else{let m=t.height/2,b=e.height/2;l==="start"?(m=0,b=e.height):l==="end"&&(m=t.height,b=0),this.paddingTop=m+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){We(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Pe(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=dv(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:r,_longestTextCache:l}=this,c=[],h=[],d=Math.floor(t/hv(t,s));let f=0,m=0,b,v,x,S,w,E,C,O,A,D,P;for(b=0;b<t;b+=d){if(S=e[b].label,w=this._resolveTickFontOptions(b),r.font=E=w.string,C=l[E]=l[E]||{data:{},gc:[]},O=w.lineHeight,A=D=0,!Pe(S)&&!gt(S))A=Hb(r,C.data,C.gc,A,S),D=O;else if(gt(S))for(v=0,x=S.length;v<x;++v)P=S[v],!Pe(P)&&!gt(P)&&(A=Hb(r,C.data,C.gc,A,P),D+=O);c.push(A),h.push(D),f=Math.max(A,f),m=Math.max(D,m)}Pj(l,t);const F=c.indexOf(f),z=h.indexOf(m),k=Y=>({width:c[Y]||0,height:h[Y]||0});return{first:k(0),last:k(t-1),widest:k(F),highest:k(z),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return pO(this._alignToPixels?ms(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=zj(this.getContext(),e,s))}return this.$context||(this.$context=Lj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=li(this.labelRotation),s=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),l=this._getLabelSizes(),c=e.autoSkipPadding||0,h=l?l.widest.width+c:0,d=l?l.highest.height+c:0;return this.isHorizontal()?d*s>h*r?h/s:d/r:d*r<h*s?d/s:h/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,r=this.options,{grid:l,position:c,border:h}=r,d=l.offset,f=this.isHorizontal(),b=this.ticks.length+(d?1:0),v=Br(l),x=[],S=h.setContext(this.getContext()),w=S.display?S.width:0,E=w/2,C=function(B){return ms(s,B,w)};let O,A,D,P,F,z,k,Y,V,$,L,ee;if(c==="top")O=C(this.bottom),z=this.bottom-v,Y=O-E,$=C(e.top)+E,ee=e.bottom;else if(c==="bottom")O=C(this.top),$=e.top,ee=C(e.bottom)-E,z=O+E,Y=this.top+v;else if(c==="left")O=C(this.right),F=this.right-v,k=O-E,V=C(e.left)+E,L=e.right;else if(c==="right")O=C(this.left),V=e.left,L=C(e.right)-E,F=O+E,k=this.left+v;else if(t==="x"){if(c==="center")O=C((e.top+e.bottom)/2+.5);else if(Me(c)){const B=Object.keys(c)[0],Z=c[B];O=C(this.chart.scales[B].getPixelForValue(Z))}$=e.top,ee=e.bottom,z=O+E,Y=z+v}else if(t==="y"){if(c==="center")O=C((e.left+e.right)/2);else if(Me(c)){const B=Object.keys(c)[0],Z=c[B];O=C(this.chart.scales[B].getPixelForValue(Z))}F=O-E,k=F-v,V=e.left,L=e.right}const ie=we(r.ticks.maxTicksLimit,b),de=Math.max(1,Math.ceil(b/ie));for(A=0;A<b;A+=de){const B=this.getContext(A),Z=l.setContext(B),re=h.setContext(B),ce=Z.lineWidth,ve=Z.color,R=re.dash||[],K=re.dashOffset,te=Z.tickWidth,se=Z.tickColor,fe=Z.tickBorderDash||[],pe=Z.tickBorderDashOffset;D=Nj(this,A,d),D!==void 0&&(P=ms(s,D,ce),f?F=k=V=L=P:z=Y=$=ee=P,x.push({tx1:F,ty1:z,tx2:k,ty2:Y,x1:V,y1:$,x2:L,y2:ee,width:ce,color:ve,borderDash:R,borderDashOffset:K,tickWidth:te,tickColor:se,tickBorderDash:fe,tickBorderDashOffset:pe}))}return this._ticksLength=b,this._borderValue=O,x}_computeLabelItems(e){const t=this.axis,s=this.options,{position:r,ticks:l}=s,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:f,padding:m,mirror:b}=l,v=Br(s.grid),x=v+m,S=b?-m:x,w=-li(this.labelRotation),E=[];let C,O,A,D,P,F,z,k,Y,V,$,L,ee="middle";if(r==="top")F=this.bottom-S,z=this._getXAxisLabelAlignment();else if(r==="bottom")F=this.top+S,z=this._getXAxisLabelAlignment();else if(r==="left"){const de=this._getYAxisLabelAlignment(v);z=de.textAlign,P=de.x}else if(r==="right"){const de=this._getYAxisLabelAlignment(v);z=de.textAlign,P=de.x}else if(t==="x"){if(r==="center")F=(e.top+e.bottom)/2+x;else if(Me(r)){const de=Object.keys(r)[0],B=r[de];F=this.chart.scales[de].getPixelForValue(B)+x}z=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")P=(e.left+e.right)/2-x;else if(Me(r)){const de=Object.keys(r)[0],B=r[de];P=this.chart.scales[de].getPixelForValue(B)}z=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?ee="top":d==="end"&&(ee="bottom"));const ie=this._getLabelSizes();for(C=0,O=h.length;C<O;++C){A=h[C],D=A.label;const de=l.setContext(this.getContext(C));k=this.getPixelForTick(C)+l.labelOffset,Y=this._resolveTickFontOptions(C),V=Y.lineHeight,$=gt(D)?D.length:1;const B=$/2,Z=de.color,re=de.textStrokeColor,ce=de.textStrokeWidth;let ve=z;c?(P=k,z==="inner"&&(C===O-1?ve=this.options.reverse?"left":"right":C===0?ve=this.options.reverse?"right":"left":ve="center"),r==="top"?f==="near"||w!==0?L=-$*V+V/2:f==="center"?L=-ie.highest.height/2-B*V+V:L=-ie.highest.height+V/2:f==="near"||w!==0?L=V/2:f==="center"?L=ie.highest.height/2-B*V:L=ie.highest.height-$*V,b&&(L*=-1),w!==0&&!de.showLabelBackdrop&&(P+=V/2*Math.sin(w))):(F=k,L=(1-$)*V/2);let R;if(de.showLabelBackdrop){const K=mn(de.backdropPadding),te=ie.heights[C],se=ie.widths[C];let fe=L-K.top,pe=0-K.left;switch(ee){case"middle":fe-=te/2;break;case"bottom":fe-=te;break}switch(z){case"center":pe-=se/2;break;case"right":pe-=se;break;case"inner":C===O-1?pe-=se:C>0&&(pe-=se/2);break}R={left:pe,top:fe,width:se+K.width,height:te+K.height,color:de.backdropColor}}E.push({label:D,font:Y,textOffset:L,options:{rotation:w,color:Z,strokeColor:re,strokeWidth:ce,textAlign:ve,textBaseline:ee,translation:[P,F],backdrop:R}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-li(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:r,padding:l}}=this.options,c=this._getLabelSizes(),h=e+l,d=c.widest.width;let f,m;return t==="left"?r?(m=this.right+l,s==="near"?f="left":s==="center"?(f="center",m+=d/2):(f="right",m+=d)):(m=this.right-h,s==="near"?f="right":s==="center"?(f="center",m-=d/2):(f="left",m=this.left)):t==="right"?r?(m=this.left+l,s==="near"?f="right":s==="center"?(f="center",m-=d/2):(f="left",m-=d)):(m=this.left+h,s==="near"?f="left":s==="center"?(f="center",m+=d/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:r,width:l,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,r,l,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(l=>l.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,c;const h=(d,f,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(t.display)for(l=0,c=r.length;l<c;++l){const d=r[l];t.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:r}}=this,l=s.setContext(this.getContext()),c=s.display?l.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,m,b,v;this.isHorizontal()?(f=ms(e,this.left,c)-c/2,m=ms(e,this.right,h)+h/2,b=v=d):(b=ms(e,this.top,c)-c/2,v=ms(e,this.bottom,h)+h/2,f=m=d),t.save(),t.lineWidth=l.width,t.strokeStyle=l.color,t.beginPath(),t.moveTo(f,b),t.lineTo(m,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Tf(s,r);const l=this.getLabelItems(e);for(const c of l){const h=c.options,d=c.font,f=c.label,m=c.textOffset;ll(s,f,0,m,d,h)}r&&Cf(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:r}}=this;if(!s.display)return;const l=jt(s.font),c=mn(s.padding),h=s.align;let d=l.lineHeight/2;t==="bottom"||t==="center"||Me(t)?(d+=c.bottom,gt(s.text)&&(d+=l.lineHeight*(s.text.length-1))):d+=c.top;const{titleX:f,titleY:m,maxWidth:b,rotation:v}=Uj(this,d,t,h);ll(e,s.text,0,0,l,{color:s.color,maxWidth:b,rotation:v,textAlign:Bj(h,t,r),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=we(e.grid&&e.grid.z,-1),r=we(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==La.prototype.draw?[{z:t,draw:l=>{this.draw(l)}}]:[{z:s,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let l,c;for(l=0,c=t.length;l<c;++l){const h=t[l];h[s]===this.id&&(!e||h.type===e)&&r.push(h)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return jt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Zo{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;Ij(t)&&(s=this.register(t));const r=this.items,l=e.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in r||(r[l]=e,Hj(e,c,s),this.override&&at.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,r=this.scope;s in t&&delete t[s],r&&s in at[r]&&(delete at[r][s],this.override&&delete js[s])}}function Hj(i,e,t){const s=nl(Object.create(null),[t?at.get(t):{},at.get(e),i.defaults]);at.set(e,s),i.defaultRoutes&&Fj(e,i.defaultRoutes),i.descriptors&&at.describe(e,i.descriptors)}function Fj(i,e){Object.keys(e).forEach(t=>{const s=t.split("."),r=s.pop(),l=[i].concat(s).join("."),c=e[t].split("."),h=c.pop(),d=c.join(".");at.route(l,r,d,h)})}function Ij(i){return"id"in i&&"defaults"in i}class qj{constructor(){this.controllers=new Zo(Bc,"datasets",!0),this.elements=new Zo(di,"elements"),this.plugins=new Zo(Object,"plugins"),this.scales=new Zo(La,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(r=>{const l=s||this._getRegistryForType(r);s||l.isForType(r)||l===this.plugins&&r.id?this._exec(e,l,r):Be(r,c=>{const h=s||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,s){const r=_f(e);We(s["before"+r],[],s),t[e](s),We(s["after"+r],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Dn=new qj;class $j{constructor(){this._init=void 0}notify(e,t,s,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const l=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(l,e,t,s);return t==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,t,s,r){r=r||{};for(const l of e){const c=l.plugin,h=c[s],d=[t,r,l.options];if(We(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,r=we(s.options&&s.options.plugins,{}),l=Vj(s);return r===!1&&!t?[]:Yj(e,l,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,r=(l,c)=>l.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(t,s),e,"stop"),this._notify(r(s,t),e,"start")}}function Vj(i){const e={},t=[],s=Object.keys(Dn.plugins.items);for(let l=0;l<s.length;l++)t.push(Dn.getPlugin(s[l]));const r=i.plugins||[];for(let l=0;l<r.length;l++){const c=r[l];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function Gj(i,e){return!e&&i===!1?null:i===!0?{}:i}function Yj(i,{plugins:e,localIds:t},s,r){const l=[],c=i.getContext();for(const h of e){const d=h.id,f=Gj(s[d],r);f!==null&&l.push({plugin:h,options:Wj(i.config,{plugin:h,local:t[d]},f,c)})}return l}function Wj(i,{plugin:e,local:t},s,r){const l=i.pluginScopeKeys(e),c=i.getOptionScopes(s,l);return t&&e.defaults&&c.push(e.defaults),i.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qd(i,e){const t=at.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Kj(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function Xj(i,e){return i===e?"_index_":"_value_"}function gv(i){if(i==="x"||i==="y"||i==="r")return i}function Qj(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Jd(i,...e){if(gv(i))return i;for(const t of e){const s=t.axis||Qj(t.position)||i.length>1&&gv(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function pv(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function Jj(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(t.length)return pv(i,"x",t[0])||pv(i,"y",t[0])}return{}}function Zj(i,e){const t=js[i.type]||{scales:{}},s=e.scales||{},r=Qd(i.type,e),l=Object.create(null);return Object.keys(s).forEach(c=>{const h=s[c];if(!Me(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Jd(c,h,Jj(c,i),at.scales[h.type]),f=Xj(d,r),m=t.scales||{};l[c]=Wr(Object.create(null),[{axis:d},h,m[d],m[f]])}),i.data.datasets.forEach(c=>{const h=c.type||i.type,d=c.indexAxis||Qd(h,e),m=(js[h]||{}).scales||{};Object.keys(m).forEach(b=>{const v=Kj(b,d),x=c[v+"AxisID"]||v;l[x]=l[x]||Object.create(null),Wr(l[x],[{axis:v},s[x],m[b]])})}),Object.keys(l).forEach(c=>{const h=l[c];Wr(h,[at.scales[h.type],at.scale])}),l}function K_(i){const e=i.options||(i.options={});e.plugins=we(e.plugins,{}),e.scales=Zj(i,e)}function X_(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function eR(i){return i=i||{},i.data=X_(i.data),K_(i),i}const mv=new Map,Q_=new Set;function ec(i,e){let t=mv.get(i);return t||(t=e(),mv.set(i,t),Q_.add(t)),t}const Ur=(i,e,t)=>{const s=As(e,t);s!==void 0&&i.add(s)};class tR{constructor(e){this._config=eR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=X_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),K_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ec(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ec(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ec(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return ec(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let r=s.get(e);return(!r||t)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,t,s){const{options:r,type:l}=this,c=this._cachedScopes(e,s),h=c.get(t);if(h)return h;const d=new Set;t.forEach(m=>{e&&(d.add(e),m.forEach(b=>Ur(d,e,b))),m.forEach(b=>Ur(d,r,b)),m.forEach(b=>Ur(d,js[l]||{},b)),m.forEach(b=>Ur(d,at,b)),m.forEach(b=>Ur(d,Kd,b))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),Q_.has(t)&&c.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,js[t]||{},at.datasets[t]||{},{type:t},at,Kd]}resolveNamedOptions(e,t,s,r=[""]){const l={$shared:!0},{resolver:c,subPrefixes:h}=yv(this._resolverCache,e,r);let d=c;if(iR(c,t)){l.$shared=!1,s=Vi(s)?s():s;const f=this.createResolver(e,s,h);d=Ra(c,s,f)}for(const f of t)l[f]=d[f];return l}createResolver(e,t,s=[""],r){const{resolver:l}=yv(this._resolverCache,e,s);return Me(t)?Ra(l,t,void 0,r):l}}function yv(i,e,t){let s=i.get(e);s||(s=new Map,i.set(e,s));const r=t.join();let l=s.get(r);return l||(l={resolver:Af(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},s.set(r,l)),l}const nR=i=>Me(i)&&Object.getOwnPropertyNames(i).some(e=>Vi(i[e]));function iR(i,e){const{isScriptable:t,isIndexable:s}=D_(i);for(const r of e){const l=t(r),c=s(r),h=(c||l)&&i[r];if(l&&(Vi(h)||nR(h))||c&&gt(h))return!0}return!1}var sR="4.5.1";const aR=["top","bottom","left","right","chartArea"];function bv(i,e){return i==="top"||i==="bottom"||aR.indexOf(i)===-1&&e==="x"}function vv(i,e){return function(t,s){return t[i]===s[i]?t[e]-s[e]:t[i]-s[i]}}function _v(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),We(t&&t.onComplete,[i],e)}function rR(i){const e=i.chart,t=e.options.animation;We(t&&t.onProgress,[i],e)}function J_(i){return Mf()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const fc={},xv=i=>{const e=J_(i);return Object.values(fc).filter(t=>t.canvas===e).pop()};function lR(i,e,t){const s=Object.keys(i);for(const r of s){const l=+r;if(l>=e){const c=i[r];delete i[r],(t>0||l>e)&&(i[l+t]=c)}}}function oR(i,e,t,s){return!t||i.type==="mouseout"?null:s?e:i}let Hc=class{static defaults=at;static instances=fc;static overrides=js;static registry=Dn;static version=sR;static getChart=xv;static register(...e){Dn.add(...e),Sv()}static unregister(...e){Dn.remove(...e),Sv()}constructor(e,t){const s=this.config=new tR(t),r=J_(e),l=xv(r);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Cj(r)),this.platform.updateConfig(s);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,f=d&&d.height,m=d&&d.width;if(this.id=eO(),this.ctx=h,this.canvas=d,this.width=m,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $j,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vO(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],fc[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}si.listen(this,"complete",_v),si.listen(this,"progress",rR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:r,_aspectRatio:l}=this;return Pe(e)?t&&l?l:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$b(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Fb(this.canvas,this.ctx),this}stop(){return si.stop(this),this}resize(e,t){si.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,r=this.canvas,l=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,t,l),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,$b(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),We(s.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Be(t,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,r=Object.keys(s).reduce((c,h)=>(c[h]=!1,c),{});let l=[];t&&(l=l.concat(Object.keys(t).map(c=>{const h=t[c],d=Jd(c,h),f=d==="r",m=d==="x";return{options:h,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Be(l,c=>{const h=c.options,d=h.id,f=Jd(d,h),m=we(h.type,c.dtype);(h.position===void 0||bv(h.position,f)!==bv(c.dposition))&&(h.position=c.dposition),r[d]=!0;let b=null;if(d in s&&s[d].type===m)b=s[d];else{const v=Dn.getScale(m);b=new v({id:d,type:m,ctx:this.ctx,chart:this}),s[b.id]=b}b.init(h,e)}),Be(r,(c,h)=>{c||delete s[h]}),Be(s,c=>{gn.configure(this,c,c.options),gn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((r,l)=>r.index-l.index),s>t){for(let r=t;r<s;++r)this._destroyDatasetMeta(r);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(vv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,r)=>{t.filter(l=>l===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=t.length;s<r;s++){const l=t[s];let c=this.getDatasetMeta(s);const h=l.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=h,c.indexAxis=l.indexAxis||Qd(h,this.options),c.order=l.order||0,c.index=s,c.label=""+l.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const d=Dn.getController(h),{datasetElementType:f,dataElementType:m}=at.datasets[h];Object.assign(d,{dataElementType:Dn.getElement(m),datasetElementType:f&&Dn.getElement(f)}),c.controller=new d(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Be(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:b}=this.getDatasetMeta(f),v=!r&&l.indexOf(b)===-1;b.buildOrUpdateElements(v),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),r||Be(l,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vv("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Be(this.scales,e=>{gn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Mb(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:l}of t){const c=s==="_removeElements"?-l:l;lR(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=l=>new Set(e.filter(c=>c[0]===l).map((c,h)=>h+","+c.splice(1).join(","))),r=s(0);for(let l=1;l<t;l++)if(!Mb(r,s(l)))return;return Array.from(r).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gn.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Be(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,l)=>{r._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Vi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(si.has(this)?this.attached&&!si.running(this)&&si.start(this):(this.draw(),_v({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let r,l;for(r=0,l=t.length;r<l;++r){const c=t[r];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=TA(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Tf(t,r),e.controller.draw(),r&&Cf(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return rl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,r){const l=aj.modes[t];return typeof l=="function"?l(this,e,s,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let r=s.filter(l=>l&&l._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Rs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const r=s?"show":"hide",l=this.getDatasetMeta(e),c=l.controller._resolveAnimations(void 0,r);il(t)?(l.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(l,{visible:s}),this.update(h=>h.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),si.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Fb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete fc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},r=(l,c,h)=>{l.offsetX=c,l.offsetY=h,this._eventHandler(l)};Be(this.options.events,l=>s(l,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},r=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},l=(d,f)=>{this.canvas&&this.resize(d,f)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),s("resize",l),s("detach",c)};c=()=>{this.attached=!1,r("resize",l),this._stop(),this._resize(0,0),s("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){Be(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Be(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const r=s?"set":"remove";let l,c,h,d;for(t==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=e.length;h<d;++h){c=e[h];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:l,index:c})=>{const h=this.getDatasetMeta(l);if(!h)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:h.data[c],index:c}});!Ec(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const r=this.options.hover,l=(d,f)=>d.filter(m=>!f.some(b=>m.datasetIndex===b.datasetIndex&&m.index===b.index)),c=l(t,e),h=s?e:l(e,t);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const l=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(l||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:r=[],options:l}=this,c=t,h=this._getActiveElements(e,r,s,c),d=rO(e),f=oR(e,this._lastEvent,s,d);s&&(this._lastEvent=null,We(l.onHover,[e,h,this],this),d&&We(l.onClick,[e,h,this],this));const m=!Ec(h,r);return(m||t)&&(this._active=h,this._updateHoverStyles(h,r,t)),this._lastEvent=f,m}_getActiveElements(e,t,s,r){if(e.type==="mouseout")return[];if(!s)return t;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,r)}};function Sv(){return Be(Hc.instances,i=>i._plugins.invalidate())}function cR(i,e,t){const{startAngle:s,x:r,y:l,outerRadius:c,innerRadius:h,options:d}=e,{borderWidth:f,borderJoinStyle:m}=d,b=Math.min(f/c,wn(s-t));if(i.beginPath(),i.arc(r,l,c-f/2,s+b/2,t-b/2),h>0){const v=Math.min(f/h,wn(s-t));i.arc(r,l,h+f/2,t-v/2,s+v/2,!0)}else{const v=Math.min(f/2,c*wn(s-t));if(m==="round")i.arc(r,l,v,t-Ue/2,s+Ue/2,!0);else if(m==="bevel"){const x=2*v*v,S=-x*Math.cos(t+Ue/2)+r,w=-x*Math.sin(t+Ue/2)+l,E=x*Math.cos(s+Ue/2)+r,C=x*Math.sin(s+Ue/2)+l;i.lineTo(S,w),i.lineTo(E,C)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function uR(i,e,t){const{startAngle:s,pixelMargin:r,x:l,y:c,outerRadius:h,innerRadius:d}=e;let f=r/h;i.beginPath(),i.arc(l,c,h,s-f,t+f),d>r?(f=r/d,i.arc(l,c,d,t+f,s-f,!0)):i.arc(l,c,r,t+pt,s-pt),i.closePath(),i.clip()}function hR(i){return Of(i,["outerStart","outerEnd","innerStart","innerEnd"])}function dR(i,e,t,s){const r=hR(i.options.borderRadius),l=(t-e)/2,c=Math.min(l,s*e/2),h=d=>{const f=(t-Math.min(l,d))*s/2;return At(d,0,Math.min(l,f))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:At(r.innerStart,0,c),innerEnd:At(r.innerEnd,0,c)}}function xa(i,e,t,s){return{x:t+i*Math.cos(e),y:s+i*Math.sin(e)}}function Rc(i,e,t,s,r,l){const{x:c,y:h,startAngle:d,pixelMargin:f,innerRadius:m}=e,b=Math.max(e.outerRadius+s+t-f,0),v=m>0?m+s+t+f:0;let x=0;const S=r-d;if(s){const de=m>0?m-s:0,B=b>0?b-s:0,Z=(de+B)/2,re=Z!==0?S*Z/(Z+s):S;x=(S-re)/2}const w=Math.max(.001,S*b-t/Ue)/b,E=(S-w)/2,C=d+E+x,O=r-E-x,{outerStart:A,outerEnd:D,innerStart:P,innerEnd:F}=dR(e,v,b,O-C),z=b-A,k=b-D,Y=C+A/z,V=O-D/k,$=v+P,L=v+F,ee=C+P/$,ie=O-F/L;if(i.beginPath(),l){const de=(Y+V)/2;if(i.arc(c,h,b,Y,de),i.arc(c,h,b,de,V),D>0){const ce=xa(k,V,c,h);i.arc(ce.x,ce.y,D,V,O+pt)}const B=xa(L,O,c,h);if(i.lineTo(B.x,B.y),F>0){const ce=xa(L,ie,c,h);i.arc(ce.x,ce.y,F,O+pt,ie+Math.PI)}const Z=(O-F/v+(C+P/v))/2;if(i.arc(c,h,v,O-F/v,Z,!0),i.arc(c,h,v,Z,C+P/v,!0),P>0){const ce=xa($,ee,c,h);i.arc(ce.x,ce.y,P,ee+Math.PI,C-pt)}const re=xa(z,C,c,h);if(i.lineTo(re.x,re.y),A>0){const ce=xa(z,Y,c,h);i.arc(ce.x,ce.y,A,C-pt,Y)}}else{i.moveTo(c,h);const de=Math.cos(Y)*b+c,B=Math.sin(Y)*b+h;i.lineTo(de,B);const Z=Math.cos(V)*b+c,re=Math.sin(V)*b+h;i.lineTo(Z,re)}i.closePath()}function fR(i,e,t,s,r){const{fullCircles:l,startAngle:c,circumference:h}=e;let d=e.endAngle;if(l){Rc(i,e,t,s,d,r);for(let f=0;f<l;++f)i.fill();isNaN(h)||(d=c+(h%tt||tt))}return Rc(i,e,t,s,d,r),i.fill(),d}function gR(i,e,t,s,r){const{fullCircles:l,startAngle:c,circumference:h,options:d}=e,{borderWidth:f,borderJoinStyle:m,borderDash:b,borderDashOffset:v,borderRadius:x}=d,S=d.borderAlign==="inner";if(!f)return;i.setLineDash(b||[]),i.lineDashOffset=v,S?(i.lineWidth=f*2,i.lineJoin=m||"round"):(i.lineWidth=f,i.lineJoin=m||"bevel");let w=e.endAngle;if(l){Rc(i,e,t,s,w,r);for(let E=0;E<l;++E)i.stroke();isNaN(h)||(w=c+(h%tt||tt))}S&&uR(i,e,w),d.selfJoin&&w-c>=Ue&&x===0&&m!=="miter"&&cR(i,e,w),l||(Rc(i,e,t,s,w,r),i.stroke())}class pR extends di{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const r=this.getProps(["x","y"],s),{angle:l,distance:c}=T_(r,{x:e,y:t}),{startAngle:h,endAngle:d,innerRadius:f,outerRadius:m,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),v=(this.options.spacing+this.options.borderWidth)/2,x=we(b,d-h),S=al(l,h,d)&&h!==d,w=x>=tt||S,E=Fi(c,f+v,m+v);return w&&E}getCenterPoint(e){const{x:t,y:s,startAngle:r,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,m=(r+l)/2,b=(c+h+f+d)/2;return{x:t+Math.cos(m)*b,y:s+Math.sin(m)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,r=(t.offset||0)/4,l=(t.spacing||0)/2,c=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>tt?Math.floor(s/tt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(Ue,s||0)),f=r*d;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,fR(e,this,f,l,c),gR(e,this,f,l,c),e.restore()}}function Z_(i,e,t=e){i.lineCap=we(t.borderCapStyle,e.borderCapStyle),i.setLineDash(we(t.borderDash,e.borderDash)),i.lineDashOffset=we(t.borderDashOffset,e.borderDashOffset),i.lineJoin=we(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=we(t.borderWidth,e.borderWidth),i.strokeStyle=we(t.borderColor,e.borderColor)}function mR(i,e,t){i.lineTo(t.x,t.y)}function yR(i){return i.stepped?DO:i.tension||i.cubicInterpolationMode==="monotone"?NO:mR}function ex(i,e,t={}){const s=i.length,{start:r=0,end:l=s-1}=t,{start:c,end:h}=e,d=Math.max(r,c),f=Math.min(l,h),m=r<c&&l<c||r>h&&l>h;return{count:s,start:d,loop:e.loop,ilen:f<d&&!m?s+f-d:f-d}}function bR(i,e,t,s){const{points:r,options:l}=e,{count:c,start:h,loop:d,ilen:f}=ex(r,t,s),m=yR(l);let{move:b=!0,reverse:v}=s||{},x,S,w;for(x=0;x<=f;++x)S=r[(h+(v?f-x:x))%c],!S.skip&&(b?(i.moveTo(S.x,S.y),b=!1):m(i,w,S,v,l.stepped),w=S);return d&&(S=r[(h+(v?f:0))%c],m(i,w,S,v,l.stepped)),!!d}function vR(i,e,t,s){const r=e.points,{count:l,start:c,ilen:h}=ex(r,t,s),{move:d=!0,reverse:f}=s||{};let m=0,b=0,v,x,S,w,E,C;const O=D=>(c+(f?h-D:D))%l,A=()=>{w!==E&&(i.lineTo(m,E),i.lineTo(m,w),i.lineTo(m,C))};for(d&&(x=r[O(0)],i.moveTo(x.x,x.y)),v=0;v<=h;++v){if(x=r[O(v)],x.skip)continue;const D=x.x,P=x.y,F=D|0;F===S?(P<w?w=P:P>E&&(E=P),m=(b*m+D)/++b):(A(),i.lineTo(D,P),S=F,b=0,w=E=P),C=P}A()}function Zd(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?vR:bR}function _R(i){return i.stepped?dA:i.tension||i.cubicInterpolationMode==="monotone"?fA:Ss}function xR(i,e,t,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,s)&&r.closePath()),Z_(i,e.options),i.stroke(r)}function SR(i,e,t,s){const{segments:r,options:l}=e,c=Zd(e);for(const h of r)Z_(i,l,h.style),i.beginPath(),c(i,e,h,{start:t,end:t+s-1})&&i.closePath(),i.stroke()}const wR=typeof Path2D=="function";function ER(i,e,t,s){wR&&!e.options.segment?xR(i,e,t,s):SR(i,e,t,s)}class TR extends di{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;sA(this._points,s,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=xA(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,r=e[t],l=this.points,c=bA(this,{property:t,start:r,end:r});if(!c.length)return;const h=[],d=_R(s);let f,m;for(f=0,m=c.length;f<m;++f){const{start:b,end:v}=c[f],x=l[b],S=l[v];if(x===S){h.push(x);continue}const w=Math.abs((r-x[t])/(S[t]-x[t])),E=d(x,S,w,s.stepped);E[t]=e[t],h.push(E)}return h.length===1?h[0]:h}pathSegment(e,t,s){return Zd(this)(e,this,t,s)}path(e,t,s){const r=this.segments,l=Zd(this);let c=this._loop;t=t||0,s=s||this.points.length-t;for(const h of r)c&=l(e,this,h,{start:t,end:t+s-1});return!!c}draw(e,t,s,r){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),ER(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function wv(i,e,t,s){const r=i.options,{[t]:l}=i.getProps([t],s);return Math.abs(e-l)<r.radius+r.hitRadius}class CR extends di{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(e-l,2)+Math.pow(t-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return wv(this,e,"x",t)}inYRange(e,t){return wv(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!rl(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Xd(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function tx(i,e){const{x:t,y:s,base:r,width:l,height:c}=i.getProps(["x","y","base","width","height"],e);let h,d,f,m,b;return i.horizontal?(b=c/2,h=Math.min(t,r),d=Math.max(t,r),f=s-b,m=s+b):(b=l/2,h=t-b,d=t+b,f=Math.min(s,r),m=Math.max(s,r)),{left:h,top:f,right:d,bottom:m}}function qi(i,e,t,s){return i?0:At(e,t,s)}function OR(i,e,t){const s=i.options.borderWidth,r=i.borderSkipped,l=k_(s);return{t:qi(r.top,l.top,0,t),r:qi(r.right,l.right,0,e),b:qi(r.bottom,l.bottom,0,t),l:qi(r.left,l.left,0,e)}}function AR(i,e,t){const{enableBorderRadius:s}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,l=Ca(r),c=Math.min(e,t),h=i.borderSkipped,d=s||Me(r);return{topLeft:qi(!d||h.top||h.left,l.topLeft,0,c),topRight:qi(!d||h.top||h.right,l.topRight,0,c),bottomLeft:qi(!d||h.bottom||h.left,l.bottomLeft,0,c),bottomRight:qi(!d||h.bottom||h.right,l.bottomRight,0,c)}}function jR(i){const e=tx(i),t=e.right-e.left,s=e.bottom-e.top,r=OR(i,t/2,s/2),l=AR(i,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:l},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,l.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(r.b,r.r))}}}}function Cd(i,e,t,s){const r=e===null,l=t===null,h=i&&!(r&&l)&&tx(i,s);return h&&(r||Fi(e,h.left,h.right))&&(l||Fi(t,h.top,h.bottom))}function RR(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function MR(i,e){i.rect(e.x,e.y,e.w,e.h)}function Od(i,e,t={}){const s=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,l=(i.x+i.w!==t.x+t.w?e:0)-s,c=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+s,y:i.y+r,w:i.w+l,h:i.h+c,radius:i.radius}}class kR extends di{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:r}}=this,{inner:l,outer:c}=jR(this),h=RR(c.radius)?Oc:MR;e.save(),(c.w!==l.w||c.h!==l.h)&&(e.beginPath(),h(e,Od(c,t,l)),e.clip(),h(e,Od(l,-t,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),h(e,Od(l,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,s){return Cd(this,e,t,s)}inXRange(e,t){return Cd(this,e,null,t)}inYRange(e,t){return Cd(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:r,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(t+r)/2:t,y:l?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Ev=(i,e)=>{let{boxHeight:t=e,boxWidth:s=e}=i;return i.usePointStyle&&(t=Math.min(t,e),s=i.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},DR=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class Tv extends di{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=We(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=jt(s.font),l=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=Ev(s,l);let f,m;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(c,l,h,d)+10):(m=this.maxHeight,f=this._fitCols(c,r,h,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,r){const{ctx:l,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],m=r+h;let b=e;l.textAlign="left",l.textBaseline="middle";let v=-1,x=-m;return this.legendItems.forEach((S,w)=>{const E=s+t/2+l.measureText(S.text).width;(w===0||f[f.length-1]+E+2*h>c)&&(b+=m,f[f.length-(w>0?0:1)]=0,x+=m,v++),d[w]={left:0,top:x,row:v,width:E,height:r},f[f.length-1]+=E+h}),b}_fitCols(e,t,s,r){const{ctx:l,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],m=c-e;let b=h,v=0,x=0,S=0,w=0;return this.legendItems.forEach((E,C)=>{const{itemWidth:O,itemHeight:A}=NR(s,t,l,E,r);C>0&&x+A+2*h>m&&(b+=v+h,f.push({width:v,height:x}),S+=v+h,w++,v=x=0),d[C]={left:S,top:x,col:w,width:O,height:A},v=Math.max(v,O),x+=A+h}),b+=v,f.push({width:v,height:x}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:r},rtl:l}}=this,c=Oa(l,this.left,this.width);if(this.isHorizontal()){let h=0,d=Ot(s,this.left+r,this.right-this.lineWidths[h]);for(const f of t)h!==f.row&&(h=f.row,d=Ot(s,this.left+r,this.right-this.lineWidths[h])),f.top+=this.top+e+r,f.left=c.leftForLtr(c.x(d),f.width),d+=f.width+r}else{let h=0,d=Ot(s,this.top+e+r,this.bottom-this.columnSizes[h].height);for(const f of t)f.col!==h&&(h=f.col,d=Ot(s,this.top+e+r,this.bottom-this.columnSizes[h].height)),f.top=d,f.left+=this.left+r,f.left=c.leftForLtr(c.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tf(e,this),this._draw(),Cf(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:r}=this,{align:l,labels:c}=e,h=at.color,d=Oa(e.rtl,this.left,this.width),f=jt(c.font),{padding:m}=c,b=f.size,v=b/2;let x;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:S,boxHeight:w,itemHeight:E}=Ev(c,b),C=function(F,z,k){if(isNaN(S)||S<=0||isNaN(w)||w<0)return;r.save();const Y=we(k.lineWidth,1);if(r.fillStyle=we(k.fillStyle,h),r.lineCap=we(k.lineCap,"butt"),r.lineDashOffset=we(k.lineDashOffset,0),r.lineJoin=we(k.lineJoin,"miter"),r.lineWidth=Y,r.strokeStyle=we(k.strokeStyle,h),r.setLineDash(we(k.lineDash,[])),c.usePointStyle){const V={radius:w*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:Y},$=d.xPlus(F,S/2),L=z+v;M_(r,V,$,L,c.pointStyleWidth&&S)}else{const V=z+Math.max((b-w)/2,0),$=d.leftForLtr(F,S),L=Ca(k.borderRadius);r.beginPath(),Object.values(L).some(ee=>ee!==0)?Oc(r,{x:$,y:V,w:S,h:w,radius:L}):r.rect($,V,S,w),r.fill(),Y!==0&&r.stroke()}r.restore()},O=function(F,z,k){ll(r,k.text,F,z+E/2,f,{strikethrough:k.hidden,textAlign:d.textAlign(k.textAlign)})},A=this.isHorizontal(),D=this._computeTitleHeight();A?x={x:Ot(l,this.left+m,this.right-s[0]),y:this.top+m+D,line:0}:x={x:this.left+m,y:Ot(l,this.top+D+m,this.bottom-t[0].height),line:0},B_(this.ctx,e.textDirection);const P=E+m;this.legendItems.forEach((F,z)=>{r.strokeStyle=F.fontColor,r.fillStyle=F.fontColor;const k=r.measureText(F.text).width,Y=d.textAlign(F.textAlign||(F.textAlign=c.textAlign)),V=S+v+k;let $=x.x,L=x.y;d.setWidth(this.width),A?z>0&&$+V+m>this.right&&(L=x.y+=P,x.line++,$=x.x=Ot(l,this.left+m,this.right-s[x.line])):z>0&&L+P>this.bottom&&($=x.x=$+t[x.line].width+m,x.line++,L=x.y=Ot(l,this.top+D+m,this.bottom-t[x.line].height));const ee=d.x($);if(C(ee,L,F),$=_O(Y,$+S+v,A?$+V:this.right,e.rtl),O(d.x($),L,F),A)x.x+=V+m;else if(typeof F.text!="string"){const ie=f.lineHeight;x.y+=nx(F,ie)+m}else x.y+=P}),U_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=jt(t.font),r=mn(t.padding);if(!t.display)return;const l=Oa(e.rtl,this.left,this.width),c=this.ctx,h=t.position,d=s.size/2,f=r.top+d;let m,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+f,b=Ot(e.align,b,this.right-v);else{const S=this.columnSizes.reduce((w,E)=>Math.max(w,E.height),0);m=f+Ot(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const x=Ot(h,b,b+v);c.textAlign=l.textAlign(Sf(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=s.string,ll(c,t.text,x,m,s)}_computeTitleHeight(){const e=this.options.title,t=jt(e.font),s=mn(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,r,l;if(Fi(e,this.left,this.right)&&Fi(t,this.top,this.bottom)){for(l=this.legendHitBoxes,s=0;s<l.length;++s)if(r=l[s],Fi(e,r.left,r.left+r.width)&&Fi(t,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!zR(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,l=DR(r,s);r&&!l&&We(t.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!l&&We(t.onHover,[e,s,this],this)}else s&&We(t.onClick,[e,s,this],this)}}function NR(i,e,t,s,r){const l=PR(s,i,e,t),c=LR(r,s,e.lineHeight);return{itemWidth:l,itemHeight:c}}function PR(i,e,t,s){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((l,c)=>l.length>c.length?l:c)),e+t.size/2+s.measureText(r).width}function LR(i,e,t){let s=i;return typeof e.text!="string"&&(s=nx(e,t)),s}function nx(i,e){const t=i.text?i.text.length:0;return e*t}function zR(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var BR={id:"legend",_element:Tv,start(i,e,t){const s=i.legend=new Tv({ctx:i.ctx,options:t,chart:i});gn.configure(i,s,t),gn.addBox(i,s)},stop(i){gn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const s=i.legend;gn.configure(i,s,t),s.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const s=e.datasetIndex,r=t.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:r,color:l,useBorderRadius:c,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),m=mn(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:l,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:c&&(h||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class ix extends di{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=gt(s.text)?s.text.length:1;this._padding=mn(s.padding);const l=r*jt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:r,right:l,options:c}=this,h=c.align;let d=0,f,m,b;return this.isHorizontal()?(m=Ot(h,s,l),b=t+e,f=l-s):(c.position==="left"?(m=s+e,b=Ot(h,r,t),d=Ue*-.5):(m=l-e,b=Ot(h,t,r),d=Ue*.5),f=r-t),{titleX:m,titleY:b,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=jt(t.font),l=s.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:f}=this._drawArgs(l);ll(e,t.text,0,0,s,{color:t.color,maxWidth:d,rotation:f,textAlign:Sf(t.align),textBaseline:"middle",translation:[c,h]})}}function UR(i,e){const t=new ix({ctx:i.ctx,options:e,chart:i});gn.configure(i,t,e),gn.addBox(i,t),i.titleBlock=t}var HR={id:"title",_element:ix,start(i,e,t){UR(i,t)},stop(i){const e=i.titleBlock;gn.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){const s=i.titleBlock;gn.configure(i,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gr={average(i){if(!i.length)return!1;let e,t,s=new Set,r=0,l=0;for(e=0,t=i.length;e<t;++e){const h=i[e].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),r+=d.y,++l}}return l===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:r/l}},nearest(i,e){if(!i.length)return!1;let t=e.x,s=e.y,r=Number.POSITIVE_INFINITY,l,c,h;for(l=0,c=i.length;l<c;++l){const d=i[l].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),m=Wd(e,f);m<r&&(r=m,h=d)}}if(h){const d=h.tooltipPosition();t=d.x,s=d.y}return{x:t,y:s}}};function kn(i,e){return e&&(gt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function ai(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function FR(i,e){const{element:t,datasetIndex:s,index:r}=e,l=i.getDatasetMeta(s).controller,{label:c,value:h}=l.getLabelAndValue(r);return{chart:i,label:c,parsed:l.getParsed(r),raw:i.data.datasets[s].data[r],formattedValue:h,dataset:l.getDataset(),dataIndex:r,datasetIndex:s,element:t}}function Cv(i,e){const t=i.chart.ctx,{body:s,footer:r,title:l}=i,{boxWidth:c,boxHeight:h}=e,d=jt(e.bodyFont),f=jt(e.titleFont),m=jt(e.footerFont),b=l.length,v=r.length,x=s.length,S=mn(e.padding);let w=S.height,E=0,C=s.reduce((D,P)=>D+P.before.length+P.lines.length+P.after.length,0);if(C+=i.beforeBody.length+i.afterBody.length,b&&(w+=b*f.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),C){const D=e.displayColors?Math.max(h,d.lineHeight):d.lineHeight;w+=x*D+(C-x)*d.lineHeight+(C-1)*e.bodySpacing}v&&(w+=e.footerMarginTop+v*m.lineHeight+(v-1)*e.footerSpacing);let O=0;const A=function(D){E=Math.max(E,t.measureText(D).width+O)};return t.save(),t.font=f.string,Be(i.title,A),t.font=d.string,Be(i.beforeBody.concat(i.afterBody),A),O=e.displayColors?c+2+e.boxPadding:0,Be(s,D=>{Be(D.before,A),Be(D.lines,A),Be(D.after,A)}),O=0,t.font=m.string,Be(i.footer,A),t.restore(),E+=S.width,{width:E,height:w}}function IR(i,e){const{y:t,height:s}=e;return t<s/2?"top":t>i.height-s/2?"bottom":"center"}function qR(i,e,t,s){const{x:r,width:l}=s,c=t.caretSize+t.caretPadding;if(i==="left"&&r+l+c>e.width||i==="right"&&r-l-c<0)return!0}function $R(i,e,t,s){const{x:r,width:l}=t,{width:c,chartArea:{left:h,right:d}}=i;let f="center";return s==="center"?f=r<=(h+d)/2?"left":"right":r<=l/2?f="left":r>=c-l/2&&(f="right"),qR(f,i,e,t)&&(f="center"),f}function Ov(i,e,t){const s=t.yAlign||e.yAlign||IR(i,t);return{xAlign:t.xAlign||e.xAlign||$R(i,e,t,s),yAlign:s}}function VR(i,e){let{x:t,width:s}=i;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function GR(i,e,t){let{y:s,height:r}=i;return e==="top"?s+=t:e==="bottom"?s-=r+t:s-=r/2,s}function Av(i,e,t,s){const{caretSize:r,caretPadding:l,cornerRadius:c}=i,{xAlign:h,yAlign:d}=t,f=r+l,{topLeft:m,topRight:b,bottomLeft:v,bottomRight:x}=Ca(c);let S=VR(e,h);const w=GR(e,d,f);return d==="center"?h==="left"?S+=f:h==="right"&&(S-=f):h==="left"?S-=Math.max(m,v)+r:h==="right"&&(S+=Math.max(b,x)+r),{x:At(S,0,s.width-e.width),y:At(w,0,s.height-e.height)}}function tc(i,e,t){const s=mn(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-s.right:i.x+s.left}function jv(i){return kn([],ai(i))}function YR(i,e,t){return Rs(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Rv(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const sx={beforeTitle:ii,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:ii,beforeBody:ii,beforeLabel:ii,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return Pe(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ii,afterBody:ii,beforeFooter:ii,footer:ii,afterFooter:ii};function Ut(i,e,t,s){const r=i[e].call(t,s);return typeof r>"u"?sx[e].call(t,s):r}class Mv extends di{static positioners=Gr;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&t.options.animation&&s.animations,l=new F_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=YR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,r=Ut(s,"beforeTitle",this,e),l=Ut(s,"title",this,e),c=Ut(s,"afterTitle",this,e);let h=[];return h=kn(h,ai(r)),h=kn(h,ai(l)),h=kn(h,ai(c)),h}getBeforeBody(e,t){return jv(Ut(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,r=[];return Be(e,l=>{const c={before:[],lines:[],after:[]},h=Rv(s,l);kn(c.before,ai(Ut(h,"beforeLabel",this,l))),kn(c.lines,Ut(h,"label",this,l)),kn(c.after,ai(Ut(h,"afterLabel",this,l))),r.push(c)}),r}getAfterBody(e,t){return jv(Ut(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,r=Ut(s,"beforeFooter",this,e),l=Ut(s,"footer",this,e),c=Ut(s,"afterFooter",this,e);let h=[];return h=kn(h,ai(r)),h=kn(h,ai(l)),h=kn(h,ai(c)),h}_createItems(e){const t=this._active,s=this.chart.data,r=[],l=[],c=[];let h=[],d,f;for(d=0,f=t.length;d<f;++d)h.push(FR(this.chart,t[d]));return e.filter&&(h=h.filter((m,b,v)=>e.filter(m,b,v,s))),e.itemSort&&(h=h.sort((m,b)=>e.itemSort(m,b,s))),Be(h,m=>{const b=Rv(e.callbacks,m);r.push(Ut(b,"labelColor",this,m)),l.push(Ut(b,"labelPointStyle",this,m)),c.push(Ut(b,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const s=this.options.setContext(this.getContext()),r=this._active;let l,c=[];if(!r.length)this.opacity!==0&&(l={opacity:0});else{const h=Gr[s.position].call(this,r,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const d=this._size=Cv(this,s),f=Object.assign({},h,d),m=Ov(this.chart,s,f),b=Av(s,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,l={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,r){const l=this.getCaretPosition(e,s,r);t.lineTo(l.x1,l.y1),t.lineTo(l.x2,l.y2),t.lineTo(l.x3,l.y3)}getCaretPosition(e,t,s){const{xAlign:r,yAlign:l}=this,{caretSize:c,cornerRadius:h}=s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:b}=Ca(h),{x:v,y:x}=e,{width:S,height:w}=t;let E,C,O,A,D,P;return l==="center"?(D=x+w/2,r==="left"?(E=v,C=E-c,A=D+c,P=D-c):(E=v+S,C=E+c,A=D-c,P=D+c),O=E):(r==="left"?C=v+Math.max(d,m)+c:r==="right"?C=v+S-Math.max(f,b)-c:C=this.caretX,l==="top"?(A=x,D=A-c,E=C-c,O=C+c):(A=x+w,D=A+c,E=C+c,O=C-c),P=A),{x1:E,x2:C,x3:O,y1:A,y2:D,y3:P}}drawTitle(e,t,s){const r=this.title,l=r.length;let c,h,d;if(l){const f=Oa(s.rtl,this.x,this.width);for(e.x=tc(this,s.titleAlign,s),t.textAlign=f.textAlign(s.titleAlign),t.textBaseline="middle",c=jt(s.titleFont),h=s.titleSpacing,t.fillStyle=s.titleColor,t.font=c.string,d=0;d<l;++d)t.fillText(r[d],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,d+1===l&&(e.y+=s.titleMarginBottom-h)}}_drawColorBox(e,t,s,r,l){const c=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:f}=l,m=jt(l.bodyFont),b=tc(this,"left",l),v=r.x(b),x=d<m.lineHeight?(m.lineHeight-d)/2:0,S=t.y+x;if(l.usePointStyle){const w={radius:Math.min(f,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},E=r.leftForLtr(v,f)+f/2,C=S+d/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,Xd(e,w,E,C),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Xd(e,w,E,C)}else{e.lineWidth=Me(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const w=r.leftForLtr(v,f),E=r.leftForLtr(r.xPlus(v,1),f-2),C=Ca(c.borderRadius);Object.values(C).some(O=>O!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Oc(e,{x:w,y:S,w:f,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Oc(e,{x:E,y:S+1,w:f-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(w,S,f,d),e.strokeRect(w,S,f,d),e.fillStyle=c.backgroundColor,e.fillRect(E,S+1,f-2,d-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:r}=this,{bodySpacing:l,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:f,boxPadding:m}=s,b=jt(s.bodyFont);let v=b.lineHeight,x=0;const S=Oa(s.rtl,this.x,this.width),w=function(k){t.fillText(k,S.x(e.x+x),e.y+v/2),e.y+=v+l},E=S.textAlign(c);let C,O,A,D,P,F,z;for(t.textAlign=c,t.textBaseline="middle",t.font=b.string,e.x=tc(this,E,s),t.fillStyle=s.bodyColor,Be(this.beforeBody,w),x=h&&E!=="right"?c==="center"?f/2+m:f+2+m:0,D=0,F=r.length;D<F;++D){for(C=r[D],O=this.labelTextColors[D],t.fillStyle=O,Be(C.before,w),A=C.lines,h&&A.length&&(this._drawColorBox(t,e,D,S,s),v=Math.max(b.lineHeight,d)),P=0,z=A.length;P<z;++P)w(A[P]),v=b.lineHeight;Be(C.after,w)}x=0,v=b.lineHeight,Be(this.afterBody,w),e.y-=l}drawFooter(e,t,s){const r=this.footer,l=r.length;let c,h;if(l){const d=Oa(s.rtl,this.x,this.width);for(e.x=tc(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=d.textAlign(s.footerAlign),t.textBaseline="middle",c=jt(s.footerFont),t.fillStyle=s.footerColor,t.font=c.string,h=0;h<l;++h)t.fillText(r[h],d.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,t,s,r){const{xAlign:l,yAlign:c}=this,{x:h,y:d}=e,{width:f,height:m}=s,{topLeft:b,topRight:v,bottomLeft:x,bottomRight:S}=Ca(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(h+b,d),c==="top"&&this.drawCaret(e,t,s,r),t.lineTo(h+f-v,d),t.quadraticCurveTo(h+f,d,h+f,d+v),c==="center"&&l==="right"&&this.drawCaret(e,t,s,r),t.lineTo(h+f,d+m-S),t.quadraticCurveTo(h+f,d+m,h+f-S,d+m),c==="bottom"&&this.drawCaret(e,t,s,r),t.lineTo(h+x,d+m),t.quadraticCurveTo(h,d+m,h,d+m-x),c==="center"&&l==="left"&&this.drawCaret(e,t,s,r),t.lineTo(h,d+b),t.quadraticCurveTo(h,d,h+b,d),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,r=s&&s.x,l=s&&s.y;if(r||l){const c=Gr[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Cv(this,e),d=Object.assign({},c,this._size),f=Ov(t,e,d),m=Av(e,d,f,t);(r._to!==m.x||l._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},l={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=mn(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=s,this.drawBackground(l,e,r,t),B_(e,t.textDirection),l.y+=c.top,this.drawTitle(l,e,t),this.drawBody(l,e,t),this.drawFooter(l,e,t),U_(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,r=e.map(({datasetIndex:h,index:d})=>{const f=this.chart.getDatasetMeta(h);if(!f)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:f.data[d],index:d}}),l=!Ec(s,r),c=this._positionChanged(r,t);(l||c)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,l=this._active||[],c=this._getActiveElements(e,l,t,s),h=this._positionChanged(c,e),d=t||!Ec(c,l)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,s,r){const l=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,l.mode,l,s);return l.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:s,caretY:r,options:l}=this,c=Gr[l.position].call(this,e,t);return c!==!1&&(s!==c.x||r!==c.y)}}var WR={id:"tooltip",_element:Mv,positioners:Gr,afterInit(i,e,t){t&&(i.tooltip=new Mv({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const KR=(i,e,t,s)=>(typeof e=="string"?(t=i.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function XR(i,e,t,s){const r=i.indexOf(e);if(r===-1)return KR(i,e,t,s);const l=i.lastIndexOf(e);return r!==l?t:r}const QR=(i,e)=>i===null?null:At(Math.round(i),0,e);function kv(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class JR extends La{static id="category";static defaults={ticks:{callback:kv}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:r,label:l}of t)s[r]===l&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Pe(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:XR(s,e,we(t,e),this._addedLabels),QR(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,r=[];let l=this.getLabels();l=e===0&&t===l.length-1?l:l.slice(e,t+1),this._valueRange=Math.max(l.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=t;c++)r.push({value:c});return r}getLabelForValue(e){return kv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function ZR(i,e){const t=[],{bounds:r,step:l,min:c,max:h,precision:d,count:f,maxTicks:m,maxDigits:b,includeBounds:v}=i,x=l||1,S=m-1,{min:w,max:E}=e,C=!Pe(c),O=!Pe(h),A=!Pe(f),D=(E-w)/(b+1);let P=Db((E-w)/S/x)*x,F,z,k,Y;if(P<1e-14&&!C&&!O)return[{value:w},{value:E}];Y=Math.ceil(E/P)-Math.floor(w/P),Y>S&&(P=Db(Y*P/S/x)*x),Pe(d)||(F=Math.pow(10,d),P=Math.ceil(P*F)/F),r==="ticks"?(z=Math.floor(w/P)*P,k=Math.ceil(E/P)*P):(z=w,k=E),C&&O&&l&&hO((h-c)/l,P/1e3)?(Y=Math.round(Math.min((h-c)/P,m)),P=(h-c)/Y,z=c,k=h):A?(z=C?c:z,k=O?h:k,Y=f-1,P=(k-z)/Y):(Y=(k-z)/P,Kr(Y,Math.round(Y),P/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const V=Math.max(Nb(P),Nb(z));F=Math.pow(10,Pe(d)?V:d),z=Math.round(z*F)/F,k=Math.round(k*F)/F;let $=0;for(C&&(v&&z!==c?(t.push({value:c}),z<c&&$++,Kr(Math.round((z+$*P)*F)/F,c,Dv(c,D,i))&&$++):z<c&&$++);$<Y;++$){const L=Math.round((z+$*P)*F)/F;if(O&&L>h)break;t.push({value:L})}return O&&v&&k!==h?t.length&&Kr(t[t.length-1].value,h,Dv(h,D,i))?t[t.length-1].value=h:t.push({value:h}):(!O||k===h)&&t.push({value:k}),t}function Dv(i,e,{horizontal:t,minRotation:s}){const r=li(s),l=(t?Math.sin(r):Math.cos(r))||.001,c=.75*e*(""+i).length;return Math.min(e/l,c)}class eM extends La{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Pe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:r,max:l}=this;const c=d=>r=t?r:d,h=d=>l=s?l:d;if(e){const d=Pn(r),f=Pn(l);d<0&&f<0?h(0):d>0&&f>0&&c(0)}if(r===l){let d=l===0?1:Math.abs(l*.05);h(l+d),e||c(r-d)}this.min=r,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},l=this._range||this,c=ZR(r,l);return e.bounds==="ticks"&&dO(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-t)/Math.max(e.length-1,1)/2;t-=r,s+=r}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Ef(e,this.chart.options.locale,this.options.ticks.format)}}class tM extends eM{static id="linear";static defaults={ticks:{callback:R_.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=pn(e)?e:0,this.max=pn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=li(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,l.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Fc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},It=Object.keys(Fc);function Nv(i,e){return i-e}function Pv(i,e){if(Pe(e))return null;const t=i._adapter,{parser:s,round:r,isoWeekday:l}=i._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),pn(c)||(c=typeof s=="string"?t.parse(c,s):t.parse(c)),c===null?null:(r&&(c=r==="week"&&(sl(l)||l===!0)?t.startOf(c,"isoWeek",l):t.startOf(c,r)),+c)}function Lv(i,e,t,s){const r=It.length;for(let l=It.indexOf(i);l<r-1;++l){const c=Fc[It[l]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=s)return It[l]}return It[r-1]}function nM(i,e,t,s,r){for(let l=It.length-1;l>=It.indexOf(t);l--){const c=It[l];if(Fc[c].common&&i._adapter.diff(r,s,c)>=e-1)return c}return It[t?It.indexOf(t):0]}function iM(i){for(let e=It.indexOf(i)+1,t=It.length;e<t;++e)if(Fc[It[e]].common)return It[e]}function zv(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:s,hi:r}=xf(t,e),l=t[s]>=e?t[s]:t[r];i[l]=!0}}function sM(i,e,t,s){const r=i._adapter,l=+r.startOf(e[0].value,s),c=e[e.length-1].value;let h,d;for(h=l;h<=c;h=+r.add(h,1,s))d=t[h],d>=0&&(e[d].major=!0);return e}function Bv(i,e,t){const s=[],r={},l=e.length;let c,h;for(c=0;c<l;++c)h=e[c],r[h]=c,s.push({value:h,major:!1});return l===0||!t?s:sM(i,s,r,t)}class Uv extends La{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),r=this._adapter=new ej._date(e.adapters.date);r.init(t),Wr(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Pv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:r,max:l,minDefined:c,maxDefined:h}=this.getUserBounds();function d(f){!c&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!h&&!isNaN(f.max)&&(l=Math.max(l,f.max))}(!c||!h)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=pn(r)&&!isNaN(r)?r:+t.startOf(Date.now(),s),l=pn(l)&&!isNaN(l)?l:+t.endOf(Date.now(),s)+1,this.min=Math.min(r,l-1),this.max=Math.max(r+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const l=this.min,c=this.max,h=yO(r,l,c);return this._unit=t.unit||(s.autoSkip?Lv(t.minUnit,this.min,this.max,this._getLabelCapacity(l)):nM(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:iM(this._unit),this.initOffsets(r),e.reverse&&h.reverse(),Bv(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,r,l;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?s=l:s=(l-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=At(t,0,c),s=At(s,0,c),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,r=this.options,l=r.time,c=l.unit||Lv(l.minUnit,t,s,this._getLabelCapacity(t)),h=we(r.ticks.stepSize,1),d=c==="week"?l.isoWeekday:!1,f=sl(d)||d===!0,m={};let b=t,v,x;if(f&&(b=+e.startOf(b,"isoWeek",d)),b=+e.startOf(b,f?"day":c),e.diff(s,t,c)>1e5*h)throw new Error(t+" and "+s+" are too far apart with stepSize of "+h+" "+c);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(v=b,x=0;v<s;v=+e.add(v,h,c),x++)zv(m,v,S);return(v===s||r.bounds==="ticks"||x===1)&&zv(m,v,S),Object.keys(m).sort(Nv).map(w=>+w)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,l=this._unit,c=t||r[l];return this._adapter.format(e,c)}_tickFormatFunction(e,t,s,r){const l=this.options,c=l.ticks.callback;if(c)return We(c,[e,t,s],this);const h=l.time.displayFormats,d=this._unit,f=this._majorUnit,m=d&&h[d],b=f&&h[f],v=s[t],x=f&&b&&v&&v.major;return this._adapter.format(e,r||(x?b:m))}generateTickLabels(e){let t,s,r;for(t=0,s=e.length;t<s;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,r=li(this.isHorizontal()?t.maxRotation:t.minRotation),l=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:s*l+h*c,h:s*c+h*l}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,r=s[t.unit]||s.millisecond,l=this._tickFormatFunction(e,0,Bv(this,[e],this._majorUnit),r),c=this._getLabelSize(l),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,s=r.length;t<s;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const r=this.getLabels();for(t=0,s=r.length;t<s;++t)e.push(Pv(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return O_(e.sort(Nv))}}function nc(i,e,t){let s=0,r=i.length-1,l,c,h,d;t?(e>=i[s].pos&&e<=i[r].pos&&({lo:s,hi:r}=Cs(i,"pos",e)),{pos:l,time:h}=i[s],{pos:c,time:d}=i[r]):(e>=i[s].time&&e<=i[r].time&&({lo:s,hi:r}=Cs(i,"time",e)),{time:l,pos:h}=i[s],{time:c,pos:d}=i[r]);const f=c-l;return f?h+(d-h)*(e-l)/f:h}class M2 extends Uv{static id="timeseries";static defaults=Uv.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=nc(t,this.min),this._tableRange=nc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,r=[],l=[];let c,h,d,f,m;for(c=0,h=e.length;c<h;++c)f=e[c],f>=t&&f<=s&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(c=0,h=r.length;c<h;++c)m=r[c+1],d=r[c-1],f=r[c],Math.round((m+d)/2)!==f&&l.push({time:f,pos:c/(h-1)});return l}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((r,l)=>r-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(nc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return nc(this._table,s*this._tableRange+this._minPos,!0)}}const ax="label";function Hv(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function aM(i,e){const t=i.options;t&&e&&Object.assign(t,e)}function rx(i,e){i.labels=e}function lx(i,e,t=ax){const s=[];i.datasets=e.map(r=>{const l=i.datasets.find(c=>c[t]===r[t]);return!l||!r.data||s.includes(l)?{...r}:(s.push(l),Object.assign(l,r),l)})}function rM(i,e=ax){const t={labels:[],datasets:[]};return rx(t,i.labels),lx(t,i.datasets,e),t}function lM(i,e){const{height:t=150,width:s=300,redraw:r=!1,datasetIdKey:l,type:c,data:h,options:d,plugins:f=[],fallbackContent:m,updateMode:b,...v}=i,x=I.useRef(null),S=I.useRef(null),w=()=>{x.current&&(S.current=new Hc(x.current,{type:c,data:rM(h,l),options:d&&{...d},plugins:f}),Hv(e,S.current))},E=()=>{Hv(e,null),S.current&&(S.current.destroy(),S.current=null)};return I.useEffect(()=>{!r&&S.current&&d&&aM(S.current,d)},[r,d]),I.useEffect(()=>{!r&&S.current&&rx(S.current.config.data,h.labels)},[r,h.labels]),I.useEffect(()=>{!r&&S.current&&h.datasets&&lx(S.current.config.data,h.datasets,l)},[r,h.datasets]),I.useEffect(()=>{S.current&&(r?(E(),setTimeout(w)):S.current.update(b))},[r,d,h.labels,h.datasets,b]),I.useEffect(()=>{S.current&&(E(),setTimeout(w))},[c]),I.useEffect(()=>(w(),()=>E()),[]),y.jsx("canvas",{ref:x,role:"img",height:t,width:s,...v,children:m})}const oM=I.forwardRef(lM);function Nf(i,e){return Hc.register(e),I.forwardRef((t,s)=>y.jsx(oM,{...t,ref:s,type:i}))}const cM=Nf("line",ZA),uM=Nf("bar",XA),hM=Nf("doughnut",JA);Hc.register(JR,tM,CR,TR,kR,pR,HR,WR,BR);const dM=()=>{const[i,e]=I.useState(!0),[t,s]=I.useState(null),[r,l]=I.useState([]),[c,h]=I.useState([]),[d,f]=I.useState([]),[m,b]=I.useState([]),[v,x]=I.useState("30days");I.useEffect(()=>{S()},[v]);const S=async()=>{e(!0);try{await Promise.all([E(),C(),O(),A(),D()])}catch(k){console.error("Error loading analytics:",k)}finally{e(!1)}},w=()=>{const k=new Date;switch(v){case"7days":return new Date(k.getTime()-10080*60*1e3).toISOString();case"30days":return new Date(k.getTime()-720*60*60*1e3).toISOString();case"90days":return new Date(k.getTime()-2160*60*60*1e3).toISOString();default:return null}},E=async()=>{const k=w();let Y=ft.from("invoices").select("total, status");k&&(Y=Y.gte("invoice_date",k));const{data:V}=await Y;let $=ft.from("invoice_items").select("qty, invoice_id");if(k){const{data:ce}=await ft.from("invoices").select("id").gte("invoice_date",k),ve=ce?.map(R=>R.id)||[];ve.length>0&&($=$.in("invoice_id",ve))}const{data:L}=await $,ee=V?.reduce((ce,ve)=>ce+Number(ve.total),0)||0,ie=V?.length||0,de=L?.reduce((ce,ve)=>ce+Number(ve.qty),0)||0,B=V?.filter(ce=>ce.status==="draft").length||0,Z=V?.filter(ce=>ce.status==="paid").length||0,re=V?.filter(ce=>ce.status==="sent").length||0;s({totalInvoices:ie,totalRevenue:ee,avgInvoiceValue:ie>0?ee/ie:0,totalItemsSold:de,draftCount:B,paidCount:Z,sentCount:re})},C=async()=>{const k=w();let Y=ft.from("invoices").select("invoice_date, total");k&&(Y=Y.gte("invoice_date",k));const{data:V}=await Y.order("invoice_date",{ascending:!0});if(!V){l([]);return}const $=V.reduce((L,ee)=>{const ie=ee.invoice_date;return L[ie]||(L[ie]={period:ie,invoiceCount:0,revenue:0}),L[ie].invoiceCount+=1,L[ie].revenue+=Number(ee.total),L},{});l(Object.values($))},O=async()=>{const k=w();let Y=ft.from("invoice_items").select("category, qty, unit_price, invoice_id");if(k){const{data:L}=await ft.from("invoices").select("id").gte("invoice_date",k),ee=L?.map(ie=>ie.id)||[];ee.length>0&&(Y=Y.in("invoice_id",ee))}const{data:V}=await Y;if(!V){h([]);return}const $=V.reduce((L,ee)=>{const ie=ee.category||"Uncategorized";return L[ie]||(L[ie]={category:ie,itemCount:0,revenue:0}),L[ie].itemCount+=Number(ee.qty),L[ie].revenue+=Number(ee.qty)*Number(ee.unit_price),L},{});h(Object.values($).sort((L,ee)=>ee.revenue-L.revenue))},A=async()=>{const k=w();let Y=ft.from("item_materials").select("material_name, unit, total_qty, invoice_item_id");if(k){const{data:L}=await ft.from("invoices").select("id").gte("invoice_date",k),ee=L?.map(ie=>ie.id)||[];if(ee.length>0){const{data:ie}=await ft.from("invoice_items").select("id").in("invoice_id",ee),de=ie?.map(B=>B.id)||[];de.length>0&&(Y=Y.in("invoice_item_id",de))}}const{data:V}=await Y;if(!V){f([]);return}const $=V.reduce((L,ee)=>{const ie=`${ee.material_name}_${ee.unit}`;return L[ie]||(L[ie]={material_name:ee.material_name,unit:ee.unit,total_qty:0,usage_count:0}),L[ie].total_qty+=Number(ee.total_qty),L[ie].usage_count+=1,L},{});f(Object.values($).sort((L,ee)=>ee.total_qty-L.total_qty).slice(0,10))},D=async()=>{const k=w();let Y=ft.from("invoices").select("client_id, total, clients(name)");k&&(Y=Y.gte("invoice_date",k));const{data:V}=await Y;if(!V){b([]);return}const $=V.reduce((L,ee)=>{const ie=ee.clients?.name||"Unknown";return L[ie]||(L[ie]={client_name:ie,invoice_count:0,total_revenue:0}),L[ie].invoice_count+=1,L[ie].total_revenue+=Number(ee.total),L},{});b(Object.values($).sort((L,ee)=>ee.total_revenue-L.total_revenue).slice(0,5))};if(i)return y.jsx("div",{style:{padding:40,textAlign:"center"},children:y.jsx("div",{style:{fontSize:18,color:"#9ca3af"},children:"Loading dashboard..."})});const P={labels:r.map(k=>k.period),datasets:[{label:"Revenue (EGP)",data:r.map(k=>k.revenue),borderColor:"#38bdf8",backgroundColor:"rgba(56, 189, 248, 0.1)",tension:.3}]},F={labels:c.map(k=>k.category),datasets:[{label:"Items Sold",data:c.map(k=>k.itemCount),backgroundColor:["#38bdf8","#818cf8","#a78bfa","#f472b6","#fb923c","#fbbf24","#34d399","#4ade80"]}]},z={labels:d.map(k=>k.material_name),datasets:[{label:"Total Quantity",data:d.map(k=>k.total_qty),backgroundColor:"rgba(56, 189, 248, 0.6)"}]};return y.jsx("div",{style:{minHeight:"100vh",background:"radial-gradient(circle at top, #020617 0%, #020617 40%, #000 100%)",padding:"24px"},children:y.jsxs("div",{style:{maxWidth:1400,margin:"0 auto"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[y.jsx("h1",{style:{fontSize:28,fontWeight:600,color:"#e5e7eb",margin:0},children:"Analytics Dashboard"}),y.jsx("div",{style:{display:"flex",gap:8},children:["7days","30days","90days","all"].map(k=>y.jsx("button",{onClick:()=>x(k),style:{padding:"8px 16px",borderRadius:8,border:v===k?"1px solid #38bdf8":"1px solid #374151",background:v===k?"#38bdf8":"#020617",color:v===k?"#020617":"#e5e7eb",fontSize:13,fontWeight:500,cursor:"pointer"},children:k==="all"?"All Time":k.replace("days"," Days")},k))})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16,marginBottom:24},children:[y.jsx(ic,{title:"Total Revenue",value:`${t?.totalRevenue.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}`,subtitle:`${t?.totalInvoices} invoices`}),y.jsx(ic,{title:"Average Invoice",value:`${t?.avgInvoiceValue.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}`,subtitle:"per invoice"}),y.jsx(ic,{title:"Items Sold",value:t?.totalItemsSold.toString()||"0",subtitle:"total units"}),y.jsx(ic,{title:"Paid Invoices",value:`${t?.paidCount}/${t?.totalInvoices}`,subtitle:`${t?.draftCount} drafts, ${t?.sentCount} sent`})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:16,marginBottom:16},children:[y.jsx(Hr,{title:"Revenue Over Time",children:r.length>0?y.jsx(cM,{data:P,options:{responsive:!0,plugins:{legend:{display:!1}}}}):y.jsx(sc,{message:"No invoice data available"})}),y.jsx(Hr,{title:"Items by Category",children:c.length>0?y.jsx(hM,{data:F,options:{responsive:!0,plugins:{legend:{position:"right"}}}}):y.jsx(sc,{message:"No category data available"})})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:16},children:[y.jsx(Hr,{title:"Top Materials Used",children:d.length>0?y.jsx(uM,{data:z,options:{responsive:!0,indexAxis:"y",plugins:{legend:{display:!1}}}}):y.jsx(sc,{message:"No material data available"})}),y.jsx(Hr,{title:"Top Clients",children:m.length>0?y.jsx("div",{style:{padding:"16px 0"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Client"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Invoices"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Revenue"})]})}),y.jsx("tbody",{children:m.map((k,Y)=>y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:k.client_name}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:k.invoice_count}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:k.total_revenue.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]},Y))})]})}):y.jsx(sc,{message:"No client data available"})})]}),d.length>0&&y.jsx(Hr,{title:"Material Breakdown (Detailed)",style:{marginTop:16},children:y.jsx("div",{style:{padding:"16px 0"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Material"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Total Quantity"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Unit"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Used In"})]})}),y.jsx("tbody",{children:d.map((k,Y)=>y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:k.material_name}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:k.total_qty.toFixed(2)}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:k.unit}),y.jsxs("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:[k.usage_count," items"]})]},Y))})]})})})]})})},ic=({title:i,value:e,subtitle:t})=>y.jsxs("div",{style:{background:"#020617",border:"1px solid #1f2937",borderRadius:12,padding:20},children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:8},children:i}),y.jsx("div",{style:{fontSize:24,fontWeight:600,color:"#e5e7eb",marginBottom:4},children:e}),t&&y.jsx("div",{style:{fontSize:11,color:"#6b7280"},children:t})]}),Hr=({title:i,children:e,style:t})=>y.jsxs("div",{style:{background:"#020617",border:"1px solid #1f2937",borderRadius:12,padding:20,...t},children:[y.jsx("h3",{style:{fontSize:16,fontWeight:600,color:"#e5e7eb",marginTop:0,marginBottom:16},children:i}),e]}),sc=({message:i})=>y.jsx("div",{style:{padding:40,textAlign:"center",color:"#6b7280",fontSize:14},children:i}),fM={name:"",logoUrl:"/Company%20Logo.svg",address:"",phone:"",email:""},gM={name:"",company:"",address:"",phone:"",email:"",siteAddress:""},pM={invoiceNo:"",date:"",dueDate:"",projectName:""},mM=()=>{const[i,e]=I.useState({company:fM,client:gM,meta:pM,items:[],vatRate:0,discount:0,notes:""});I.useEffect(()=>{try{const F=localStorage.getItem("invoice-preview");if(!F)return;const z=JSON.parse(F);e(z)}catch(F){console.error("Failed to load invoice-preview from localStorage",F)}},[]);const{company:t,client:s,meta:r,items:l,vatRate:c,discount:h,notes:d}=i,f=l.reduce((F,z)=>F+z.qty*z.unitPrice,0),m=Math.max(f-h,0),b=m*c/100,v=m+b,x=()=>{window.print()},S=()=>{window.print()},w=F=>{const z=String(F??"");return z.includes('"')||z.includes(",")||z.includes(`
`)?`"${z.replace(/"/g,'""')}"`:z},E=(F,z)=>{const k=new Blob([z],{type:"text/csv;charset=utf-8;"}),Y=URL.createObjectURL(k),V=document.createElement("a");V.href=Y,V.setAttribute("download",F),document.body.appendChild(V),V.click(),V.remove(),URL.revokeObjectURL(Y)},C=()=>{if(!l.some(V=>V.materials&&V.materials.length>0)){alert("No material breakdown found on items.");return}const z=[];z.push(["Invoice No","Project","Client","Item #","Item Name","Category","Material","Unit","Qty per Item","Item Qty","Total Material Qty"].map(w).join(",")),l.forEach((V,$)=>{!V.materials||V.materials.length===0||V.materials.forEach(L=>{const ee=L.qty*V.qty;z.push([r.invoiceNo||"",r.projectName||"",s.name||"",$+1,V.code||"Item",V.category,L.name,L.unit,L.qty,V.qty,ee].map(w).join(","))})});const k=z.join(`\r
`),Y=r.invoiceNo?`${r.invoiceNo}_materials.csv`:"invoice-materials.csv";E(Y,k)},O=h>0,A=c>0&&b>0,D=O||A,P=O||A;return y.jsxs("div",{className:"invoice-preview-root",children:[y.jsxs("div",{className:"invoice-toolbar no-print",children:[y.jsx("button",{className:"btn-outline",onClick:x,children:"Print Invoice"}),y.jsx("button",{className:"btn-outline",onClick:S,children:"Export PDF"}),y.jsx("button",{className:"btn-outline",onClick:C,children:"Export Excel"})]}),y.jsxs("div",{className:"invoice-page",children:[y.jsxs("header",{className:"invoice-header",children:[y.jsxs("div",{className:"header-left",children:[t.logoUrl&&y.jsx("img",{src:t.logoUrl,alt:"Company logo",className:"company-logo"}),y.jsxs("div",{children:[y.jsx("div",{className:"company-name",children:t.name||"Company Name"}),y.jsx("div",{className:"small-text",children:t.address&&y.jsx("span",{children:t.address})}),y.jsxs("div",{className:"small-text",children:[t.phone&&y.jsx("span",{children:t.phone}),t.phone&&t.email&&"  ",t.email&&y.jsx("span",{className:"email-line",children:t.email})]})]})]}),y.jsxs("div",{className:"header-right",children:[y.jsxs("div",{className:"invoice-meta-block",children:[y.jsx("div",{className:"invoice-title",children:"INVOICE"}),y.jsxs("div",{className:"small-text",children:[y.jsx("strong",{children:"Invoice No:"})," ",r.invoiceNo||"-"]}),y.jsxs("div",{className:"small-text",children:[y.jsx("strong",{children:"Date:"})," ",r.date||"-"]}),y.jsxs("div",{className:"small-text",children:[y.jsx("strong",{children:"Project:"})," ",r.projectName||"-"]})]}),y.jsxs("div",{className:"client-block",children:[y.jsx("div",{className:"section-label",children:"BILL TO"}),y.jsx("div",{className:"small-text bold",children:s.name||"Client Name"}),s.address&&y.jsx("div",{className:"small-text",children:s.address}),(s.phone||s.email)&&y.jsxs("div",{className:"small-text",children:[s.phone&&y.jsxs("span",{children:["Tel: ",s.phone]}),s.phone&&s.email&&"  ",s.email&&y.jsx("span",{children:s.email})]}),s.siteAddress&&y.jsxs("div",{className:"small-text",style:{marginTop:4},children:[y.jsx("span",{style:{fontWeight:600,fontSize:10},children:"Site / Delivery:"})," ",s.siteAddress]})]})]})]}),y.jsx("section",{className:"invoice-items",children:y.jsxs("table",{className:"items-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{className:"col-index",children:"#"}),y.jsx("th",{className:"col-item",children:"Item"}),y.jsx("th",{className:"col-material",children:"Material / Finish"}),y.jsx("th",{className:"col-dimensions",children:"Dimensions"}),y.jsx("th",{className:"col-photo",children:"Photo"}),y.jsx("th",{className:"col-qty",children:"Qty"}),y.jsx("th",{className:"col-unit",children:"Unit"}),y.jsx("th",{className:"col-total",children:"Total"})]})}),y.jsxs("tbody",{children:[l.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:8,style:{textAlign:"center",padding:24},children:"No items."})}),l.map((F,z)=>{const k=F.qty*F.unitPrice;return y.jsxs("tr",{children:[y.jsx("td",{className:"col-index",children:z+1}),y.jsx("td",{className:"col-item",children:y.jsx("div",{className:"item-name",children:F.code||"Item"})}),y.jsx("td",{className:"col-material",children:y.jsx("div",{className:"small-text",children:F.description||"-"})}),y.jsx("td",{className:"col-dimensions",children:y.jsx("div",{className:"small-text",children:F.dimensions||"-"})}),y.jsx("td",{className:"col-photo",children:F.image?y.jsx("img",{src:F.image,alt:"Item",className:"table-photo"}):"-"}),y.jsx("td",{className:"col-qty",children:F.qty}),y.jsx("td",{className:"col-unit",children:F.unitPrice.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})}),y.jsx("td",{className:"col-total",children:k.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]},F.id??z)})]})]})}),y.jsx("section",{className:"invoice-totals",children:y.jsxs("div",{className:"totals-box",children:[D&&y.jsxs("div",{className:"totals-row",children:[y.jsx("span",{children:"Subtotal"}),y.jsx("span",{children:f.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),O&&y.jsxs("div",{className:"totals-row",children:[y.jsx("span",{children:"Discount"}),y.jsx("span",{children:h.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),P&&y.jsxs("div",{className:"totals-row",children:[y.jsx("span",{children:"Taxable Amount"}),y.jsx("span",{children:m.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),A&&y.jsxs("div",{className:"totals-row",children:[y.jsxs("span",{children:["VAT (",c,"%)"]}),y.jsx("span",{children:b.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),y.jsxs("div",{className:"totals-row totals-row-strong",children:[y.jsx("span",{children:"Grand Total"}),y.jsx("span",{children:v.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]})]})}),y.jsxs("section",{className:"invoice-notes",children:[y.jsx("div",{className:"section-label",children:"NOTES / TERMS"}),y.jsx("pre",{className:"notes-text",children:d})]}),y.jsxs("section",{className:"invoice-footer",children:[y.jsx("div",{className:"footer-line",children:"Prepared By: ______________________"}),y.jsx("div",{className:"footer-line",children:"Approved By: ______________________"}),y.jsx("div",{className:"thankyou",children:"Thank you for your business."})]})]})]})},yM=()=>y.jsxs(tE,{children:[y.jsx(hE,{}),y.jsxs(k1,{children:[y.jsx(ac,{path:"/",element:y.jsx(TC,{})}),y.jsx(ac,{path:"/dashboard",element:y.jsx(dM,{})}),y.jsx(ac,{path:"/preview",element:y.jsx(mM,{})})]})]});Hw.createRoot(document.getElementById("root")).render(y.jsx(kw.StrictMode,{children:y.jsx(yM,{})}));
