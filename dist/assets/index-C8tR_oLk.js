function Aw(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in i)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function Zd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function lo(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function s(){var r=!1;try{r=this instanceof s}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var r=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return i[s]}})}),t}var Zh={exports:{}},Rr={};var Dy;function Ow(){if(Dy)return Rr;Dy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:i,type:s,key:c,ref:r!==void 0?r:null,props:o}}return Rr.Fragment=e,Rr.jsx=t,Rr.jsxs=t,Rr}var Ny;function Rw(){return Ny||(Ny=1,Zh.exports=Ow()),Zh.exports}var y=Rw(),ed={exports:{}},xe={};var Py;function Mw(){if(Py)return xe;Py=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function C(O,I,W){this.props=O,this.context=I,this.refs=w,this.updater=W||S}C.prototype.isReactComponent={},C.prototype.setState=function(O,I){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,I,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function j(){}j.prototype=C.prototype;function A(O,I,W){this.props=O,this.context=I,this.refs=w,this.updater=W||S}var D=A.prototype=new j;D.constructor=A,E(D,C.prototype),D.isPureReactComponent=!0;var k=Array.isArray;function z(){}var P={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function ee(O,I,W){var ie=W.ref;return{$$typeof:i,type:O,key:I,ref:ie!==void 0?ie:null,props:W}}function X(O,I){return ee(O.type,I,O.props)}function G(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function Y(O){var I={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return I[W]})}var re=/\/+/g;function de(O,I){return typeof O=="object"&&O!==null&&O.key!=null?Y(""+O.key):I.toString(36)}function ge(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(z,z):(O.status="pending",O.then(function(I){O.status==="pending"&&(O.status="fulfilled",O.value=I)},function(I){O.status==="pending"&&(O.status="rejected",O.reason=I)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,I,W,ie,he){var me=typeof O;(me==="undefined"||me==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(me){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case i:case e:Ee=!0;break;case m:return Ee=O._init,B(Ee(O._payload),I,W,ie,he)}}if(Ee)return he=he(O),Ee=ie===""?"."+de(O,0):ie,k(he)?(W="",Ee!=null&&(W=Ee.replace(re,"$&/")+"/"),B(he,I,W,"",function(tn){return tn})):he!=null&&(G(he)&&(he=X(he,W+(he.key==null||O&&O.key===he.key?"":(""+he.key).replace(re,"$&/")+"/")+Ee)),I.push(he)),1;Ee=0;var ke=ie===""?".":ie+":";if(k(O))for(var Me=0;Me<O.length;Me++)ie=O[Me],me=ke+de(ie,Me),Ee+=B(ie,I,W,me,he);else if(Me=x(O),typeof Me=="function")for(O=Me.call(O),Me=0;!(ie=O.next()).done;)ie=ie.value,me=ke+de(ie,Me++),Ee+=B(ie,I,W,me,he);else if(me==="object"){if(typeof O.then=="function")return B(ge(O),I,W,ie,he);throw I=String(O),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function L(O,I,W){if(O==null)return O;var ie=[],he=0;return B(O,ie,"","",function(me){return I.call(W,me,he++)}),ie}function te(O){if(O._status===-1){var I=O._result;I=I(),I.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=I)}if(O._status===1)return O._result.default;throw O._result}var ae=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},pe={map:L,forEach:function(O,I,W){L(O,function(){I.apply(this,arguments)},W)},count:function(O){var I=0;return L(O,function(){I++}),I},toArray:function(O){return L(O,function(I){return I})||[]},only:function(O){if(!G(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xe.Activity=b,xe.Children=pe,xe.Component=C,xe.Fragment=t,xe.Profiler=r,xe.PureComponent=A,xe.StrictMode=s,xe.Suspense=d,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return P.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(O,I,W){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=E({},O.props),he=O.key;if(I!=null)for(me in I.key!==void 0&&(he=""+I.key),I)!$.call(I,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&I.ref===void 0||(ie[me]=I[me]);var me=arguments.length-2;if(me===1)ie.children=W;else if(1<me){for(var Ee=Array(me),ke=0;ke<me;ke++)Ee[ke]=arguments[ke+2];ie.children=Ee}return ee(O.type,he,ie)},xe.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},xe.createElement=function(O,I,W){var ie,he={},me=null;if(I!=null)for(ie in I.key!==void 0&&(me=""+I.key),I)$.call(I,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=I[ie]);var Ee=arguments.length-2;if(Ee===1)he.children=W;else if(1<Ee){for(var ke=Array(Ee),Me=0;Me<Ee;Me++)ke[Me]=arguments[Me+2];he.children=ke}if(O&&O.defaultProps)for(ie in Ee=O.defaultProps,Ee)he[ie]===void 0&&(he[ie]=Ee[ie]);return ee(O,me,he)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:h,render:O}},xe.isValidElement=G,xe.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:te}},xe.memo=function(O,I){return{$$typeof:f,type:O,compare:I===void 0?null:I}},xe.startTransition=function(O){var I=P.T,W={};P.T=W;try{var ie=O(),he=P.S;he!==null&&he(W,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(z,ae)}catch(me){ae(me)}finally{I!==null&&W.types!==null&&(I.types=W.types),P.T=I}},xe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},xe.use=function(O){return P.H.use(O)},xe.useActionState=function(O,I,W){return P.H.useActionState(O,I,W)},xe.useCallback=function(O,I){return P.H.useCallback(O,I)},xe.useContext=function(O){return P.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,I){return P.H.useDeferredValue(O,I)},xe.useEffect=function(O,I){return P.H.useEffect(O,I)},xe.useEffectEvent=function(O){return P.H.useEffectEvent(O)},xe.useId=function(){return P.H.useId()},xe.useImperativeHandle=function(O,I,W){return P.H.useImperativeHandle(O,I,W)},xe.useInsertionEffect=function(O,I){return P.H.useInsertionEffect(O,I)},xe.useLayoutEffect=function(O,I){return P.H.useLayoutEffect(O,I)},xe.useMemo=function(O,I){return P.H.useMemo(O,I)},xe.useOptimistic=function(O,I){return P.H.useOptimistic(O,I)},xe.useReducer=function(O,I,W){return P.H.useReducer(O,I,W)},xe.useRef=function(O){return P.H.useRef(O)},xe.useState=function(O){return P.H.useState(O)},xe.useSyncExternalStore=function(O,I,W){return P.H.useSyncExternalStore(O,I,W)},xe.useTransition=function(){return P.H.useTransition()},xe.version="19.2.0",xe}var Ly;function ef(){return Ly||(Ly=1,ed.exports=Mw()),ed.exports}var F=ef();const kw=Zd(F);var td={exports:{}},Mr={},nd={exports:{}},id={};var zy;function Dw(){return zy||(zy=1,(function(i){function e(B,L){var te=B.length;B.push(L);e:for(;0<te;){var ae=te-1>>>1,pe=B[ae];if(0<r(pe,L))B[ae]=L,B[te]=pe,te=ae;else break e}}function t(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var L=B[0],te=B.pop();if(te!==L){B[0]=te;e:for(var ae=0,pe=B.length,O=pe>>>1;ae<O;){var I=2*(ae+1)-1,W=B[I],ie=I+1,he=B[ie];if(0>r(W,te))ie<pe&&0>r(he,W)?(B[ae]=he,B[ie]=te,ae=ie):(B[ae]=W,B[I]=te,ae=I);else if(ie<pe&&0>r(he,te))B[ae]=he,B[ie]=te,ae=ie;else break e}}return L}function r(B,L){var te=B.sortIndex-L.sortIndex;return te!==0?te:B.id-L.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var d=[],f=[],m=1,b=null,v=3,x=!1,S=!1,E=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var L=t(f);L!==null;){if(L.callback===null)s(f);else if(L.startTime<=B)s(f),L.sortIndex=L.expirationTime,e(d,L);else break;L=t(f)}}function k(B){if(E=!1,D(B),!S)if(t(d)!==null)S=!0,z||(z=!0,Y());else{var L=t(f);L!==null&&ge(k,L.startTime-B)}}var z=!1,P=-1,$=5,ee=-1;function X(){return w?!0:!(i.unstable_now()-ee<$)}function G(){if(w=!1,z){var B=i.unstable_now();ee=B;var L=!0;try{e:{S=!1,E&&(E=!1,j(P),P=-1),x=!0;var te=v;try{t:{for(D(B),b=t(d);b!==null&&!(b.expirationTime>B&&X());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,v=b.priorityLevel;var pe=ae(b.expirationTime<=B);if(B=i.unstable_now(),typeof pe=="function"){b.callback=pe,D(B),L=!0;break t}b===t(d)&&s(d),D(B)}else s(d);b=t(d)}if(b!==null)L=!0;else{var O=t(f);O!==null&&ge(k,O.startTime-B),L=!1}}break e}finally{b=null,v=te,x=!1}L=void 0}}finally{L?Y():z=!1}}}var Y;if(typeof A=="function")Y=function(){A(G)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,de=re.port2;re.port1.onmessage=G,Y=function(){de.postMessage(null)}}else Y=function(){C(G,0)};function ge(B,L){P=C(function(){B(i.unstable_now())},L)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var te=v;v=L;try{return B()}finally{v=te}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(B,L){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=v;v=B;try{return L()}finally{v=te}},i.unstable_scheduleCallback=function(B,L,te){var ae=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ae+te:ae):te=ae,B){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=te+pe,B={id:m++,callback:L,priorityLevel:B,startTime:te,expirationTime:pe,sortIndex:-1},te>ae?(B.sortIndex=te,e(f,B),t(d)===null&&B===t(f)&&(E?(j(P),P=-1):E=!0,ge(k,te-ae))):(B.sortIndex=pe,e(d,B),S||x||(S=!0,z||(z=!0,Y()))),B},i.unstable_shouldYield=X,i.unstable_wrapCallback=function(B){var L=v;return function(){var te=v;v=L;try{return B.apply(this,arguments)}finally{v=te}}}})(id)),id}var By;function Nw(){return By||(By=1,nd.exports=Dw()),nd.exports}var sd={exports:{}},Tt={};var Uy;function Pw(){if(Uy)return Tt;Uy=1;var i=ef();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:d,containerInfo:f,implementation:m}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tt.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,m)},Tt.flushSync=function(d){var f=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=f,s.p=m,s.d.f()}},Tt.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},Tt.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Tt.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,b=h(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:x}):m==="script"&&s.d.X(d,{crossOrigin:b,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tt.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=h(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},Tt.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,b=h(m,f.crossOrigin);s.d.L(d,m,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tt.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=h(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},Tt.requestFormReset=function(d){s.d.r(d)},Tt.unstable_batchedUpdates=function(d,f){return d(f)},Tt.useFormState=function(d,f,m){return c.H.useFormState(d,f,m)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.0",Tt}var Hy;function Lw(){if(Hy)return sd.exports;Hy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sd.exports=Pw(),sd.exports}var Fy;function zw(){if(Fy)return Mr;Fy=1;var i=Nw(),e=ef(),t=Lw();function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(s(188))}function f(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(s(188));return a!==n?null:n}for(var l=n,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return d(g),n;if(p===u)return d(g),a;p=p.sibling}throw Error(s(188))}if(l.return!==u.return)l=g,u=p;else{for(var _=!1,T=g.child;T;){if(T===l){_=!0,l=g,u=p;break}if(T===u){_=!0,u=g,l=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===l){_=!0,l=p,u=g;break}if(T===u){_=!0,u=p,l=g;break}T=T.sibling}if(!_)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:a}function m(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=m(n),a!==null)return a;n=n.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function Y(n){return n===null||typeof n!="object"?null:(n=G&&n[G]||n["@@iterator"],typeof n=="function"?n:null)}var re=Symbol.for("react.client.reference");function de(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===re?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case z:return"SuspenseList";case ee:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case A:return n.displayName||"Context";case j:return(n._context.displayName||"Context")+".Consumer";case D:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return a=n.displayName||null,a!==null?a:de(n.type)||"Memo";case $:a=n._payload,n=n._init;try{return de(n(a))}catch{}}return null}var ge=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ae=[],pe=-1;function O(n){return{current:n}}function I(n){0>pe||(n.current=ae[pe],ae[pe]=null,pe--)}function W(n,a){pe++,ae[pe]=n.current,n.current=a}var ie=O(null),he=O(null),me=O(null),Ee=O(null);function ke(n,a){switch(W(me,a),W(he,n),W(ie,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?ny(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=ny(a),n=iy(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}I(ie),W(ie,n)}function Me(){I(ie),I(he),I(me)}function tn(n){n.memoizedState!==null&&W(Ee,n);var a=ie.current,l=iy(a,n.type);a!==l&&(W(he,n),W(ie,l))}function Ze(n){he.current===n&&(I(ie),I(he)),Ee.current===n&&(I(Ee),Cr._currentValue=te)}var Yi,Rs;function se(n){if(Yi===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Yi=a&&a[1]||"",Rs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yi+n+Rs}var Rt=!1;function qt(n,a){if(!n||Rt)return"";Rt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var q=V}Reflect.construct(n,[],J)}else{try{J.call()}catch(V){q=V}n.call(J.prototype)}}else{try{throw Error()}catch(V){q=V}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&q&&typeof V.stack=="string")return[V.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),_=p[0],T=p[1];if(_&&T){var R=_.split(`
`),H=T.split(`
`);for(g=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(u===R.length||g===H.length)for(u=R.length-1,g=H.length-1;1<=u&&0<=g&&R[u]!==H[g];)g--;for(;1<=u&&0<=g;u--,g--)if(R[u]!==H[g]){if(u!==1||g!==1)do if(u--,g--,0>g||R[u]!==H[g]){var K=`
`+R[u].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=u&&0<=g);break}}}finally{Rt=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?se(l):""}function Z(n,a){switch(n.tag){case 26:case 27:case 5:return se(n.type);case 16:return se("Lazy");case 13:return n.child!==a&&a!==null?se("Suspense Fallback"):se("Suspense");case 19:return se("SuspenseList");case 0:case 15:return qt(n.type,!1);case 11:return qt(n.type.render,!1);case 1:return qt(n.type,!0);case 31:return se("Activity");default:return""}}function ve(n){try{var a="",l=null;do a+=Z(n,l),l=n,n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var _e=Object.prototype.hasOwnProperty,nn=i.unstable_scheduleCallback,Ln=i.unstable_cancelCallback,za=i.unstable_shouldYield,ox=i.unstable_requestPaint,$t=i.unstable_now,lx=i.unstable_getCurrentPriorityLevel,Nf=i.unstable_ImmediatePriority,Pf=i.unstable_UserBlockingPriority,mo=i.unstable_NormalPriority,cx=i.unstable_LowPriority,Lf=i.unstable_IdlePriority,ux=i.log,hx=i.unstable_setDisableYieldValue,Ba=null,Gt=null;function fi(n){if(typeof ux=="function"&&hx(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Ba,n)}catch{}}var Vt=Math.clz32?Math.clz32:gx,dx=Math.log,fx=Math.LN2;function gx(n){return n>>>=0,n===0?32:31-(dx(n)/fx|0)|0}var yo=256,bo=262144,vo=4194304;function Wi(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _o(n,a,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,p=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?g=Wi(u):(_&=T,_!==0?g=Wi(_):l||(l=T&~n,l!==0&&(g=Wi(l))))):(T=u&~p,T!==0?g=Wi(T):_!==0?g=Wi(_):l||(l=u&~n,l!==0&&(g=Wi(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function Ua(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function px(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(){var n=vo;return vo<<=1,(vo&62914560)===0&&(vo=4194304),n}function Fc(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function Ha(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function mx(n,a,l,u,g,p){var _=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var T=n.entanglements,R=n.expirationTimes,H=n.hiddenUpdates;for(l=_&~l;0<l;){var K=31-Vt(l),J=1<<K;T[K]=0,R[K]=-1;var q=H[K];if(q!==null)for(H[K]=null,K=0;K<q.length;K++){var V=q[K];V!==null&&(V.lane&=-536870913)}l&=~J}u!==0&&Bf(n,u,0),p!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~a))}function Bf(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Vt(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Uf(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var u=31-Vt(l),g=1<<u;g&a|n[u]&a&&(n[u]|=a),l&=~g}}function Hf(n,a){var l=a&-a;return l=(l&42)!==0?1:Ic(l),(l&(n.suspendedLanes|a))!==0?0:l}function Ic(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function qc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ff(){var n=L.p;return n!==0?n:(n=window.event,n===void 0?32:Cy(n.type))}function If(n,a){var l=L.p;try{return L.p=n,a()}finally{L.p=l}}var gi=Math.random().toString(36).slice(2),bt="__reactFiber$"+gi,kt="__reactProps$"+gi,Ms="__reactContainer$"+gi,$c="__reactEvents$"+gi,yx="__reactListeners$"+gi,bx="__reactHandles$"+gi,qf="__reactResources$"+gi,Fa="__reactMarker$"+gi;function Gc(n){delete n[bt],delete n[kt],delete n[$c],delete n[yx],delete n[bx]}function ks(n){var a=n[bt];if(a)return a;for(var l=n.parentNode;l;){if(a=l[Ms]||l[bt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=uy(n);n!==null;){if(l=n[bt])return l;n=uy(n)}return a}n=l,l=n.parentNode}return null}function Ds(n){if(n=n[bt]||n[Ms]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function Ia(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(s(33))}function Ns(n){var a=n[qf];return a||(a=n[qf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function mt(n){n[Fa]=!0}var $f=new Set,Gf={};function Ki(n,a){Ps(n,a),Ps(n+"Capture",a)}function Ps(n,a){for(Gf[n]=a,n=0;n<a.length;n++)$f.add(a[n])}var vx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vf={},Yf={};function _x(n){return _e.call(Yf,n)?!0:_e.call(Vf,n)?!1:vx.test(n)?Yf[n]=!0:(Vf[n]=!0,!1)}function xo(n,a,l){if(_x(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function So(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function zn(n,a,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+u)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wf(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xx(n,a,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return g.call(this)},set:function(_){l=""+_,p.call(this,_)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Vc(n){if(!n._valueTracker){var a=Wf(n)?"checked":"value";n._valueTracker=xx(n,a,""+n[a])}}function Kf(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return n&&(u=Wf(n)?n.checked?"true":"false":n.value),n=u,n!==l?(a.setValue(n),!0):!1}function wo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Sx=/[\n"\\]/g;function an(n){return n.replace(Sx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Yc(n,a,l,u,g,p,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),a!=null?_==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+sn(a)):n.value!==""+sn(a)&&(n.value=""+sn(a)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),a!=null?Wc(n,_,sn(a)):l!=null?Wc(n,_,sn(l)):u!=null&&n.removeAttribute("value"),g==null&&p!=null&&(n.defaultChecked=!!p),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+sn(T):n.removeAttribute("name")}function Xf(n,a,l,u,g,p,_,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Vc(n);return}l=l!=null?""+sn(l):"",a=a!=null?""+sn(a):l,T||a===n.value||(n.value=a),n.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Vc(n)}function Wc(n,a,l){a==="number"&&wo(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ls(n,a,l,u){if(n=n.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=a.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+sn(l),a=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}a!==null||n[g].disabled||(a=n[g])}a!==null&&(a.selected=!0)}}function Qf(n,a,l){if(a!=null&&(a=""+sn(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+sn(l):""}function Jf(n,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(s(92));if(ge(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=sn(a),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),Vc(n)}function zs(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var wx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zf(n,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,l):typeof l!="number"||l===0||wx.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function eg(n,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Zf(n,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Zf(n,p,a[p])}function Kc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ex=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(n){return Tx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Bn(){}var Xc=null;function Qc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Bs=null,Us=null;function tg(n){var a=Ds(n);if(a&&(n=a.stateNode)){var l=n[kt]||null;e:switch(n=a.stateNode,a.type){case"input":if(Yc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+an(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==n&&u.form===n.form){var g=u[kt]||null;if(!g)throw Error(s(90));Yc(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===n.form&&Kf(u)}break e;case"textarea":Qf(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ls(n,!!l.multiple,a,!1)}}}var Jc=!1;function ng(n,a,l){if(Jc)return n(a,l);Jc=!0;try{var u=n(a);return u}finally{if(Jc=!1,(Bs!==null||Us!==null)&&(hl(),Bs&&(a=Bs,n=Us,Us=Bs=null,tg(a),n)))for(a=0;a<n.length;a++)tg(n[a])}}function qa(n,a){var l=n.stateNode;if(l===null)return null;var u=l[kt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zc=!1;if(Un)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Zc=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Zc=!1}var pi=null,eu=null,To=null;function ig(){if(To)return To;var n,a=eu,l=a.length,u,g="value"in pi?pi.value:pi.textContent,p=g.length;for(n=0;n<l&&a[n]===g[n];n++);var _=l-n;for(u=1;u<=_&&a[l-u]===g[p-u];u++);return To=g.slice(n,1<u?1-u:void 0)}function Co(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function jo(){return!0}function sg(){return!1}function Dt(n){function a(l,u,g,p,_){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(l=n[T],this[T]=l?l(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?jo:sg,this.isPropagationStopped=sg,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),a}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=Dt(Xi),Ga=b({},Xi,{view:0,detail:0}),Cx=Dt(Ga),tu,nu,Va,Oo=b({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Va&&(Va&&n.type==="mousemove"?(tu=n.screenX-Va.screenX,nu=n.screenY-Va.screenY):nu=tu=0,Va=n),tu)},movementY:function(n){return"movementY"in n?n.movementY:nu}}),ag=Dt(Oo),jx=b({},Oo,{dataTransfer:0}),Ax=Dt(jx),Ox=b({},Ga,{relatedTarget:0}),iu=Dt(Ox),Rx=b({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mx=Dt(Rx),kx=b({},Xi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Dx=Dt(kx),Nx=b({},Xi,{data:0}),rg=Dt(Nx),Px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bx(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=zx[n])?!!a[n]:!1}function su(){return Bx}var Ux=b({},Ga,{key:function(n){if(n.key){var a=Px[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Co(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Lx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(n){return n.type==="keypress"?Co(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Co(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hx=Dt(Ux),Fx=b({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),og=Dt(Fx),Ix=b({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),qx=Dt(Ix),$x=b({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gx=Dt($x),Vx=b({},Oo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=Dt(Vx),Wx=b({},Xi,{newState:0,oldState:0}),Kx=Dt(Wx),Xx=[9,13,27,32],au=Un&&"CompositionEvent"in window,Ya=null;Un&&"documentMode"in document&&(Ya=document.documentMode);var Qx=Un&&"TextEvent"in window&&!Ya,lg=Un&&(!au||Ya&&8<Ya&&11>=Ya),cg=" ",ug=!1;function hg(n,a){switch(n){case"keyup":return Xx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hs=!1;function Jx(n,a){switch(n){case"compositionend":return dg(a);case"keypress":return a.which!==32?null:(ug=!0,cg);case"textInput":return n=a.data,n===cg&&ug?null:n;default:return null}}function Zx(n,a){if(Hs)return n==="compositionend"||!au&&hg(n,a)?(n=ig(),To=eu=pi=null,Hs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return lg&&a.locale!=="ko"?null:a.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!eS[n.type]:a==="textarea"}function gg(n,a,l,u){Bs?Us?Us.push(u):Us=[u]:Bs=u,a=bl(a,"onChange"),0<a.length&&(l=new Ao("onChange","change",null,l,u),n.push({event:l,listeners:a}))}var Wa=null,Ka=null;function tS(n){Xm(n,0)}function Ro(n){var a=Ia(n);if(Kf(a))return n}function pg(n,a){if(n==="change")return a}var mg=!1;if(Un){var ru;if(Un){var ou="oninput"in document;if(!ou){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),ou=typeof yg.oninput=="function"}ru=ou}else ru=!1;mg=ru&&(!document.documentMode||9<document.documentMode)}function bg(){Wa&&(Wa.detachEvent("onpropertychange",vg),Ka=Wa=null)}function vg(n){if(n.propertyName==="value"&&Ro(Ka)){var a=[];gg(a,Ka,n,Qc(n)),ng(tS,a)}}function nS(n,a,l){n==="focusin"?(bg(),Wa=a,Ka=l,Wa.attachEvent("onpropertychange",vg)):n==="focusout"&&bg()}function iS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ro(Ka)}function sS(n,a){if(n==="click")return Ro(a)}function aS(n,a){if(n==="input"||n==="change")return Ro(a)}function rS(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Yt=typeof Object.is=="function"?Object.is:rS;function Xa(n,a){if(Yt(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!_e.call(a,g)||!Yt(n[g],a[g]))return!1}return!0}function _g(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xg(n,a){var l=_g(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=a&&u>=a)return{node:l,offset:a-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_g(l)}}function Sg(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Sg(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function wg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=wo(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=wo(n.document)}return a}function lu(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var oS=Un&&"documentMode"in document&&11>=document.documentMode,Fs=null,cu=null,Qa=null,uu=!1;function Eg(n,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;uu||Fs==null||Fs!==wo(u)||(u=Fs,"selectionStart"in u&&lu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qa&&Xa(Qa,u)||(Qa=u,u=bl(cu,"onSelect"),0<u.length&&(a=new Ao("onSelect","select",null,a,l),n.push({event:a,listeners:u}),a.target=Fs)))}function Qi(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var Is={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},hu={},Tg={};Un&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Ji(n){if(hu[n])return hu[n];if(!Is[n])return n;var a=Is[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Tg)return hu[n]=a[l];return n}var Cg=Ji("animationend"),jg=Ji("animationiteration"),Ag=Ji("animationstart"),lS=Ji("transitionrun"),cS=Ji("transitionstart"),uS=Ji("transitioncancel"),Og=Ji("transitionend"),Rg=new Map,du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");du.push("scrollEnd");function bn(n,a){Rg.set(n,a),Ki(a,[n])}var Mo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},rn=[],qs=0,fu=0;function ko(){for(var n=qs,a=fu=qs=0;a<n;){var l=rn[a];rn[a++]=null;var u=rn[a];rn[a++]=null;var g=rn[a];rn[a++]=null;var p=rn[a];if(rn[a++]=null,u!==null&&g!==null){var _=u.pending;_===null?g.next=g:(g.next=_.next,_.next=g),u.pending=g}p!==0&&Mg(l,g,p)}}function Do(n,a,l,u){rn[qs++]=n,rn[qs++]=a,rn[qs++]=l,rn[qs++]=u,fu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function gu(n,a,l,u){return Do(n,a,l,u),No(n)}function Zi(n,a){return Do(n,null,null,a),No(n)}function Mg(n,a,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=n.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(g=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,g&&a!==null&&(g=31-Vt(l),n=p.hiddenUpdates,u=n[g],u===null?n[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function No(n){if(50<vr)throw vr=0,wh=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var $s={};function hS(n,a,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(n,a,l,u){return new hS(n,a,l,u)}function pu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hn(n,a){var l=n.alternate;return l===null?(l=Wt(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function kg(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Po(n,a,l,u,g,p){var _=0;if(u=n,typeof n=="function")pu(n)&&(_=1);else if(typeof n=="string")_=mw(n,l,ie.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ee:return n=Wt(31,l,a,g),n.elementType=ee,n.lanes=p,n;case E:return es(l.children,g,p,a);case w:_=8,g|=24;break;case C:return n=Wt(12,l,a,g|2),n.elementType=C,n.lanes=p,n;case k:return n=Wt(13,l,a,g),n.elementType=k,n.lanes=p,n;case z:return n=Wt(19,l,a,g),n.elementType=z,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:_=10;break e;case j:_=9;break e;case D:_=11;break e;case P:_=14;break e;case $:_=16,u=null;break e}_=29,l=Error(s(130,n===null?"null":typeof n,"")),u=null}return a=Wt(_,l,a,g),a.elementType=n,a.type=u,a.lanes=p,a}function es(n,a,l,u){return n=Wt(7,n,u,a),n.lanes=l,n}function mu(n,a,l){return n=Wt(6,n,null,a),n.lanes=l,n}function Dg(n){var a=Wt(18,null,null,0);return a.stateNode=n,a}function yu(n,a,l){return a=Wt(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Ng=new WeakMap;function on(n,a){if(typeof n=="object"&&n!==null){var l=Ng.get(n);return l!==void 0?l:(a={value:n,source:a,stack:ve(a)},Ng.set(n,a),a)}return{value:n,source:a,stack:ve(a)}}var Gs=[],Vs=0,Lo=null,Ja=0,ln=[],cn=0,mi=null,Cn=1,jn="";function Fn(n,a){Gs[Vs++]=Ja,Gs[Vs++]=Lo,Lo=n,Ja=a}function Pg(n,a,l){ln[cn++]=Cn,ln[cn++]=jn,ln[cn++]=mi,mi=n;var u=Cn;n=jn;var g=32-Vt(u)-1;u&=~(1<<g),l+=1;var p=32-Vt(a)+g;if(30<p){var _=g-g%5;p=(u&(1<<_)-1).toString(32),u>>=_,g-=_,Cn=1<<32-Vt(a)+g|l<<g|u,jn=p+n}else Cn=1<<p|l<<g|u,jn=n}function bu(n){n.return!==null&&(Fn(n,1),Pg(n,1,0))}function vu(n){for(;n===Lo;)Lo=Gs[--Vs],Gs[Vs]=null,Ja=Gs[--Vs],Gs[Vs]=null;for(;n===mi;)mi=ln[--cn],ln[cn]=null,jn=ln[--cn],ln[cn]=null,Cn=ln[--cn],ln[cn]=null}function Lg(n,a){ln[cn++]=Cn,ln[cn++]=jn,ln[cn++]=mi,Cn=a.id,jn=a.overflow,mi=n}var vt=null,Ye=null,Re=!1,yi=null,un=!1,_u=Error(s(519));function bi(n){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Za(on(a,n)),_u}function zg(n){var a=n.stateNode,l=n.type,u=n.memoizedProps;switch(a[bt]=n,a[kt]=u,l){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(l=0;l<xr.length;l++)je(xr[l],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":je("invalid",a),Xf(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":je("invalid",a);break;case"textarea":je("invalid",a),Jf(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||ey(a.textContent,l)?(u.popover!=null&&(je("beforetoggle",a),je("toggle",a)),u.onScroll!=null&&je("scroll",a),u.onScrollEnd!=null&&je("scrollend",a),u.onClick!=null&&(a.onclick=Bn),a=!0):a=!1,a||bi(n,!0)}function Bg(n){for(vt=n.return;vt;)switch(vt.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:vt=vt.return}}function Ys(n){if(n!==vt)return!1;if(!Re)return Bg(n),Re=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Bh(n.type,n.memoizedProps)),l=!l),l&&Ye&&bi(n),Bg(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ye=cy(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ye=cy(n)}else a===27?(a=Ye,ki(n.type)?(n=qh,qh=null,Ye=n):Ye=a):Ye=vt?dn(n.stateNode.nextSibling):null;return!0}function ts(){Ye=vt=null,Re=!1}function xu(){var n=yi;return n!==null&&(zt===null?zt=n:zt.push.apply(zt,n),yi=null),n}function Za(n){yi===null?yi=[n]:yi.push(n)}var Su=O(null),ns=null,In=null;function vi(n,a,l){W(Su,a._currentValue),a._currentValue=l}function qn(n){n._currentValue=Su.current,I(Su)}function wu(n,a,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===l)break;n=n.return}}function Eu(n,a,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var p=g.dependencies;if(p!==null){var _=g.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=g;for(var R=0;R<a.length;R++)if(T.context===a[R]){p.lanes|=l,T=p.alternate,T!==null&&(T.lanes|=l),wu(p.return,l,n),u||(_=null);break e}p=T.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(s(341));_.lanes|=l,p=_.alternate,p!==null&&(p.lanes|=l),wu(_,l,n),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===n){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function Ws(n,a,l,u){n=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=g.type;Yt(g.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(g===Ee.current){if(_=g.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Cr):n=[Cr])}g=g.return}n!==null&&Eu(a,n,l,u),a.flags|=262144}function zo(n){for(n=n.firstContext;n!==null;){if(!Yt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function is(n){ns=n,In=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _t(n){return Ug(ns,n)}function Bo(n,a){return ns===null&&is(n),Ug(n,a)}function Ug(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},In===null){if(n===null)throw Error(s(308));In=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else In=In.next=a;return l}var dS=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},fS=i.unstable_scheduleCallback,gS=i.unstable_NormalPriority,rt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new dS,data:new Map,refCount:0}}function er(n){n.refCount--,n.refCount===0&&fS(gS,function(){n.controller.abort()})}var tr=null,Cu=0,Ks=0,Xs=null;function pS(n,a){if(tr===null){var l=tr=[];Cu=0,Ks=Oh(),Xs={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Cu++,a.then(Hg,Hg),a}function Hg(){if(--Cu===0&&tr!==null){Xs!==null&&(Xs.status="fulfilled");var n=tr;tr=null,Ks=0,Xs=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function mS(n,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Fg=B.S;B.S=function(n,a){Em=$t(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&pS(n,a),Fg!==null&&Fg(n,a)};var ss=O(null);function ju(){var n=ss.current;return n!==null?n:Ge.pooledCache}function Uo(n,a){a===null?W(ss,ss.current):W(ss,a.pool)}function Ig(){var n=ju();return n===null?null:{parent:rt._currentValue,pool:n}}var Qs=Error(s(460)),Au=Error(s(474)),Ho=Error(s(542)),Fo={then:function(){}};function qg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function $g(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(Bn,Bn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Vg(n),n;default:if(typeof a.status=="string")a.then(Bn,Bn);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Vg(n),n}throw rs=a,Qs}}function as(n){try{var a=n._init;return a(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(rs=l,Qs):l}}var rs=null;function Gg(){if(rs===null)throw Error(s(459));var n=rs;return rs=null,n}function Vg(n){if(n===Qs||n===Ho)throw Error(s(483))}var Js=null,nr=0;function Io(n){var a=nr;return nr+=1,Js===null&&(Js=[]),$g(Js,n,a)}function ir(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function qo(n,a){throw a.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Yg(n){function a(N,M){if(n){var U=N.deletions;U===null?(N.deletions=[M],N.flags|=16):U.push(M)}}function l(N,M){if(!n)return null;for(;M!==null;)a(N,M),M=M.sibling;return null}function u(N){for(var M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function g(N,M){return N=Hn(N,M),N.index=0,N.sibling=null,N}function p(N,M,U){return N.index=U,n?(U=N.alternate,U!==null?(U=U.index,U<M?(N.flags|=67108866,M):U):(N.flags|=67108866,M)):(N.flags|=1048576,M)}function _(N){return n&&N.alternate===null&&(N.flags|=67108866),N}function T(N,M,U,Q){return M===null||M.tag!==6?(M=mu(U,N.mode,Q),M.return=N,M):(M=g(M,U),M.return=N,M)}function R(N,M,U,Q){var fe=U.type;return fe===E?K(N,M,U.props.children,Q,U.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===$&&as(fe)===M.type)?(M=g(M,U.props),ir(M,U),M.return=N,M):(M=Po(U.type,U.key,U.props,null,N.mode,Q),ir(M,U),M.return=N,M)}function H(N,M,U,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=yu(U,N.mode,Q),M.return=N,M):(M=g(M,U.children||[]),M.return=N,M)}function K(N,M,U,Q,fe){return M===null||M.tag!==7?(M=es(U,N.mode,Q,fe),M.return=N,M):(M=g(M,U),M.return=N,M)}function J(N,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=mu(""+M,N.mode,U),M.return=N,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return U=Po(M.type,M.key,M.props,null,N.mode,U),ir(U,M),U.return=N,U;case S:return M=yu(M,N.mode,U),M.return=N,M;case $:return M=as(M),J(N,M,U)}if(ge(M)||Y(M))return M=es(M,N.mode,U,null),M.return=N,M;if(typeof M.then=="function")return J(N,Io(M),U);if(M.$$typeof===A)return J(N,Bo(N,M),U);qo(N,M)}return null}function q(N,M,U,Q){var fe=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:T(N,M,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return U.key===fe?R(N,M,U,Q):null;case S:return U.key===fe?H(N,M,U,Q):null;case $:return U=as(U),q(N,M,U,Q)}if(ge(U)||Y(U))return fe!==null?null:K(N,M,U,Q,null);if(typeof U.then=="function")return q(N,M,Io(U),Q);if(U.$$typeof===A)return q(N,M,Bo(N,U),Q);qo(N,U)}return null}function V(N,M,U,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return N=N.get(U)||null,T(M,N,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return N=N.get(Q.key===null?U:Q.key)||null,R(M,N,Q,fe);case S:return N=N.get(Q.key===null?U:Q.key)||null,H(M,N,Q,fe);case $:return Q=as(Q),V(N,M,U,Q,fe)}if(ge(Q)||Y(Q))return N=N.get(U)||null,K(M,N,Q,fe,null);if(typeof Q.then=="function")return V(N,M,U,Io(Q),fe);if(Q.$$typeof===A)return V(N,M,U,Bo(M,Q),fe);qo(M,Q)}return null}function le(N,M,U,Q){for(var fe=null,Ne=null,ce=M,we=M=0,Oe=null;ce!==null&&we<U.length;we++){ce.index>we?(Oe=ce,ce=null):Oe=ce.sibling;var Pe=q(N,ce,U[we],Q);if(Pe===null){ce===null&&(ce=Oe);break}n&&ce&&Pe.alternate===null&&a(N,ce),M=p(Pe,M,we),Ne===null?fe=Pe:Ne.sibling=Pe,Ne=Pe,ce=Oe}if(we===U.length)return l(N,ce),Re&&Fn(N,we),fe;if(ce===null){for(;we<U.length;we++)ce=J(N,U[we],Q),ce!==null&&(M=p(ce,M,we),Ne===null?fe=ce:Ne.sibling=ce,Ne=ce);return Re&&Fn(N,we),fe}for(ce=u(ce);we<U.length;we++)Oe=V(ce,N,we,U[we],Q),Oe!==null&&(n&&Oe.alternate!==null&&ce.delete(Oe.key===null?we:Oe.key),M=p(Oe,M,we),Ne===null?fe=Oe:Ne.sibling=Oe,Ne=Oe);return n&&ce.forEach(function(zi){return a(N,zi)}),Re&&Fn(N,we),fe}function ye(N,M,U,Q){if(U==null)throw Error(s(151));for(var fe=null,Ne=null,ce=M,we=M=0,Oe=null,Pe=U.next();ce!==null&&!Pe.done;we++,Pe=U.next()){ce.index>we?(Oe=ce,ce=null):Oe=ce.sibling;var zi=q(N,ce,Pe.value,Q);if(zi===null){ce===null&&(ce=Oe);break}n&&ce&&zi.alternate===null&&a(N,ce),M=p(zi,M,we),Ne===null?fe=zi:Ne.sibling=zi,Ne=zi,ce=Oe}if(Pe.done)return l(N,ce),Re&&Fn(N,we),fe;if(ce===null){for(;!Pe.done;we++,Pe=U.next())Pe=J(N,Pe.value,Q),Pe!==null&&(M=p(Pe,M,we),Ne===null?fe=Pe:Ne.sibling=Pe,Ne=Pe);return Re&&Fn(N,we),fe}for(ce=u(ce);!Pe.done;we++,Pe=U.next())Pe=V(ce,N,we,Pe.value,Q),Pe!==null&&(n&&Pe.alternate!==null&&ce.delete(Pe.key===null?we:Pe.key),M=p(Pe,M,we),Ne===null?fe=Pe:Ne.sibling=Pe,Ne=Pe);return n&&ce.forEach(function(jw){return a(N,jw)}),Re&&Fn(N,we),fe}function $e(N,M,U,Q){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case x:e:{for(var fe=U.key;M!==null;){if(M.key===fe){if(fe=U.type,fe===E){if(M.tag===7){l(N,M.sibling),Q=g(M,U.props.children),Q.return=N,N=Q;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===$&&as(fe)===M.type){l(N,M.sibling),Q=g(M,U.props),ir(Q,U),Q.return=N,N=Q;break e}l(N,M);break}else a(N,M);M=M.sibling}U.type===E?(Q=es(U.props.children,N.mode,Q,U.key),Q.return=N,N=Q):(Q=Po(U.type,U.key,U.props,null,N.mode,Q),ir(Q,U),Q.return=N,N=Q)}return _(N);case S:e:{for(fe=U.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){l(N,M.sibling),Q=g(M,U.children||[]),Q.return=N,N=Q;break e}else{l(N,M);break}else a(N,M);M=M.sibling}Q=yu(U,N.mode,Q),Q.return=N,N=Q}return _(N);case $:return U=as(U),$e(N,M,U,Q)}if(ge(U))return le(N,M,U,Q);if(Y(U)){if(fe=Y(U),typeof fe!="function")throw Error(s(150));return U=fe.call(U),ye(N,M,U,Q)}if(typeof U.then=="function")return $e(N,M,Io(U),Q);if(U.$$typeof===A)return $e(N,M,Bo(N,U),Q);qo(N,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(l(N,M.sibling),Q=g(M,U),Q.return=N,N=Q):(l(N,M),Q=mu(U,N.mode,Q),Q.return=N,N=Q),_(N)):l(N,M)}return function(N,M,U,Q){try{nr=0;var fe=$e(N,M,U,Q);return Js=null,fe}catch(ce){if(ce===Qs||ce===Ho)throw ce;var Ne=Wt(29,ce,null,N.mode);return Ne.lanes=Q,Ne.return=N,Ne}finally{}}}var os=Yg(!0),Wg=Yg(!1),_i=!1;function Ou(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function xi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Si(n,a,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=No(n),Mg(n,null,l),a}return Do(n,u,a,l),No(n)}function sr(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,Uf(n,l)}}function Mu(n,a){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=_:p=p.next=_,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var ku=!1;function ar(){if(ku){var n=Xs;if(n!==null)throw n}}function rr(n,a,l,u){ku=!1;var g=n.updateQueue;_i=!1;var p=g.firstBaseUpdate,_=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var R=T,H=R.next;R.next=null,_===null?p=H:_.next=H,_=R;var K=n.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=H:T.next=H,K.lastBaseUpdate=R))}if(p!==null){var J=g.baseState;_=0,K=H=R=null,T=p;do{var q=T.lane&-536870913,V=q!==T.lane;if(V?(Ae&q)===q:(u&q)===q){q!==0&&q===Ks&&(ku=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var le=n,ye=T;q=a;var $e=l;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){J=le.call($e,J,q);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,q=typeof le=="function"?le.call($e,J,q):le,q==null)break e;J=b({},J,q);break e;case 2:_i=!0}}q=T.callback,q!==null&&(n.flags|=64,V&&(n.flags|=8192),V=g.callbacks,V===null?g.callbacks=[q]:V.push(q))}else V={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(H=K=V,R=J):K=K.next=V,_|=q;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;V=T,T=V.next,V.next=null,g.lastBaseUpdate=V,g.shared.pending=null}}while(!0);K===null&&(R=J),g.baseState=R,g.firstBaseUpdate=H,g.lastBaseUpdate=K,p===null&&(g.shared.lanes=0),ji|=_,n.lanes=_,n.memoizedState=J}}function Kg(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function Xg(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Kg(l[n],a)}var Zs=O(null),$o=O(0);function Qg(n,a){n=Jn,W($o,n),W(Zs,a),Jn=n|a.baseLanes}function Du(){W($o,Jn),W(Zs,Zs.current)}function Nu(){Jn=$o.current,I(Zs),I($o)}var Kt=O(null),hn=null;function wi(n){var a=n.alternate;W(it,it.current&1),W(Kt,n),hn===null&&(a===null||Zs.current!==null||a.memoizedState!==null)&&(hn=n)}function Pu(n){W(it,it.current),W(Kt,n),hn===null&&(hn=n)}function Jg(n){n.tag===22?(W(it,it.current),W(Kt,n),hn===null&&(hn=n)):Ei()}function Ei(){W(it,it.current),W(Kt,Kt.current)}function Xt(n){I(Kt),hn===n&&(hn=null),I(it)}var it=O(0);function Go(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Fh(l)||Ih(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $n=0,Se=null,Ie=null,ot=null,Vo=!1,ea=!1,ls=!1,Yo=0,or=0,ta=null,yS=0;function et(){throw Error(s(321))}function Lu(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!Yt(n[l],a[l]))return!1;return!0}function zu(n,a,l,u,g,p){return $n=p,Se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=n===null||n.memoizedState===null?Pp:Ju,ls=!1,p=l(u,g),ls=!1,ea&&(p=ep(a,l,u,g)),Zg(n),p}function Zg(n){B.H=ur;var a=Ie!==null&&Ie.next!==null;if($n=0,ot=Ie=Se=null,Vo=!1,or=0,ta=null,a)throw Error(s(300));n===null||lt||(n=n.dependencies,n!==null&&zo(n)&&(lt=!0))}function ep(n,a,l,u){Se=n;var g=0;do{if(ea&&(ta=null),or=0,ea=!1,25<=g)throw Error(s(301));if(g+=1,ot=Ie=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=Lp,p=a(l,u)}while(ea);return p}function bS(){var n=B.H,a=n.useState()[0];return a=typeof a.then=="function"?lr(a):a,n=n.useState()[0],(Ie!==null?Ie.memoizedState:null)!==n&&(Se.flags|=1024),a}function Bu(){var n=Yo!==0;return Yo=0,n}function Uu(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Hu(n){if(Vo){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Vo=!1}$n=0,ot=Ie=Se=null,ea=!1,or=Yo=0,ta=null}function Mt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Se.memoizedState=ot=n:ot=ot.next=n,ot}function st(){if(Ie===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Ie.next;var a=ot===null?Se.memoizedState:ot.next;if(a!==null)ot=a,Ie=n;else{if(n===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Ie=n,n={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},ot===null?Se.memoizedState=ot=n:ot=ot.next=n}return ot}function Wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lr(n){var a=or;return or+=1,ta===null&&(ta=[]),n=$g(ta,n,a),a=Se,(ot===null?a.memoizedState:ot.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Pp:Ju),n}function Ko(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return lr(n);if(n.$$typeof===A)return _t(n)}throw Error(s(438,String(n)))}function Fu(n){var a=null,l=Se.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Se.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Wo(),Se.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),u=0;u<n;u++)l[u]=X;return a.index++,l}function Gn(n,a){return typeof a=="function"?a(n):a}function Xo(n){var a=st();return Iu(a,Ie,n)}function Iu(n,a,l){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var g=n.baseQueue,p=u.pending;if(p!==null){if(g!==null){var _=g.next;g.next=p.next,p.next=_}a.baseQueue=g=p,u.pending=null}if(p=n.baseState,g===null)n.memoizedState=p;else{a=g.next;var T=_=null,R=null,H=a,K=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Ae&J)===J:($n&J)===J){var q=H.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Ks&&(K=!0);else if(($n&q)===q){H=H.next,q===Ks&&(K=!0);continue}else J={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(T=R=J,_=p):R=R.next=J,Se.lanes|=q,ji|=q;J=H.action,ls&&l(p,J),p=H.hasEagerState?H.eagerState:l(p,J)}else q={lane:J,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(T=R=q,_=p):R=R.next=q,Se.lanes|=J,ji|=J;H=H.next}while(H!==null&&H!==a);if(R===null?_=p:R.next=T,!Yt(p,n.memoizedState)&&(lt=!0,K&&(l=Xs,l!==null)))throw l;n.memoizedState=p,n.baseState=_,n.baseQueue=R,u.lastRenderedState=p}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function qu(n){var a=st(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var _=g=g.next;do p=n(p,_.action),_=_.next;while(_!==g);Yt(p,a.memoizedState)||(lt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function tp(n,a,l){var u=Se,g=st(),p=Re;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=a();var _=!Yt((Ie||g).memoizedState,l);if(_&&(g.memoizedState=l,lt=!0),g=g.queue,Vu(sp.bind(null,u,g,n),[n]),g.getSnapshot!==a||_||ot!==null&&ot.memoizedState.tag&1){if(u.flags|=2048,na(9,{destroy:void 0},ip.bind(null,u,g,l,a),null),Ge===null)throw Error(s(349));p||($n&127)!==0||np(u,a,l)}return l}function np(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=Se.updateQueue,a===null?(a=Wo(),Se.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function ip(n,a,l,u){a.value=l,a.getSnapshot=u,ap(a)&&rp(n)}function sp(n,a,l){return l(function(){ap(a)&&rp(n)})}function ap(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!Yt(n,l)}catch{return!0}}function rp(n){var a=Zi(n,2);a!==null&&Bt(a,n,2)}function $u(n){var a=Mt();if(typeof n=="function"){var l=n;if(n=l(),ls){fi(!0);try{l()}finally{fi(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:n},a}function op(n,a,l,u){return n.baseState=l,Iu(n,Ie,typeof u=="function"?u:Gn)}function vS(n,a,l,u,g){if(Zo(n))throw Error(s(485));if(n=a.action,n!==null){var p={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};B.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,lp(a,p)):(p.next=l.next,a.pending=l.next=p)}}function lp(n,a){var l=a.action,u=a.payload,g=n.state;if(a.isTransition){var p=B.T,_={};B.T=_;try{var T=l(g,u),R=B.S;R!==null&&R(_,T),cp(n,a,T)}catch(H){Gu(n,a,H)}finally{p!==null&&_.types!==null&&(p.types=_.types),B.T=p}}else try{p=l(g,u),cp(n,a,p)}catch(H){Gu(n,a,H)}}function cp(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){up(n,a,u)},function(u){return Gu(n,a,u)}):up(n,a,l)}function up(n,a,l){a.status="fulfilled",a.value=l,hp(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,lp(n,l)))}function Gu(n,a,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,hp(a),a=a.next;while(a!==u)}n.action=null}function hp(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function dp(n,a){return a}function fp(n,a){if(Re){var l=Ge.formState;if(l!==null){e:{var u=Se;if(Re){if(Ye){t:{for(var g=Ye,p=un;g.nodeType!==8;){if(!p){g=null;break t}if(g=dn(g.nextSibling),g===null){g=null;break t}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){Ye=dn(g.nextSibling),u=g.data==="F!";break e}}bi(u)}u=!1}u&&(a=l[0])}}return l=Mt(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:a},l.queue=u,l=kp.bind(null,Se,u),u.dispatch=l,u=$u(!1),p=Qu.bind(null,Se,!1,u.queue),u=Mt(),g={state:a,dispatch:null,action:n,pending:null},u.queue=g,l=vS.bind(null,Se,g,p,l),g.dispatch=l,u.memoizedState=n,[a,l,!1]}function gp(n){var a=st();return pp(a,Ie,n)}function pp(n,a,l){if(a=Iu(n,a,dp)[0],n=Xo(Gn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=lr(a)}catch(_){throw _===Qs?Ho:_}else u=a;a=st();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(Se.flags|=2048,na(9,{destroy:void 0},_S.bind(null,g,l),null)),[u,p,n]}function _S(n,a){n.action=a}function mp(n){var a=st(),l=Ie;if(l!==null)return pp(a,l,n);st(),a=a.memoizedState,l=st();var u=l.queue.dispatch;return l.memoizedState=n,[a,u,!1]}function na(n,a,l,u){return n={tag:n,create:l,deps:u,inst:a,next:null},a=Se.updateQueue,a===null&&(a=Wo(),Se.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,a.lastEffect=n),n}function yp(){return st().memoizedState}function Qo(n,a,l,u){var g=Mt();Se.flags|=n,g.memoizedState=na(1|a,{destroy:void 0},l,u===void 0?null:u)}function Jo(n,a,l,u){var g=st();u=u===void 0?null:u;var p=g.memoizedState.inst;Ie!==null&&u!==null&&Lu(u,Ie.memoizedState.deps)?g.memoizedState=na(a,p,l,u):(Se.flags|=n,g.memoizedState=na(1|a,p,l,u))}function bp(n,a){Qo(8390656,8,n,a)}function Vu(n,a){Jo(2048,8,n,a)}function xS(n){Se.flags|=4;var a=Se.updateQueue;if(a===null)a=Wo(),Se.updateQueue=a,a.events=[n];else{var l=a.events;l===null?a.events=[n]:l.push(n)}}function vp(n){var a=st().memoizedState;return xS({ref:a,nextImpl:n}),function(){if((Le&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function _p(n,a){return Jo(4,2,n,a)}function xp(n,a){return Jo(4,4,n,a)}function Sp(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function wp(n,a,l){l=l!=null?l.concat([n]):null,Jo(4,4,Sp.bind(null,a,n),l)}function Yu(){}function Ep(n,a){var l=st();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Lu(a,u[1])?u[0]:(l.memoizedState=[n,a],n)}function Tp(n,a){var l=st();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Lu(a,u[1]))return u[0];if(u=n(),ls){fi(!0);try{n()}finally{fi(!1)}}return l.memoizedState=[u,a],u}function Wu(n,a,l){return l===void 0||($n&1073741824)!==0&&(Ae&261930)===0?n.memoizedState=a:(n.memoizedState=l,n=Cm(),Se.lanes|=n,ji|=n,l)}function Cp(n,a,l,u){return Yt(l,a)?l:Zs.current!==null?(n=Wu(n,l,u),Yt(n,a)||(lt=!0),n):($n&42)===0||($n&1073741824)!==0&&(Ae&261930)===0?(lt=!0,n.memoizedState=l):(n=Cm(),Se.lanes|=n,ji|=n,a)}function jp(n,a,l,u,g){var p=L.p;L.p=p!==0&&8>p?p:8;var _=B.T,T={};B.T=T,Qu(n,!1,a,l);try{var R=g(),H=B.S;if(H!==null&&H(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=mS(R,u);cr(n,a,K,Zt(n))}else cr(n,a,u,Zt(n))}catch(J){cr(n,a,{then:function(){},status:"rejected",reason:J},Zt())}finally{L.p=p,_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}function SS(){}function Ku(n,a,l,u){if(n.tag!==5)throw Error(s(476));var g=Ap(n).queue;jp(n,g,a,te,l===null?SS:function(){return Op(n),l(u)})}function Ap(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Op(n){var a=Ap(n);a.next===null&&(a=n.alternate.memoizedState),cr(n,a.next.queue,{},Zt())}function Xu(){return _t(Cr)}function Rp(){return st().memoizedState}function Mp(){return st().memoizedState}function wS(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=Zt();n=xi(l);var u=Si(a,n,l);u!==null&&(Bt(u,a,l),sr(u,a,l)),a={cache:Tu()},n.payload=a;return}a=a.return}}function ES(n,a,l){var u=Zt();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zo(n)?Dp(a,l):(l=gu(n,a,l,u),l!==null&&(Bt(l,n,u),Np(l,a,u)))}function kp(n,a,l){var u=Zt();cr(n,a,l,u)}function cr(n,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zo(n))Dp(a,g);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var _=a.lastRenderedState,T=p(_,l);if(g.hasEagerState=!0,g.eagerState=T,Yt(T,_))return Do(n,a,g,0),Ge===null&&ko(),!1}catch{}finally{}if(l=gu(n,a,g,u),l!==null)return Bt(l,n,u),Np(l,a,u),!0}return!1}function Qu(n,a,l,u){if(u={lane:2,revertLane:Oh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Zo(n)){if(a)throw Error(s(479))}else a=gu(n,l,u,2),a!==null&&Bt(a,n,2)}function Zo(n){var a=n.alternate;return n===Se||a!==null&&a===Se}function Dp(n,a){ea=Vo=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Np(n,a,l){if((l&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,Uf(n,l)}}var ur={readContext:_t,use:Ko,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};ur.useEffectEvent=et;var Pp={readContext:_t,use:Ko,useCallback:function(n,a){return Mt().memoizedState=[n,a===void 0?null:a],n},useContext:_t,useEffect:bp,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,Qo(4194308,4,Sp.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Qo(4194308,4,n,a)},useInsertionEffect:function(n,a){Qo(4,2,n,a)},useMemo:function(n,a){var l=Mt();a=a===void 0?null:a;var u=n();if(ls){fi(!0);try{n()}finally{fi(!1)}}return l.memoizedState=[u,a],u},useReducer:function(n,a,l){var u=Mt();if(l!==void 0){var g=l(a);if(ls){fi(!0);try{l(a)}finally{fi(!1)}}}else g=a;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=ES.bind(null,Se,n),[u.memoizedState,n]},useRef:function(n){var a=Mt();return n={current:n},a.memoizedState=n},useState:function(n){n=$u(n);var a=n.queue,l=kp.bind(null,Se,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:Yu,useDeferredValue:function(n,a){var l=Mt();return Wu(l,n,a)},useTransition:function(){var n=$u(!1);return n=jp.bind(null,Se,n.queue,!0,!1),Mt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var u=Se,g=Mt();if(Re){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),Ge===null)throw Error(s(349));(Ae&127)!==0||np(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,bp(sp.bind(null,u,p,n),[n]),u.flags|=2048,na(9,{destroy:void 0},ip.bind(null,u,p,l,a),null),l},useId:function(){var n=Mt(),a=Ge.identifierPrefix;if(Re){var l=jn,u=Cn;l=(u&~(1<<32-Vt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Yo++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=yS++,a="_"+a+"r_"+l.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Xu,useFormState:fp,useActionState:fp,useOptimistic:function(n){var a=Mt();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Qu.bind(null,Se,!0,l),l.dispatch=a,[n,a]},useMemoCache:Fu,useCacheRefresh:function(){return Mt().memoizedState=wS.bind(null,Se)},useEffectEvent:function(n){var a=Mt(),l={impl:n};return a.memoizedState=l,function(){if((Le&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Ju={readContext:_t,use:Ko,useCallback:Ep,useContext:_t,useEffect:Vu,useImperativeHandle:wp,useInsertionEffect:_p,useLayoutEffect:xp,useMemo:Tp,useReducer:Xo,useRef:yp,useState:function(){return Xo(Gn)},useDebugValue:Yu,useDeferredValue:function(n,a){var l=st();return Cp(l,Ie.memoizedState,n,a)},useTransition:function(){var n=Xo(Gn)[0],a=st().memoizedState;return[typeof n=="boolean"?n:lr(n),a]},useSyncExternalStore:tp,useId:Rp,useHostTransitionStatus:Xu,useFormState:gp,useActionState:gp,useOptimistic:function(n,a){var l=st();return op(l,Ie,n,a)},useMemoCache:Fu,useCacheRefresh:Mp};Ju.useEffectEvent=vp;var Lp={readContext:_t,use:Ko,useCallback:Ep,useContext:_t,useEffect:Vu,useImperativeHandle:wp,useInsertionEffect:_p,useLayoutEffect:xp,useMemo:Tp,useReducer:qu,useRef:yp,useState:function(){return qu(Gn)},useDebugValue:Yu,useDeferredValue:function(n,a){var l=st();return Ie===null?Wu(l,n,a):Cp(l,Ie.memoizedState,n,a)},useTransition:function(){var n=qu(Gn)[0],a=st().memoizedState;return[typeof n=="boolean"?n:lr(n),a]},useSyncExternalStore:tp,useId:Rp,useHostTransitionStatus:Xu,useFormState:mp,useActionState:mp,useOptimistic:function(n,a){var l=st();return Ie!==null?op(l,Ie,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Fu,useCacheRefresh:Mp};Lp.useEffectEvent=vp;function Zu(n,a,l,u){a=n.memoizedState,l=l(u,a),l=l==null?a:b({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var eh={enqueueSetState:function(n,a,l){n=n._reactInternals;var u=Zt(),g=xi(u);g.payload=a,l!=null&&(g.callback=l),a=Si(n,g,u),a!==null&&(Bt(a,n,u),sr(a,n,u))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var u=Zt(),g=xi(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Si(n,g,u),a!==null&&(Bt(a,n,u),sr(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=Zt(),u=xi(l);u.tag=2,a!=null&&(u.callback=a),a=Si(n,u,l),a!==null&&(Bt(a,n,l),sr(a,n,l))}};function zp(n,a,l,u,g,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,_):a.prototype&&a.prototype.isPureReactComponent?!Xa(l,u)||!Xa(g,p):!0}function Bp(n,a,l,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==n&&eh.enqueueReplaceState(a,a.state,null)}function cs(n,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(n=n.defaultProps){l===a&&(l=b({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function Up(n){Mo(n)}function Hp(n){console.error(n)}function Fp(n){Mo(n)}function el(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Ip(n,a,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function th(n,a,l){return l=xi(l),l.tag=3,l.payload={element:null},l.callback=function(){el(n,a)},l}function qp(n){return n=xi(n),n.tag=3,n}function $p(n,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;n.payload=function(){return g(p)},n.callback=function(){Ip(a,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Ip(a,l,u),typeof g!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function TS(n,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Ws(a,l,g,!0),l=Kt.current,l!==null){switch(l.tag){case 31:case 13:return hn===null?dl():l.alternate===null&&tt===0&&(tt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Fo?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Ch(n,u,g)),!1;case 22:return l.flags|=65536,u===Fo?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Ch(n,u,g)),!1}throw Error(s(435,l.tag))}return Ch(n,u,g),dl(),!1}if(Re)return a=Kt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==_u&&(n=Error(s(422),{cause:u}),Za(on(n,l)))):(u!==_u&&(a=Error(s(423),{cause:u}),Za(on(a,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=on(u,l),g=th(n.stateNode,u,g),Mu(n,g),tt!==4&&(tt=2)),!1;var p=Error(s(520),{cause:u});if(p=on(p,l),br===null?br=[p]:br.push(p),tt!==4&&(tt=2),a===null)return!0;u=on(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=th(l.stateNode,u,n),Mu(l,n),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ai===null||!Ai.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=qp(g),$p(g,n,l,u),Mu(l,g),!1}l=l.return}while(l!==null);return!1}var nh=Error(s(461)),lt=!1;function xt(n,a,l,u){a.child=n===null?Wg(a,null,l,u):os(a,n.child,l,u)}function Gp(n,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return is(a),u=zu(n,a,l,_,p,g),T=Bu(),n!==null&&!lt?(Uu(n,a,g),Vn(n,a,g)):(Re&&T&&bu(a),a.flags|=1,xt(n,a,u,g),a.child)}function Vp(n,a,l,u,g){if(n===null){var p=l.type;return typeof p=="function"&&!pu(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Yp(n,a,p,u,g)):(n=Po(l.type,null,u,a,a.mode,g),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!uh(n,g)){var _=p.memoizedProps;if(l=l.compare,l=l!==null?l:Xa,l(_,u)&&n.ref===a.ref)return Vn(n,a,g)}return a.flags|=1,n=Hn(p,u),n.ref=a.ref,n.return=a,a.child=n}function Yp(n,a,l,u,g){if(n!==null){var p=n.memoizedProps;if(Xa(p,u)&&n.ref===a.ref)if(lt=!1,a.pendingProps=u=p,uh(n,g))(n.flags&131072)!==0&&(lt=!0);else return a.lanes=n.lanes,Vn(n,a,g)}return ih(n,a,l,u,g)}function Wp(n,a,l,u){var g=u.children,p=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,n!==null){for(u=a.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Kp(n,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uo(a,p!==null?p.cachePool:null),p!==null?Qg(a,p):Du(),Jg(a);else return u=a.lanes=536870912,Kp(n,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Uo(a,p.cachePool),Qg(a,p),Ei(),a.memoizedState=null):(n!==null&&Uo(a,null),Du(),Ei());return xt(n,a,g,l),a.child}function hr(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Kp(n,a,l,u,g){var p=ju();return p=p===null?null:{parent:rt._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},n!==null&&Uo(a,null),Du(),Jg(a),n!==null&&Ws(n,a,u,!0),a.childLanes=g,null}function tl(n,a){return a=il({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function Xp(n,a,l){return os(a,n.child,null,l),n=tl(a,a.pendingProps),n.flags|=2,Xt(a),a.memoizedState=null,n}function CS(n,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Re){if(u.mode==="hidden")return n=tl(a,u),a.lanes=536870912,hr(null,n);if(Pu(a),(n=Ye)?(n=ly(n,un),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:mi!==null?{id:Cn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},l=Dg(n),l.return=a,a.child=l,vt=a,Ye=null)):n=null,n===null)throw bi(a);return a.lanes=536870912,null}return tl(a,u)}var p=n.memoizedState;if(p!==null){var _=p.dehydrated;if(Pu(a),g)if(a.flags&256)a.flags&=-257,a=Xp(n,a,l);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(s(558));else if(lt||Ws(n,a,l,!1),g=(l&n.childLanes)!==0,lt||g){if(u=Ge,u!==null&&(_=Hf(u,l),_!==0&&_!==p.retryLane))throw p.retryLane=_,Zi(n,_),Bt(u,n,_),nh;dl(),a=Xp(n,a,l)}else n=p.treeContext,Ye=dn(_.nextSibling),vt=a,Re=!0,yi=null,un=!1,n!==null&&Lg(a,n),a=tl(a,u),a.flags|=4096;return a}return n=Hn(n.child,{mode:u.mode,children:u.children}),n.ref=a.ref,a.child=n,n.return=a,n}function nl(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function ih(n,a,l,u,g){return is(a),l=zu(n,a,l,u,void 0,g),u=Bu(),n!==null&&!lt?(Uu(n,a,g),Vn(n,a,g)):(Re&&u&&bu(a),a.flags|=1,xt(n,a,l,g),a.child)}function Qp(n,a,l,u,g,p){return is(a),a.updateQueue=null,l=ep(a,u,l,g),Zg(n),u=Bu(),n!==null&&!lt?(Uu(n,a,p),Vn(n,a,p)):(Re&&u&&bu(a),a.flags|=1,xt(n,a,l,p),a.child)}function Jp(n,a,l,u,g){if(is(a),a.stateNode===null){var p=$s,_=l.contextType;typeof _=="object"&&_!==null&&(p=_t(_)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=eh,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Ou(a),_=l.contextType,p.context=typeof _=="object"&&_!==null?_t(_):$s,p.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Zu(a,l,_,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&eh.enqueueReplaceState(p,p.state,null),rr(a,u,p,g),ar(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){p=a.stateNode;var T=a.memoizedProps,R=cs(l,T);p.props=R;var H=p.context,K=l.contextType;_=$s,typeof K=="object"&&K!==null&&(_=_t(K));var J=l.getDerivedStateFromProps;K=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,K||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||H!==_)&&Bp(a,p,u,_),_i=!1;var q=a.memoizedState;p.state=q,rr(a,u,p,g),ar(),H=a.memoizedState,T||q!==H||_i?(typeof J=="function"&&(Zu(a,l,J,u),H=a.memoizedState),(R=_i||zp(a,l,R,u,q,H,_))?(K||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=H),p.props=u,p.state=H,p.context=_,u=R):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Ru(n,a),_=a.memoizedProps,K=cs(l,_),p.props=K,J=a.pendingProps,q=p.context,H=l.contextType,R=$s,typeof H=="object"&&H!==null&&(R=_t(H)),T=l.getDerivedStateFromProps,(H=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==J||q!==R)&&Bp(a,p,u,R),_i=!1,q=a.memoizedState,p.state=q,rr(a,u,p,g),ar();var V=a.memoizedState;_!==J||q!==V||_i||n!==null&&n.dependencies!==null&&zo(n.dependencies)?(typeof T=="function"&&(Zu(a,l,T,u),V=a.memoizedState),(K=_i||zp(a,l,K,u,q,V,R)||n!==null&&n.dependencies!==null&&zo(n.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,V,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,V,R)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=V),p.props=u,p.state=V,p.context=R,u=K):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(a.flags|=1024),u=!1)}return p=u,nl(n,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&u?(a.child=os(a,n.child,null,g),a.child=os(a,null,l,g)):xt(n,a,l,g),a.memoizedState=p.state,n=a.child):n=Vn(n,a,g),n}function Zp(n,a,l,u){return ts(),a.flags|=256,xt(n,a,l,u),a.child}var sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ah(n){return{baseLanes:n,cachePool:Ig()}}function rh(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=Jt),n}function em(n,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(it.current&2)!==0),_&&(g=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,n===null){if(Re){if(g?wi(a):Ei(),(n=Ye)?(n=ly(n,un),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:mi!==null?{id:Cn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},l=Dg(n),l.return=a,a.child=l,vt=a,Ye=null)):n=null,n===null)throw bi(a);return Ih(n)?a.lanes=32:a.lanes=536870912,null}var T=u.children;return u=u.fallback,g?(Ei(),g=a.mode,T=il({mode:"hidden",children:T},g),u=es(u,g,l,null),T.return=a,u.return=a,T.sibling=u,a.child=T,u=a.child,u.memoizedState=ah(l),u.childLanes=rh(n,_,l),a.memoizedState=sh,hr(null,u)):(wi(a),oh(a,T))}var R=n.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(p)a.flags&256?(wi(a),a.flags&=-257,a=lh(n,a,l)):a.memoizedState!==null?(Ei(),a.child=n.child,a.flags|=128,a=null):(Ei(),T=u.fallback,g=a.mode,u=il({mode:"visible",children:u.children},g),T=es(T,g,l,null),T.flags|=2,u.return=a,T.return=a,u.sibling=T,a.child=u,os(a,n.child,null,l),u=a.child,u.memoizedState=ah(l),u.childLanes=rh(n,_,l),a.memoizedState=sh,a=hr(null,u));else if(wi(a),Ih(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,u=Error(s(419)),u.stack="",u.digest=_,Za({value:u,source:null,stack:null}),a=lh(n,a,l)}else if(lt||Ws(n,a,l,!1),_=(l&n.childLanes)!==0,lt||_){if(_=Ge,_!==null&&(u=Hf(_,l),u!==0&&u!==R.retryLane))throw R.retryLane=u,Zi(n,u),Bt(_,n,u),nh;Fh(T)||dl(),a=lh(n,a,l)}else Fh(T)?(a.flags|=192,a.child=n.child,a=null):(n=R.treeContext,Ye=dn(T.nextSibling),vt=a,Re=!0,yi=null,un=!1,n!==null&&Lg(a,n),a=oh(a,u.children),a.flags|=4096);return a}return g?(Ei(),T=u.fallback,g=a.mode,R=n.child,H=R.sibling,u=Hn(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,H!==null?T=Hn(H,T):(T=es(T,g,l,null),T.flags|=2),T.return=a,u.return=a,u.sibling=T,a.child=u,hr(null,u),u=a.child,T=n.child.memoizedState,T===null?T=ah(l):(g=T.cachePool,g!==null?(R=rt._currentValue,g=g.parent!==R?{parent:R,pool:R}:g):g=Ig(),T={baseLanes:T.baseLanes|l,cachePool:g}),u.memoizedState=T,u.childLanes=rh(n,_,l),a.memoizedState=sh,hr(n.child,u)):(wi(a),l=n.child,n=l.sibling,l=Hn(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,n!==null&&(_=a.deletions,_===null?(a.deletions=[n],a.flags|=16):_.push(n)),a.child=l,a.memoizedState=null,l)}function oh(n,a){return a=il({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function il(n,a){return n=Wt(22,n,null,a),n.lanes=0,n}function lh(n,a,l){return os(a,n.child,null,l),n=oh(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function tm(n,a,l){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),wu(n.return,a,l)}function ch(n,a,l,u,g,p){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=g,_.treeForkCount=p)}function nm(n,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var _=it.current,T=(_&2)!==0;if(T?(_=_&1|2,a.flags|=128):_&=1,W(it,_),xt(n,a,u,l),u=Re?Ja:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tm(n,l,a);else if(n.tag===19)tm(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)n=l.alternate,n!==null&&Go(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),ch(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(n=g.alternate,n!==null&&Go(n)===null){a.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}ch(a,!0,l,null,p,u);break;case"together":ch(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Vn(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),ji|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(Ws(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,l=Hn(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Hn(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function uh(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&zo(n)))}function jS(n,a,l){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),vi(a,rt,n.memoizedState.cache),ts();break;case 27:case 5:tn(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:vi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Pu(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(wi(a),a.flags|=128,null):(l&a.child.childLanes)!==0?em(n,a,l):(wi(a),n=Vn(n,a,l),n!==null?n.sibling:null);wi(a);break;case 19:var g=(n.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Ws(n,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return nm(n,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(it,it.current),u)break;return null;case 22:return a.lanes=0,Wp(n,a,l,a.pendingProps);case 24:vi(a,rt,n.memoizedState.cache)}return Vn(n,a,l)}function im(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)lt=!0;else{if(!uh(n,l)&&(a.flags&128)===0)return lt=!1,jS(n,a,l);lt=(n.flags&131072)!==0}else lt=!1,Re&&(a.flags&1048576)!==0&&Pg(a,Ja,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(n=as(a.elementType),a.type=n,typeof n=="function")pu(n)?(u=cs(n,u),a.tag=1,a=Jp(null,a,n,u,l)):(a.tag=0,a=ih(null,a,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===D){a.tag=11,a=Gp(null,a,n,u,l);break e}else if(g===P){a.tag=14,a=Vp(null,a,n,u,l);break e}}throw a=de(n)||n,Error(s(306,a,""))}}return a;case 0:return ih(n,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=cs(u,a.pendingProps),Jp(n,a,u,g,l);case 3:e:{if(ke(a,a.stateNode.containerInfo),n===null)throw Error(s(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,Ru(n,a),rr(a,u,null,l);var _=a.memoizedState;if(u=_.cache,vi(a,rt,u),u!==p.cache&&Eu(a,[rt],l,!0),ar(),u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Zp(n,a,u,l);break e}else if(u!==g){g=on(Error(s(424)),a),Za(g),a=Zp(n,a,u,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ye=dn(n.firstChild),vt=a,Re=!0,yi=null,un=!0,l=Wg(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ts(),u===g){a=Vn(n,a,l);break e}xt(n,a,u,l)}a=a.child}return a;case 26:return nl(n,a),n===null?(l=gy(a.type,null,a.pendingProps,null))?a.memoizedState=l:Re||(l=a.type,n=a.pendingProps,u=vl(me.current).createElement(l),u[bt]=a,u[kt]=n,St(u,l,n),mt(u),a.stateNode=u):a.memoizedState=gy(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return tn(a),n===null&&Re&&(u=a.stateNode=hy(a.type,a.pendingProps,me.current),vt=a,un=!0,g=Ye,ki(a.type)?(qh=g,Ye=dn(u.firstChild)):Ye=g),xt(n,a,a.pendingProps.children,l),nl(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Re&&((g=u=Ye)&&(u=iw(u,a.type,a.pendingProps,un),u!==null?(a.stateNode=u,vt=a,Ye=dn(u.firstChild),un=!1,g=!0):g=!1),g||bi(a)),tn(a),g=a.type,p=a.pendingProps,_=n!==null?n.memoizedProps:null,u=p.children,Bh(g,p)?u=null:_!==null&&Bh(g,_)&&(a.flags|=32),a.memoizedState!==null&&(g=zu(n,a,bS,null,null,l),Cr._currentValue=g),nl(n,a),xt(n,a,u,l),a.child;case 6:return n===null&&Re&&((n=l=Ye)&&(l=sw(l,a.pendingProps,un),l!==null?(a.stateNode=l,vt=a,Ye=null,n=!0):n=!1),n||bi(a)),null;case 13:return em(n,a,l);case 4:return ke(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=os(a,null,u,l):xt(n,a,u,l),a.child;case 11:return Gp(n,a,a.type,a.pendingProps,l);case 7:return xt(n,a,a.pendingProps,l),a.child;case 8:return xt(n,a,a.pendingProps.children,l),a.child;case 12:return xt(n,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,vi(a,a.type,u.value),xt(n,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,is(a),g=_t(g),u=u(g),a.flags|=1,xt(n,a,u,l),a.child;case 14:return Vp(n,a,a.type,a.pendingProps,l);case 15:return Yp(n,a,a.type,a.pendingProps,l);case 19:return nm(n,a,l);case 31:return CS(n,a,l);case 22:return Wp(n,a,l,a.pendingProps);case 24:return is(a),u=_t(rt),n===null?(g=ju(),g===null&&(g=Ge,p=Tu(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Ou(a),vi(a,rt,g)):((n.lanes&l)!==0&&(Ru(n,a),rr(a,null,null,l),ar()),g=n.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),vi(a,rt,u)):(u=p.cache,vi(a,rt,u),u!==g.cache&&Eu(a,[rt],l,!0))),xt(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Yn(n){n.flags|=4}function hh(n,a,l,u,g){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Rm())n.flags|=8192;else throw rs=Fo,Au}else n.flags&=-16777217}function sm(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!vy(a))if(Rm())n.flags|=8192;else throw rs=Fo,Au}function sl(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?zf():536870912,n.lanes|=a,ra|=a)}function dr(n,a){if(!Re)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function We(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(a)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,a}function AS(n,a,l){var u=a.pendingProps;switch(vu(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(a),null;case 1:return We(a),null;case 3:return l=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),qn(rt),Me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ys(a)?Yn(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xu())),We(a),null;case 26:var g=a.type,p=a.memoizedState;return n===null?(Yn(a),p!==null?(We(a),sm(a,p)):(We(a),hh(a,g,null,u,l))):p?p!==n.memoizedState?(Yn(a),We(a),sm(a,p)):(We(a),a.flags&=-16777217):(n=n.memoizedProps,n!==u&&Yn(a),We(a),hh(a,g,n,u,l)),null;case 27:if(Ze(a),l=me.current,g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Yn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return We(a),null}n=ie.current,Ys(a)?zg(a):(n=hy(g,u,l),a.stateNode=n,Yn(a))}return We(a),null;case 5:if(Ze(a),g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Yn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return We(a),null}if(p=ie.current,Ys(a))zg(a);else{var _=vl(me.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?_.createElement(g,{is:u.is}):_.createElement(g)}}p[bt]=a,p[kt]=u;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=p;e:switch(St(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Yn(a)}}return We(a),hh(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,l),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Yn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(n=me.current,Ys(a)){if(n=a.stateNode,l=a.memoizedProps,u=null,g=vt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[bt]=a,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||ey(n.nodeValue,l)),n||bi(a,!0)}else n=vl(n).createTextNode(u),n[bt]=a,a.stateNode=n}return We(a),null;case 31:if(l=a.memoizedState,n===null||n.memoizedState!==null){if(u=Ys(a),l!==null){if(n===null){if(!u)throw Error(s(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[bt]=a}else ts(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),n=!1}else l=xu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return a.flags&256?(Xt(a),a):(Xt(a),null);if((a.flags&128)!==0)throw Error(s(558))}return We(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Ys(a),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[bt]=a}else ts(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),g=!1}else g=xu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Xt(a),a):(Xt(a),null)}return Xt(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==n&&l&&(a.child.flags|=8192),sl(a,a.updateQueue),We(a),null);case 4:return Me(),n===null&&Dh(a.stateNode.containerInfo),We(a),null;case 10:return qn(a.type),We(a),null;case 19:if(I(it),u=a.memoizedState,u===null)return We(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)dr(u,!1);else{if(tt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=Go(n),p!==null){for(a.flags|=128,dr(u,!1),n=p.updateQueue,a.updateQueue=n,sl(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)kg(l,n),l=l.sibling;return W(it,it.current&1|2),Re&&Fn(a,u.treeForkCount),a.child}n=n.sibling}u.tail!==null&&$t()>cl&&(a.flags|=128,g=!0,dr(u,!1),a.lanes=4194304)}else{if(!g)if(n=Go(p),n!==null){if(a.flags|=128,g=!0,n=n.updateQueue,a.updateQueue=n,sl(a,n),dr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Re)return We(a),null}else 2*$t()-u.renderingStartTime>cl&&l!==536870912&&(a.flags|=128,g=!0,dr(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(n=u.last,n!==null?n.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=$t(),n.sibling=null,l=it.current,W(it,g?l&1|2:l&1),Re&&Fn(a,u.treeForkCount),n):(We(a),null);case 22:case 23:return Xt(a),Nu(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(We(a),a.subtreeFlags&6&&(a.flags|=8192)):We(a),l=a.updateQueue,l!==null&&sl(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),n!==null&&I(ss),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),qn(rt),We(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function OS(n,a){switch(vu(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return qn(rt),Me(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Ze(a),null;case 31:if(a.memoizedState!==null){if(Xt(a),a.alternate===null)throw Error(s(340));ts()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Xt(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));ts()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return I(it),null;case 4:return Me(),null;case 10:return qn(a.type),null;case 22:case 23:return Xt(a),Nu(),n!==null&&I(ss),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return qn(rt),null;case 25:return null;default:return null}}function am(n,a){switch(vu(a),a.tag){case 3:qn(rt),Me();break;case 26:case 27:case 5:Ze(a);break;case 4:Me();break;case 31:a.memoizedState!==null&&Xt(a);break;case 13:Xt(a);break;case 19:I(it);break;case 10:qn(a.type);break;case 22:case 23:Xt(a),Nu(),n!==null&&I(ss);break;case 24:qn(rt)}}function fr(n,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var p=l.create,_=l.inst;u=p(),_.destroy=u}l=l.next}while(l!==g)}}catch(T){Ue(a,a.return,T)}}function Ti(n,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&n)===n){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,g=a;var R=l,H=T;try{H()}catch(K){Ue(g,R,K)}}}u=u.next}while(u!==p)}}catch(K){Ue(a,a.return,K)}}function rm(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{Xg(a,l)}catch(u){Ue(n,n.return,u)}}}function om(n,a,l){l.props=cs(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Ue(n,a,u)}}function gr(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){Ue(n,a,g)}}function An(n,a){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Ue(n,a,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ue(n,a,g)}else l.current=null}function lm(n){var a=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Ue(n,n.return,g)}}function dh(n,a,l){try{var u=n.stateNode;QS(u,n.type,l,a),u[kt]=a}catch(g){Ue(n,n.return,g)}}function cm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ki(n.type)||n.tag===4}function fh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ki(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gh(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Bn));else if(u!==4&&(u===27&&ki(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(gh(n,a,l),n=n.sibling;n!==null;)gh(n,a,l),n=n.sibling}function al(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(u!==4&&(u===27&&ki(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(al(n,a,l),n=n.sibling;n!==null;)al(n,a,l),n=n.sibling}function um(n){var a=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);St(a,u,l),a[bt]=n,a[kt]=l}catch(p){Ue(n,n.return,p)}}var Wn=!1,ct=!1,ph=!1,hm=typeof WeakSet=="function"?WeakSet:Set,yt=null;function RS(n,a){if(n=n.containerInfo,Lh=Cl,n=wg(n),lu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var _=0,T=-1,R=-1,H=0,K=0,J=n,q=null;t:for(;;){for(var V;J!==l||g!==0&&J.nodeType!==3||(T=_+g),J!==p||u!==0&&J.nodeType!==3||(R=_+u),J.nodeType===3&&(_+=J.nodeValue.length),(V=J.firstChild)!==null;)q=J,J=V;for(;;){if(J===n)break t;if(q===l&&++H===g&&(T=_),q===p&&++K===u&&(R=_),(V=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=V}l=T===-1||R===-1?null:{start:T,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(zh={focusedElem:n,selectionRange:l},Cl=!1,yt=a;yt!==null;)if(a=yt,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,yt=n;else for(;yt!==null;){switch(a=yt,p=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var le=cs(l.type,g);n=u.getSnapshotBeforeUpdate(le,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(ye){Ue(l,l.return,ye)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Hh(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Hh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=a.sibling,n!==null){n.return=a.return,yt=n;break}yt=a.return}}function dm(n,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Xn(n,l),u&4&&fr(5,l);break;case 1:if(Xn(n,l),u&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(_){Ue(l,l.return,_)}else{var g=cs(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(g,a,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Ue(l,l.return,_)}}u&64&&rm(l),u&512&&gr(l,l.return);break;case 3:if(Xn(n,l),u&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Xg(n,a)}catch(_){Ue(l,l.return,_)}}break;case 27:a===null&&u&4&&um(l);case 26:case 5:Xn(n,l),a===null&&u&4&&lm(l),u&512&&gr(l,l.return);break;case 12:Xn(n,l);break;case 31:Xn(n,l),u&4&&pm(n,l);break;case 13:Xn(n,l),u&4&&mm(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=US.bind(null,l),aw(n,l))));break;case 22:if(u=l.memoizedState!==null||Wn,!u){a=a!==null&&a.memoizedState!==null||ct,g=Wn;var p=ct;Wn=u,(ct=a)&&!p?Qn(n,l,(l.subtreeFlags&8772)!==0):Xn(n,l),Wn=g,ct=p}break;case 30:break;default:Xn(n,l)}}function fm(n){var a=n.alternate;a!==null&&(n.alternate=null,fm(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Gc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Xe=null,Nt=!1;function Kn(n,a,l){for(l=l.child;l!==null;)gm(n,a,l),l=l.sibling}function gm(n,a,l){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Ba,l)}catch{}switch(l.tag){case 26:ct||An(l,a),Kn(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ct||An(l,a);var u=Xe,g=Nt;ki(l.type)&&(Xe=l.stateNode,Nt=!1),Kn(n,a,l),wr(l.stateNode),Xe=u,Nt=g;break;case 5:ct||An(l,a);case 6:if(u=Xe,g=Nt,Xe=null,Kn(n,a,l),Xe=u,Nt=g,Xe!==null)if(Nt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(l.stateNode)}catch(p){Ue(l,a,p)}else try{Xe.removeChild(l.stateNode)}catch(p){Ue(l,a,p)}break;case 18:Xe!==null&&(Nt?(n=Xe,ry(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),ga(n)):ry(Xe,l.stateNode));break;case 4:u=Xe,g=Nt,Xe=l.stateNode.containerInfo,Nt=!0,Kn(n,a,l),Xe=u,Nt=g;break;case 0:case 11:case 14:case 15:Ti(2,l,a),ct||Ti(4,l,a),Kn(n,a,l);break;case 1:ct||(An(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&om(l,a,u)),Kn(n,a,l);break;case 21:Kn(n,a,l);break;case 22:ct=(u=ct)||l.memoizedState!==null,Kn(n,a,l),ct=u;break;default:Kn(n,a,l)}}function pm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ga(n)}catch(l){Ue(a,a.return,l)}}}function mm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ga(n)}catch(l){Ue(a,a.return,l)}}function MS(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new hm),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new hm),a;default:throw Error(s(435,n.tag))}}function rl(n,a){var l=MS(n);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=HS.bind(null,n,u);u.then(g,g)}})}function Pt(n,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=n,_=a,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(ki(T.type)){Xe=T.stateNode,Nt=!1;break e}break;case 5:Xe=T.stateNode,Nt=!1;break e;case 3:case 4:Xe=T.stateNode.containerInfo,Nt=!0;break e}T=T.return}if(Xe===null)throw Error(s(160));gm(p,_,g),Xe=null,Nt=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)ym(a,n),a=a.sibling}var vn=null;function ym(n,a){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Pt(a,n),Lt(n),u&4&&(Ti(3,n,n.return),fr(3,n),Ti(5,n,n.return));break;case 1:Pt(a,n),Lt(n),u&512&&(ct||l===null||An(l,l.return)),u&64&&Wn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=vn;if(Pt(a,n),Lt(n),u&512&&(ct||l===null||An(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Fa]||p[bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),St(p,u,l),p[bt]=n,mt(p),u=p;break e;case"link":var _=yy("link","href",g).get(u+(l.href||""));if(_){for(var T=0;T<_.length;T++)if(p=_[T],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(T,1);break t}}p=g.createElement(u),St(p,u,l),g.head.appendChild(p);break;case"meta":if(_=yy("meta","content",g).get(u+(l.content||""))){for(T=0;T<_.length;T++)if(p=_[T],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(T,1);break t}}p=g.createElement(u),St(p,u,l),g.head.appendChild(p);break;default:throw Error(s(468,u))}p[bt]=n,mt(p),u=p}n.stateNode=u}else by(g,n.type,n.stateNode);else n.stateNode=my(g,u,n.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?by(g,n.type,n.stateNode):my(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&dh(n,n.memoizedProps,l.memoizedProps)}break;case 27:Pt(a,n),Lt(n),u&512&&(ct||l===null||An(l,l.return)),l!==null&&u&4&&dh(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Pt(a,n),Lt(n),u&512&&(ct||l===null||An(l,l.return)),n.flags&32){g=n.stateNode;try{zs(g,"")}catch(le){Ue(n,n.return,le)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,dh(n,g,l!==null?l.memoizedProps:g)),u&1024&&(ph=!0);break;case 6:if(Pt(a,n),Lt(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(le){Ue(n,n.return,le)}}break;case 3:if(Sl=null,g=vn,vn=_l(a.containerInfo),Pt(a,n),vn=g,Lt(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ga(a.containerInfo)}catch(le){Ue(n,n.return,le)}ph&&(ph=!1,bm(n));break;case 4:u=vn,vn=_l(n.stateNode.containerInfo),Pt(a,n),Lt(n),vn=u;break;case 12:Pt(a,n),Lt(n);break;case 31:Pt(a,n),Lt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,rl(n,u)));break;case 13:Pt(a,n),Lt(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ll=$t()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,rl(n,u)));break;case 22:g=n.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,H=Wn,K=ct;if(Wn=H||g,ct=K||R,Pt(a,n),ct=K,Wn=H,Lt(n),u&8192)e:for(a=n.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||R||Wn||ct||us(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){R=l=a;try{if(p=R.stateNode,g)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=R.stateNode;var J=R.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(le){Ue(R,R.return,le)}}}else if(a.tag===6){if(l===null){R=a;try{R.stateNode.nodeValue=g?"":R.memoizedProps}catch(le){Ue(R,R.return,le)}}}else if(a.tag===18){if(l===null){R=a;try{var V=R.stateNode;g?oy(V,!0):oy(R.stateNode,!1)}catch(le){Ue(R,R.return,le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,rl(n,l))));break;case 19:Pt(a,n),Lt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,rl(n,u)));break;case 30:break;case 21:break;default:Pt(a,n),Lt(n)}}function Lt(n){var a=n.flags;if(a&2){try{for(var l,u=n.return;u!==null;){if(cm(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,p=fh(n);al(n,p,g);break;case 5:var _=l.stateNode;l.flags&32&&(zs(_,""),l.flags&=-33);var T=fh(n);al(n,T,_);break;case 3:case 4:var R=l.stateNode.containerInfo,H=fh(n);gh(n,H,R);break;default:throw Error(s(161))}}catch(K){Ue(n,n.return,K)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function bm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;bm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Xn(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)dm(n,a.alternate,a),a=a.sibling}function us(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Ti(4,a,a.return),us(a);break;case 1:An(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&om(a,a.return,l),us(a);break;case 27:wr(a.stateNode);case 26:case 5:An(a,a.return),us(a);break;case 22:a.memoizedState===null&&us(a);break;case 30:us(a);break;default:us(a)}n=n.sibling}}function Qn(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=n,p=a,_=p.flags;switch(p.tag){case 0:case 11:case 15:Qn(g,p,l),fr(4,p);break;case 1:if(Qn(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){Ue(u,u.return,H)}if(u=p,g=u.updateQueue,g!==null){var T=u.stateNode;try{var R=g.shared.hiddenCallbacks;if(R!==null)for(g.shared.hiddenCallbacks=null,g=0;g<R.length;g++)Kg(R[g],T)}catch(H){Ue(u,u.return,H)}}l&&_&64&&rm(p),gr(p,p.return);break;case 27:um(p);case 26:case 5:Qn(g,p,l),l&&u===null&&_&4&&lm(p),gr(p,p.return);break;case 12:Qn(g,p,l);break;case 31:Qn(g,p,l),l&&_&4&&pm(g,p);break;case 13:Qn(g,p,l),l&&_&4&&mm(g,p);break;case 22:p.memoizedState===null&&Qn(g,p,l),gr(p,p.return);break;case 30:break;default:Qn(g,p,l)}a=a.sibling}}function mh(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&er(l))}function yh(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&er(n))}function _n(n,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)vm(n,a,l,u),a=a.sibling}function vm(n,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:_n(n,a,l,u),g&2048&&fr(9,a);break;case 1:_n(n,a,l,u);break;case 3:_n(n,a,l,u),g&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&er(n)));break;case 12:if(g&2048){_n(n,a,l,u),n=a.stateNode;try{var p=a.memoizedProps,_=p.id,T=p.onPostCommit;typeof T=="function"&&T(_,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Ue(a,a.return,R)}}else _n(n,a,l,u);break;case 31:_n(n,a,l,u);break;case 13:_n(n,a,l,u);break;case 23:break;case 22:p=a.stateNode,_=a.alternate,a.memoizedState!==null?p._visibility&2?_n(n,a,l,u):pr(n,a):p._visibility&2?_n(n,a,l,u):(p._visibility|=2,ia(n,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&mh(_,a);break;case 24:_n(n,a,l,u),g&2048&&yh(a.alternate,a);break;default:_n(n,a,l,u)}}function ia(n,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=n,_=a,T=l,R=u,H=_.flags;switch(_.tag){case 0:case 11:case 15:ia(p,_,T,R,g),fr(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?ia(p,_,T,R,g):pr(p,_):(K._visibility|=2,ia(p,_,T,R,g)),g&&H&2048&&mh(_.alternate,_);break;case 24:ia(p,_,T,R,g),g&&H&2048&&yh(_.alternate,_);break;default:ia(p,_,T,R,g)}a=a.sibling}}function pr(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,u=a,g=u.flags;switch(u.tag){case 22:pr(l,u),g&2048&&mh(u.alternate,u);break;case 24:pr(l,u),g&2048&&yh(u.alternate,u);break;default:pr(l,u)}a=a.sibling}}var mr=8192;function sa(n,a,l){if(n.subtreeFlags&mr)for(n=n.child;n!==null;)_m(n,a,l),n=n.sibling}function _m(n,a,l){switch(n.tag){case 26:sa(n,a,l),n.flags&mr&&n.memoizedState!==null&&yw(l,vn,n.memoizedState,n.memoizedProps);break;case 5:sa(n,a,l);break;case 3:case 4:var u=vn;vn=_l(n.stateNode.containerInfo),sa(n,a,l),vn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=mr,mr=16777216,sa(n,a,l),mr=u):sa(n,a,l));break;default:sa(n,a,l)}}function xm(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function yr(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];yt=u,wm(u,n)}xm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sm(n),n=n.sibling}function Sm(n){switch(n.tag){case 0:case 11:case 15:yr(n),n.flags&2048&&Ti(9,n,n.return);break;case 3:yr(n);break;case 12:yr(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,ol(n)):yr(n);break;default:yr(n)}}function ol(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];yt=u,wm(u,n)}xm(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Ti(8,a,a.return),ol(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ol(a));break;default:ol(a)}n=n.sibling}}function wm(n,a){for(;yt!==null;){var l=yt;switch(l.tag){case 0:case 11:case 15:Ti(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:er(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,yt=u;else e:for(l=n;yt!==null;){u=yt;var g=u.sibling,p=u.return;if(fm(u),u===l){yt=null;break e}if(g!==null){g.return=p,yt=g;break e}yt=p}}}var kS={getCacheForType:function(n){var a=_t(rt),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l},cacheSignal:function(){return _t(rt).controller.signal}},DS=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ge=null,Ce=null,Ae=0,Be=0,Qt=null,Ci=!1,aa=!1,bh=!1,Jn=0,tt=0,ji=0,hs=0,vh=0,Jt=0,ra=0,br=null,zt=null,_h=!1,ll=0,Em=0,cl=1/0,ul=null,Ai=null,ft=0,Oi=null,oa=null,Zn=0,xh=0,Sh=null,Tm=null,vr=0,wh=null;function Zt(){return(Le&2)!==0&&Ae!==0?Ae&-Ae:B.T!==null?Oh():Ff()}function Cm(){if(Jt===0)if((Ae&536870912)===0||Re){var n=bo;bo<<=1,(bo&3932160)===0&&(bo=262144),Jt=n}else Jt=536870912;return n=Kt.current,n!==null&&(n.flags|=32),Jt}function Bt(n,a,l){(n===Ge&&(Be===2||Be===9)||n.cancelPendingCommit!==null)&&(la(n,0),Ri(n,Ae,Jt,!1)),Ha(n,l),((Le&2)===0||n!==Ge)&&(n===Ge&&((Le&2)===0&&(hs|=l),tt===4&&Ri(n,Ae,Jt,!1)),On(n))}function jm(n,a,l){if((Le&6)!==0)throw Error(s(327));var u=!l&&(a&127)===0&&(a&n.expiredLanes)===0||Ua(n,a),g=u?LS(n,a):Th(n,a,!0),p=u;do{if(g===0){aa&&!u&&Ri(n,a,0,!1);break}else{if(l=n.current.alternate,p&&!NS(l)){g=Th(n,a,!1),p=!1;continue}if(g===2){if(p=a,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var T=n;g=br;var R=T.current.memoizedState.isDehydrated;if(R&&(la(T,_).flags|=256),_=Th(T,_,!1),_!==2){if(bh&&!R){T.errorRecoveryDisabledLanes|=p,hs|=p,g=4;break e}p=zt,zt=g,p!==null&&(zt===null?zt=p:zt.push.apply(zt,p))}g=_}if(p=!1,g!==2)continue}}if(g===1){la(n,0),Ri(n,a,0,!0);break}e:{switch(u=n,p=g,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Ri(u,a,Jt,!Ci);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(g=ll+300-$t(),10<g)){if(Ri(u,a,Jt,!Ci),_o(u,0,!0)!==0)break e;Zn=a,u.timeoutHandle=sy(Am.bind(null,u,l,zt,ul,_h,a,Jt,hs,ra,Ci,p,"Throttled",-0,0),g);break e}Am(u,l,zt,ul,_h,a,Jt,hs,ra,Ci,p,null,-0,0)}}break}while(!0);On(n)}function Am(n,a,l,u,g,p,_,T,R,H,K,J,q,V){if(n.timeoutHandle=-1,J=a.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},_m(a,p,J);var le=(p&62914560)===p?ll-$t():(p&4194048)===p?Em-$t():0;if(le=bw(J,le),le!==null){Zn=p,n.cancelPendingCommit=le(Lm.bind(null,n,a,p,l,u,g,_,T,R,K,J,null,q,V)),Ri(n,p,_,!H);return}}Lm(n,a,p,l,u,g,_,T,R)}function NS(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Yt(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ri(n,a,l,u){a&=~vh,a&=~hs,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var g=a;0<g;){var p=31-Vt(g),_=1<<p;u[p]=-1,g&=~_}l!==0&&Bf(n,l,a)}function hl(){return(Le&6)===0?(_r(0),!1):!0}function Eh(){if(Ce!==null){if(Be===0)var n=Ce.return;else n=Ce,In=ns=null,Hu(n),Js=null,nr=0,n=Ce;for(;n!==null;)am(n.alternate,n),n=n.return;Ce=null}}function la(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,ew(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Zn=0,Eh(),Ge=n,Ce=l=Hn(n.current,null),Ae=a,Be=0,Qt=null,Ci=!1,aa=Ua(n,a),bh=!1,ra=Jt=vh=hs=ji=tt=0,zt=br=null,_h=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var g=31-Vt(u),p=1<<g;a|=n[g],u&=~p}return Jn=a,ko(),l}function Om(n,a){Se=null,B.H=ur,a===Qs||a===Ho?(a=Gg(),Be=3):a===Au?(a=Gg(),Be=4):Be=a===nh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qt=a,Ce===null&&(tt=1,el(n,on(a,n.current)))}function Rm(){var n=Kt.current;return n===null?!0:(Ae&4194048)===Ae?hn===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?n===hn:!1}function Mm(){var n=B.H;return B.H=ur,n===null?ur:n}function km(){var n=B.A;return B.A=kS,n}function dl(){tt=4,Ci||(Ae&4194048)!==Ae&&Kt.current!==null||(aa=!0),(ji&134217727)===0&&(hs&134217727)===0||Ge===null||Ri(Ge,Ae,Jt,!1)}function Th(n,a,l){var u=Le;Le|=2;var g=Mm(),p=km();(Ge!==n||Ae!==a)&&(ul=null,la(n,a)),a=!1;var _=tt;e:do try{if(Be!==0&&Ce!==null){var T=Ce,R=Qt;switch(Be){case 8:Eh(),_=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(a=!0);var H=Be;if(Be=0,Qt=null,ca(n,T,R,H),l&&aa){_=0;break e}break;default:H=Be,Be=0,Qt=null,ca(n,T,R,H)}}PS(),_=tt;break}catch(K){Om(n,K)}while(!0);return a&&n.shellSuspendCounter++,In=ns=null,Le=u,B.H=g,B.A=p,Ce===null&&(Ge=null,Ae=0,ko()),_}function PS(){for(;Ce!==null;)Dm(Ce)}function LS(n,a){var l=Le;Le|=2;var u=Mm(),g=km();Ge!==n||Ae!==a?(ul=null,cl=$t()+500,la(n,a)):aa=Ua(n,a);e:do try{if(Be!==0&&Ce!==null){a=Ce;var p=Qt;t:switch(Be){case 1:Be=0,Qt=null,ca(n,a,p,1);break;case 2:case 9:if(qg(p)){Be=0,Qt=null,Nm(a);break}a=function(){Be!==2&&Be!==9||Ge!==n||(Be=7),On(n)},p.then(a,a);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:qg(p)?(Be=0,Qt=null,Nm(a)):(Be=0,Qt=null,ca(n,a,p,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var T=Ce;if(_?vy(_):T.stateNode.complete){Be=0,Qt=null;var R=T.sibling;if(R!==null)Ce=R;else{var H=T.return;H!==null?(Ce=H,fl(H)):Ce=null}break t}}Be=0,Qt=null,ca(n,a,p,5);break;case 6:Be=0,Qt=null,ca(n,a,p,6);break;case 8:Eh(),tt=6;break e;default:throw Error(s(462))}}zS();break}catch(K){Om(n,K)}while(!0);return In=ns=null,B.H=u,B.A=g,Le=l,Ce!==null?0:(Ge=null,Ae=0,ko(),tt)}function zS(){for(;Ce!==null&&!za();)Dm(Ce)}function Dm(n){var a=im(n.alternate,n,Jn);n.memoizedProps=n.pendingProps,a===null?fl(n):Ce=a}function Nm(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=Qp(l,a,a.pendingProps,a.type,void 0,Ae);break;case 11:a=Qp(l,a,a.pendingProps,a.type.render,a.ref,Ae);break;case 5:Hu(a);default:am(l,a),a=Ce=kg(a,Jn),a=im(l,a,Jn)}n.memoizedProps=n.pendingProps,a===null?fl(n):Ce=a}function ca(n,a,l,u){In=ns=null,Hu(a),Js=null,nr=0;var g=a.return;try{if(TS(n,g,a,l,Ae)){tt=1,el(n,on(l,n.current)),Ce=null;return}}catch(p){if(g!==null)throw Ce=g,p;tt=1,el(n,on(l,n.current)),Ce=null;return}a.flags&32768?(Re||u===1?n=!0:aa||(Ae&536870912)!==0?n=!1:(Ci=n=!0,(u===2||u===9||u===3||u===6)&&(u=Kt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Pm(a,n)):fl(a)}function fl(n){var a=n;do{if((a.flags&32768)!==0){Pm(a,Ci);return}n=a.return;var l=AS(a.alternate,a,Jn);if(l!==null){Ce=l;return}if(a=a.sibling,a!==null){Ce=a;return}Ce=a=n}while(a!==null);tt===0&&(tt=5)}function Pm(n,a){do{var l=OS(n.alternate,n);if(l!==null){l.flags&=32767,Ce=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){Ce=n;return}Ce=n=l}while(n!==null);tt=6,Ce=null}function Lm(n,a,l,u,g,p,_,T,R){n.cancelPendingCommit=null;do gl();while(ft!==0);if((Le&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=fu,mx(n,l,p,_,T,R),n===Ge&&(Ce=Ge=null,Ae=0),oa=a,Oi=n,Zn=l,xh=p,Sh=g,Tm=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,FS(mo,function(){return Fm(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,g=L.p,L.p=2,_=Le,Le|=4;try{RS(n,a,l)}finally{Le=_,L.p=g,B.T=u}}ft=1,zm(),Bm(),Um()}}function zm(){if(ft===1){ft=0;var n=Oi,a=oa,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var u=L.p;L.p=2;var g=Le;Le|=4;try{ym(a,n);var p=zh,_=wg(n.containerInfo),T=p.focusedElem,R=p.selectionRange;if(_!==T&&T&&T.ownerDocument&&Sg(T.ownerDocument.documentElement,T)){if(R!==null&&lu(T)){var H=R.start,K=R.end;if(K===void 0&&(K=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(K,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var V=q.getSelection(),le=T.textContent.length,ye=Math.min(R.start,le),$e=R.end===void 0?ye:Math.min(R.end,le);!V.extend&&ye>$e&&(_=$e,$e=ye,ye=_);var N=xg(T,ye),M=xg(T,$e);if(N&&M&&(V.rangeCount!==1||V.anchorNode!==N.node||V.anchorOffset!==N.offset||V.focusNode!==M.node||V.focusOffset!==M.offset)){var U=J.createRange();U.setStart(N.node,N.offset),V.removeAllRanges(),ye>$e?(V.addRange(U),V.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),V.addRange(U))}}}}for(J=[],V=T;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Q=J[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Cl=!!Lh,zh=Lh=null}finally{Le=g,L.p=u,B.T=l}}n.current=a,ft=2}}function Bm(){if(ft===2){ft=0;var n=Oi,a=oa,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var u=L.p;L.p=2;var g=Le;Le|=4;try{dm(n,a.alternate,a)}finally{Le=g,L.p=u,B.T=l}}ft=3}}function Um(){if(ft===4||ft===3){ft=0,ox();var n=Oi,a=oa,l=Zn,u=Tm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ft=5:(ft=0,oa=Oi=null,Hm(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ai=null),qc(l),a=a.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Ba,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=B.T,g=L.p,L.p=2,B.T=null;try{for(var p=n.onRecoverableError,_=0;_<u.length;_++){var T=u[_];p(T.value,{componentStack:T.stack})}}finally{B.T=a,L.p=g}}(Zn&3)!==0&&gl(),On(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===wh?vr++:(vr=0,wh=n):vr=0,_r(0)}}function Hm(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,er(a)))}function gl(){return zm(),Bm(),Um(),Fm()}function Fm(){if(ft!==5)return!1;var n=Oi,a=xh;xh=0;var l=qc(Zn),u=B.T,g=L.p;try{L.p=32>l?32:l,B.T=null,l=Sh,Sh=null;var p=Oi,_=Zn;if(ft=0,oa=Oi=null,Zn=0,(Le&6)!==0)throw Error(s(331));var T=Le;if(Le|=4,Sm(p.current),vm(p,p.current,_,l),Le=T,_r(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Ba,p)}catch{}return!0}finally{L.p=g,B.T=u,Hm(n,a)}}function Im(n,a,l){a=on(l,a),a=th(n.stateNode,a,2),n=Si(n,a,2),n!==null&&(Ha(n,2),On(n))}function Ue(n,a,l){if(n.tag===3)Im(n,n,l);else for(;a!==null;){if(a.tag===3){Im(a,n,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ai===null||!Ai.has(u))){n=on(l,n),l=qp(2),u=Si(a,l,2),u!==null&&($p(l,u,a,n),Ha(u,2),On(u));break}}a=a.return}}function Ch(n,a,l){var u=n.pingCache;if(u===null){u=n.pingCache=new DS;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(bh=!0,g.add(l),n=BS.bind(null,n,a,l),a.then(n,n))}function BS(n,a,l){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Ge===n&&(Ae&l)===l&&(tt===4||tt===3&&(Ae&62914560)===Ae&&300>$t()-ll?(Le&2)===0&&la(n,0):vh|=l,ra===Ae&&(ra=0)),On(n)}function qm(n,a){a===0&&(a=zf()),n=Zi(n,a),n!==null&&(Ha(n,a),On(n))}function US(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),qm(n,l)}function HS(n,a){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),qm(n,l)}function FS(n,a){return nn(n,a)}var pl=null,ua=null,jh=!1,ml=!1,Ah=!1,Mi=0;function On(n){n!==ua&&n.next===null&&(ua===null?pl=ua=n:ua=ua.next=n),ml=!0,jh||(jh=!0,qS())}function _r(n,a){if(!Ah&&ml){Ah=!0;do for(var l=!1,u=pl;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var _=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-Vt(42|n)+1)-1,p&=g&~(_&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Ym(u,p))}else p=Ae,p=_o(u,u===Ge?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Ua(u,p)||(l=!0,Ym(u,p));u=u.next}while(l);Ah=!1}}function IS(){$m()}function $m(){ml=jh=!1;var n=0;Mi!==0&&ZS()&&(n=Mi);for(var a=$t(),l=null,u=pl;u!==null;){var g=u.next,p=Gm(u,a);p===0?(u.next=null,l===null?pl=g:l.next=g,g===null&&(ua=l)):(l=u,(n!==0||(p&3)!==0)&&(ml=!0)),u=g}ft!==0&&ft!==5||_r(n),Mi!==0&&(Mi=0)}function Gm(n,a){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-Vt(p),T=1<<_,R=g[_];R===-1?((T&l)===0||(T&u)!==0)&&(g[_]=px(T,a)):R<=a&&(n.expiredLanes|=T),p&=~T}if(a=Ge,l=Ae,l=_o(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===a&&(Be===2||Be===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ln(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ua(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(u!==null&&Ln(u),qc(l)){case 2:case 8:l=Pf;break;case 32:l=mo;break;case 268435456:l=Lf;break;default:l=mo}return u=Vm.bind(null,n),l=nn(l,u),n.callbackPriority=a,n.callbackNode=l,a}return u!==null&&u!==null&&Ln(u),n.callbackPriority=2,n.callbackNode=null,2}function Vm(n,a){if(ft!==0&&ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(gl()&&n.callbackNode!==l)return null;var u=Ae;return u=_o(n,n===Ge?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(jm(n,u,a),Gm(n,$t()),n.callbackNode!=null&&n.callbackNode===l?Vm.bind(null,n):null)}function Ym(n,a){if(gl())return null;jm(n,a,!0)}function qS(){tw(function(){(Le&6)!==0?nn(Nf,IS):$m()})}function Oh(){if(Mi===0){var n=Ks;n===0&&(n=yo,yo<<=1,(yo&261888)===0&&(yo=256)),Mi=n}return Mi}function Wm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Eo(""+n)}function Km(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function $S(n,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=Wm((g[kt]||null).action),_=u.submitter;_&&(a=(a=_[kt]||null)?Wm(a.formAction):_.getAttribute("formAction"),a!==null&&(p=a,_=null));var T=new Ao("action","action",null,u,g);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Mi!==0){var R=_?Km(g,_):new FormData(g);Ku(l,{pending:!0,data:R,method:g.method,action:p},null,R)}}else typeof p=="function"&&(T.preventDefault(),R=_?Km(g,_):new FormData(g),Ku(l,{pending:!0,data:R,method:g.method,action:p},p,R))},currentTarget:g}]})}}for(var Rh=0;Rh<du.length;Rh++){var Mh=du[Rh],GS=Mh.toLowerCase(),VS=Mh[0].toUpperCase()+Mh.slice(1);bn(GS,"on"+VS)}bn(Cg,"onAnimationEnd"),bn(jg,"onAnimationIteration"),bn(Ag,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(lS,"onTransitionRun"),bn(cS,"onTransitionStart"),bn(uS,"onTransitionCancel"),bn(Og,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xr));function Xm(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var _=u.length-1;0<=_;_--){var T=u[_],R=T.instance,H=T.currentTarget;if(T=T.listener,R!==p&&g.isPropagationStopped())break e;p=T,g.currentTarget=H;try{p(g)}catch(K){Mo(K)}g.currentTarget=null,p=R}else for(_=0;_<u.length;_++){if(T=u[_],R=T.instance,H=T.currentTarget,T=T.listener,R!==p&&g.isPropagationStopped())break e;p=T,g.currentTarget=H;try{p(g)}catch(K){Mo(K)}g.currentTarget=null,p=R}}}}function je(n,a){var l=a[$c];l===void 0&&(l=a[$c]=new Set);var u=n+"__bubble";l.has(u)||(Qm(a,n,2,!1),l.add(u))}function kh(n,a,l){var u=0;a&&(u|=4),Qm(l,n,u,a)}var yl="_reactListening"+Math.random().toString(36).slice(2);function Dh(n){if(!n[yl]){n[yl]=!0,$f.forEach(function(l){l!=="selectionchange"&&(YS.has(l)||kh(l,!1,n),kh(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[yl]||(a[yl]=!0,kh("selectionchange",!1,a))}}function Qm(n,a,l,u){switch(Cy(a)){case 2:var g=xw;break;case 8:g=Sw;break;default:g=Wh}l=g.bind(null,a,l,n),g=void 0,!Zc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(a,l,{capture:!0,passive:g}):n.addEventListener(a,l,!0):g!==void 0?n.addEventListener(a,l,{passive:g}):n.addEventListener(a,l,!1)}function Nh(n,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===g)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;T!==null;){if(_=ks(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){u=p=_;continue e}T=T.parentNode}}u=u.return}ng(function(){var H=p,K=Qc(l),J=[];e:{var q=Rg.get(n);if(q!==void 0){var V=Ao,le=n;switch(n){case"keypress":if(Co(l)===0)break e;case"keydown":case"keyup":V=Hx;break;case"focusin":le="focus",V=iu;break;case"focusout":le="blur",V=iu;break;case"beforeblur":case"afterblur":V=iu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=qx;break;case Cg:case jg:case Ag:V=Mx;break;case Og:V=Gx;break;case"scroll":case"scrollend":V=Cx;break;case"wheel":V=Yx;break;case"copy":case"cut":case"paste":V=Dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=og;break;case"toggle":case"beforetoggle":V=Kx}var ye=(a&4)!==0,$e=!ye&&(n==="scroll"||n==="scrollend"),N=ye?q!==null?q+"Capture":null:q;ye=[];for(var M=H,U;M!==null;){var Q=M;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||N===null||(Q=qa(M,N),Q!=null&&ye.push(Sr(M,Q,U))),$e)break;M=M.return}0<ye.length&&(q=new V(q,le,null,l,K),J.push({event:q,listeners:ye}))}}if((a&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",V=n==="mouseout"||n==="pointerout",q&&l!==Xc&&(le=l.relatedTarget||l.fromElement)&&(ks(le)||le[Ms]))break e;if((V||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,V?(le=l.relatedTarget||l.toElement,V=H,le=le?ks(le):null,le!==null&&($e=o(le),ye=le.tag,le!==$e||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(V=null,le=H),V!==le)){if(ye=ag,Q="onMouseLeave",N="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ye=og,Q="onPointerLeave",N="onPointerEnter",M="pointer"),$e=V==null?q:Ia(V),U=le==null?q:Ia(le),q=new ye(Q,M+"leave",V,l,K),q.target=$e,q.relatedTarget=U,Q=null,ks(K)===H&&(ye=new ye(N,M+"enter",le,l,K),ye.target=U,ye.relatedTarget=$e,Q=ye),$e=Q,V&&le)t:{for(ye=WS,N=V,M=le,U=0,Q=N;Q;Q=ye(Q))U++;Q=0;for(var fe=M;fe;fe=ye(fe))Q++;for(;0<U-Q;)N=ye(N),U--;for(;0<Q-U;)M=ye(M),Q--;for(;U--;){if(N===M||M!==null&&N===M.alternate){ye=N;break t}N=ye(N),M=ye(M)}ye=null}else ye=null;V!==null&&Jm(J,q,V,ye,!1),le!==null&&$e!==null&&Jm(J,$e,le,ye,!0)}}e:{if(q=H?Ia(H):window,V=q.nodeName&&q.nodeName.toLowerCase(),V==="select"||V==="input"&&q.type==="file")var Ne=pg;else if(fg(q))if(mg)Ne=aS;else{Ne=iS;var ce=nS}else V=q.nodeName,!V||V.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Kc(H.elementType)&&(Ne=pg):Ne=sS;if(Ne&&(Ne=Ne(n,H))){gg(J,Ne,l,K);break e}ce&&ce(n,q,H),n==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Wc(q,"number",q.value)}switch(ce=H?Ia(H):window,n){case"focusin":(fg(ce)||ce.contentEditable==="true")&&(Fs=ce,cu=H,Qa=null);break;case"focusout":Qa=cu=Fs=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,Eg(J,l,K);break;case"selectionchange":if(oS)break;case"keydown":case"keyup":Eg(J,l,K)}var we;if(au)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Hs?hg(n,l)&&(Oe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(lg&&l.locale!=="ko"&&(Hs||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Hs&&(we=ig()):(pi=K,eu="value"in pi?pi.value:pi.textContent,Hs=!0)),ce=bl(H,Oe),0<ce.length&&(Oe=new rg(Oe,n,null,l,K),J.push({event:Oe,listeners:ce}),we?Oe.data=we:(we=dg(l),we!==null&&(Oe.data=we)))),(we=Qx?Jx(n,l):Zx(n,l))&&(Oe=bl(H,"onBeforeInput"),0<Oe.length&&(ce=new rg("onBeforeInput","beforeinput",null,l,K),J.push({event:ce,listeners:Oe}),ce.data=we)),$S(J,n,H,l,K)}Xm(J,a)})}function Sr(n,a,l){return{instance:n,listener:a,currentTarget:l}}function bl(n,a){for(var l=a+"Capture",u=[];n!==null;){var g=n,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=qa(n,l),g!=null&&u.unshift(Sr(n,g,p)),g=qa(n,a),g!=null&&u.push(Sr(n,g,p))),n.tag===3)return u;n=n.return}return[]}function WS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Jm(n,a,l,u,g){for(var p=a._reactName,_=[];l!==null&&l!==u;){var T=l,R=T.alternate,H=T.stateNode;if(T=T.tag,R!==null&&R===u)break;T!==5&&T!==26&&T!==27||H===null||(R=H,g?(H=qa(l,p),H!=null&&_.unshift(Sr(l,H,R))):g||(H=qa(l,p),H!=null&&_.push(Sr(l,H,R)))),l=l.return}_.length!==0&&n.push({event:a,listeners:_})}var KS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function Zm(n){return(typeof n=="string"?n:""+n).replace(KS,`
`).replace(XS,"")}function ey(n,a){return a=Zm(a),Zm(n)===a}function qe(n,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||zs(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&zs(n,""+u);break;case"className":So(n,"class",u);break;case"tabIndex":So(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":So(n,l,u);break;case"style":eg(n,u,p);break;case"data":if(a!=="object"){So(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Eo(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&qe(n,a,"name",g.name,g,null),qe(n,a,"formEncType",g.formEncType,g,null),qe(n,a,"formMethod",g.formMethod,g,null),qe(n,a,"formTarget",g.formTarget,g,null)):(qe(n,a,"encType",g.encType,g,null),qe(n,a,"method",g.method,g,null),qe(n,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Eo(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Bn);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Eo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":je("beforetoggle",n),je("toggle",n),xo(n,"popover",u);break;case"xlinkActuate":zn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ex.get(l)||l,xo(n,l,u))}}function Ph(n,a,l,u,g,p){switch(l){case"style":eg(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"children":typeof u=="string"?zs(n,u):(typeof u=="number"||typeof u=="bigint")&&zs(n,""+u);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gf.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=n[kt]||null,p=p!=null?p[l]:null,typeof p=="function"&&n.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):xo(n,l,u)}}}function St(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var _=l[p];if(_!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:qe(n,a,p,_,l,null)}}g&&qe(n,a,"srcSet",l.srcSet,l,null),u&&qe(n,a,"src",l.src,l,null);return;case"input":je("invalid",n);var T=p=_=g=null,R=null,H=null;for(u in l)if(l.hasOwnProperty(u)){var K=l[u];if(K!=null)switch(u){case"name":g=K;break;case"type":_=K;break;case"checked":R=K;break;case"defaultChecked":H=K;break;case"value":p=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,a));break;default:qe(n,a,u,K,l,null)}}Xf(n,p,T,R,H,_,g,!1);return;case"select":je("invalid",n),u=_=p=null;for(g in l)if(l.hasOwnProperty(g)&&(T=l[g],T!=null))switch(g){case"value":p=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:qe(n,a,g,T,l,null)}a=p,l=_,n.multiple=!!u,a!=null?Ls(n,!!u,a,!1):l!=null&&Ls(n,!!u,l,!0);return;case"textarea":je("invalid",n),p=g=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(T=l[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":g=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:qe(n,a,_,T,l,null)}Jf(n,u,g,p);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(u=l[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:qe(n,a,R,u,l,null)}return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(u=0;u<xr.length;u++)je(xr[u],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in l)if(l.hasOwnProperty(H)&&(u=l[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:qe(n,a,H,u,l,null)}return;default:if(Kc(a)){for(K in l)l.hasOwnProperty(K)&&(u=l[K],u!==void 0&&Ph(n,a,K,u,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null&&qe(n,a,T,u,l,null))}function QS(n,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,_=null,T=null,R=null,H=null,K=null;for(V in l){var J=l[V];if(l.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":R=J;default:u.hasOwnProperty(V)||qe(n,a,V,null,u,J)}}for(var q in u){var V=u[q];if(J=l[q],u.hasOwnProperty(q)&&(V!=null||J!=null))switch(q){case"type":p=V;break;case"name":g=V;break;case"checked":H=V;break;case"defaultChecked":K=V;break;case"value":_=V;break;case"defaultValue":T=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,a));break;default:V!==J&&qe(n,a,q,V,u,J)}}Yc(n,_,T,R,H,K,p,g);return;case"select":V=_=T=q=null;for(p in l)if(R=l[p],l.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":V=R;default:u.hasOwnProperty(p)||qe(n,a,p,null,u,R)}for(g in u)if(p=u[g],R=l[g],u.hasOwnProperty(g)&&(p!=null||R!=null))switch(g){case"value":q=p;break;case"defaultValue":T=p;break;case"multiple":_=p;default:p!==R&&qe(n,a,g,p,u,R)}a=T,l=_,u=V,q!=null?Ls(n,!!l,q,!1):!!u!=!!l&&(a!=null?Ls(n,!!l,a,!0):Ls(n,!!l,l?[]:"",!1));return;case"textarea":V=q=null;for(T in l)if(g=l[T],l.hasOwnProperty(T)&&g!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:qe(n,a,T,null,u,g)}for(_ in u)if(g=u[_],p=l[_],u.hasOwnProperty(_)&&(g!=null||p!=null))switch(_){case"value":q=g;break;case"defaultValue":V=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==p&&qe(n,a,_,g,u,p)}Qf(n,q,V);return;case"option":for(var le in l)if(q=l[le],l.hasOwnProperty(le)&&q!=null&&!u.hasOwnProperty(le))switch(le){case"selected":n.selected=!1;break;default:qe(n,a,le,null,u,q)}for(R in u)if(q=u[R],V=l[R],u.hasOwnProperty(R)&&q!==V&&(q!=null||V!=null))switch(R){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:qe(n,a,R,q,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in l)q=l[ye],l.hasOwnProperty(ye)&&q!=null&&!u.hasOwnProperty(ye)&&qe(n,a,ye,null,u,q);for(H in u)if(q=u[H],V=l[H],u.hasOwnProperty(H)&&q!==V&&(q!=null||V!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,a));break;default:qe(n,a,H,q,u,V)}return;default:if(Kc(a)){for(var $e in l)q=l[$e],l.hasOwnProperty($e)&&q!==void 0&&!u.hasOwnProperty($e)&&Ph(n,a,$e,void 0,u,q);for(K in u)q=u[K],V=l[K],!u.hasOwnProperty(K)||q===V||q===void 0&&V===void 0||Ph(n,a,K,q,u,V);return}}for(var N in l)q=l[N],l.hasOwnProperty(N)&&q!=null&&!u.hasOwnProperty(N)&&qe(n,a,N,null,u,q);for(J in u)q=u[J],V=l[J],!u.hasOwnProperty(J)||q===V||q==null&&V==null||qe(n,a,J,q,u,V)}function ty(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,_=g.initiatorType,T=g.duration;if(p&&T&&ty(_)){for(_=0,T=g.responseEnd,u+=1;u<l.length;u++){var R=l[u],H=R.startTime;if(H>T)break;var K=R.transferSize,J=R.initiatorType;K&&ty(J)&&(R=R.responseEnd,_+=K*(R<T?1:(T-H)/(R-H)))}if(--u,a+=8*(p+_)/(g.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Lh=null,zh=null;function vl(n){return n.nodeType===9?n:n.ownerDocument}function ny(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Bh(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Uh=null;function ZS(){var n=window.event;return n&&n.type==="popstate"?n===Uh?!1:(Uh=n,!0):(Uh=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,ew=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,tw=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(n){return ay.resolve(null).then(n).catch(nw)}:sy;function nw(n){setTimeout(function(){throw n})}function ki(n){return n==="head"}function ry(n,a){var l=a,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),ga(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")wr(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,wr(l);for(var p=l.firstChild;p;){var _=p.nextSibling,T=p.nodeName;p[Fa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=_}}else l==="body"&&wr(n.ownerDocument.body);l=g}while(l);ga(a)}function oy(n,a){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Hh(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hh(l),Gc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function iw(n,a,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Fa])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=dn(n.nextSibling),n===null)break}return null}function sw(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=dn(n.nextSibling),n===null))return null;return n}function ly(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=dn(n.nextSibling),n===null))return null;return n}function Fh(n){return n.data==="$?"||n.data==="$~"}function Ih(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function aw(n,a){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function dn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var qh=null;function cy(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(a===0)return dn(n.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}n=n.nextSibling}return null}function uy(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return n;a--}else l!=="/$"&&l!=="/&"||a++}n=n.previousSibling}return null}function hy(n,a,l){switch(a=vl(l),n){case"html":if(n=a.documentElement,!n)throw Error(s(452));return n;case"head":if(n=a.head,!n)throw Error(s(453));return n;case"body":if(n=a.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function wr(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Gc(n)}var fn=new Map,dy=new Set;function _l(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ei=L.d;L.d={f:rw,r:ow,D:lw,C:cw,L:uw,m:hw,X:fw,S:dw,M:gw};function rw(){var n=ei.f(),a=hl();return n||a}function ow(n){var a=Ds(n);a!==null&&a.tag===5&&a.type==="form"?Op(a):ei.r(n)}var ha=typeof document>"u"?null:document;function fy(n,a,l){var u=ha;if(u&&typeof a=="string"&&a){var g=an(a);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),dy.has(g)||(dy.add(g),n={rel:n,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),St(a,"link",n),mt(a),u.head.appendChild(a)))}}function lw(n){ei.D(n),fy("dns-prefetch",n,null)}function cw(n,a){ei.C(n,a),fy("preconnect",n,a)}function uw(n,a,l){ei.L(n,a,l);var u=ha;if(u&&n&&a){var g='link[rel="preload"][as="'+an(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+an(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+an(l.imageSizes)+'"]')):g+='[href="'+an(n)+'"]';var p=g;switch(a){case"style":p=da(n);break;case"script":p=fa(n)}fn.has(p)||(n=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),fn.set(p,n),u.querySelector(g)!==null||a==="style"&&u.querySelector(Er(p))||a==="script"&&u.querySelector(Tr(p))||(a=u.createElement("link"),St(a,"link",n),mt(a),u.head.appendChild(a)))}}function hw(n,a){ei.m(n,a);var l=ha;if(l&&n){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+an(u)+'"][href="'+an(n)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=fa(n)}if(!fn.has(p)&&(n=b({rel:"modulepreload",href:n},a),fn.set(p,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Tr(p)))return}u=l.createElement("link"),St(u,"link",n),mt(u),l.head.appendChild(u)}}}function dw(n,a,l){ei.S(n,a,l);var u=ha;if(u&&n){var g=Ns(u).hoistableStyles,p=da(n);a=a||"default";var _=g.get(p);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(Er(p)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":a},l),(l=fn.get(p))&&$h(n,l);var R=_=u.createElement("link");mt(R),St(R,"link",n),R._p=new Promise(function(H,K){R.onload=H,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xl(_,a,u)}_={type:"stylesheet",instance:_,count:1,state:T},g.set(p,_)}}}function fw(n,a){ei.X(n,a);var l=ha;if(l&&n){var u=Ns(l).hoistableScripts,g=fa(n),p=u.get(g);p||(p=l.querySelector(Tr(g)),p||(n=b({src:n,async:!0},a),(a=fn.get(g))&&Gh(n,a),p=l.createElement("script"),mt(p),St(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function gw(n,a){ei.M(n,a);var l=ha;if(l&&n){var u=Ns(l).hoistableScripts,g=fa(n),p=u.get(g);p||(p=l.querySelector(Tr(g)),p||(n=b({src:n,async:!0,type:"module"},a),(a=fn.get(g))&&Gh(n,a),p=l.createElement("script"),mt(p),St(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function gy(n,a,l,u){var g=(g=me.current)?_l(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=da(l.href),l=Ns(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=da(l.href);var p=Ns(g).hoistableStyles,_=p.get(n);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=g.querySelector(Er(n)))&&!p._p&&(_.instance=p,_.state.loading=5),fn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fn.set(n,l),p||pw(g,n,l,_.state))),a&&u===null)throw Error(s(528,""));return _}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=fa(l),l=Ns(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function da(n){return'href="'+an(n)+'"'}function Er(n){return'link[rel="stylesheet"]['+n+"]"}function py(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function pw(n,a,l,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),St(a,"link",l),mt(a),n.head.appendChild(a))}function fa(n){return'[src="'+an(n)+'"]'}function Tr(n){return"script[async]"+n}function my(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+an(l.href)+'"]');if(u)return a.instance=u,mt(u),u;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),mt(u),St(u,"style",g),xl(u,l.precedence,n),a.instance=u;case"stylesheet":g=da(l.href);var p=n.querySelector(Er(g));if(p)return a.state.loading|=4,a.instance=p,mt(p),p;u=py(l),(g=fn.get(g))&&$h(u,g),p=(n.ownerDocument||n).createElement("link"),mt(p);var _=p;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),St(p,"link",u),a.state.loading|=4,xl(p,l.precedence,n),a.instance=p;case"script":return p=fa(l.src),(g=n.querySelector(Tr(p)))?(a.instance=g,mt(g),g):(u=l,(g=fn.get(p))&&(u=b({},l),Gh(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),mt(g),St(g,"link",u),n.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,xl(u,l.precedence,n));return a.instance}function xl(n,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===a)p=T;else if(p!==g)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function $h(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Gh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Sl=null;function yy(n,a,l){if(Sl===null){var u=new Map,g=Sl=new Map;g.set(l,u)}else g=Sl,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var p=l[g];if(!(p[Fa]||p[bt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(a)||"";_=n+_;var T=u.get(_);T?T.push(p):u.set(_,[p])}}return u}function by(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function mw(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function vy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function yw(n,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=da(u.href),p=a.querySelector(Er(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=wl.bind(n),a.then(n,n)),l.state.loading|=4,l.instance=p,mt(p);return}p=a.ownerDocument||a,u=py(u),(g=fn.get(g))&&$h(u,g),p=p.createElement("link"),mt(p);var _=p;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),St(p,"link",u),l.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=wl.bind(n),a.addEventListener("load",l),a.addEventListener("error",l))}}var Vh=0;function bw(n,a){return n.stylesheets&&n.count===0&&Tl(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&Tl(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+a);0<n.imgBytes&&Vh===0&&(Vh=62500*JS());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Tl(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Vh?50:800)+a);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var El=null;function Tl(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,El=new Map,a.forEach(vw,n),El=null,wl.call(n))}function vw(n,a){if(!(a.state.loading&4)){var l=El.get(n);if(l)var u=l.get(null);else{l=new Map,El.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var _=g[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}g=a.instance,_=g.getAttribute("data-precedence"),p=l.get(_)||u,p===u&&l.set(null,g),l.set(_,g),this.count++,u=wl.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),a.state.loading|=4}}var Cr={$$typeof:A,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function _w(n,a,l,u,g,p,_,T,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.hiddenUpdates=Fc(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function _y(n,a,l,u,g,p,_,T,R,H,K,J){return n=new _w(n,a,l,_,R,H,K,J,T),a=1,p===!0&&(a|=24),p=Wt(3,null,null,a),n.current=p,p.stateNode=n,a=Tu(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Ou(p),n}function xy(n){return n?(n=$s,n):$s}function Sy(n,a,l,u,g,p){g=xy(g),u.context===null?u.context=g:u.pendingContext=g,u=xi(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Si(n,u,a),l!==null&&(Bt(l,n,a),sr(l,n,a))}function wy(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function Yh(n,a){wy(n,a),(n=n.alternate)&&wy(n,a)}function Ey(n){if(n.tag===13||n.tag===31){var a=Zi(n,67108864);a!==null&&Bt(a,n,67108864),Yh(n,67108864)}}function Ty(n){if(n.tag===13||n.tag===31){var a=Zt();a=Ic(a);var l=Zi(n,a);l!==null&&Bt(l,n,a),Yh(n,a)}}var Cl=!0;function xw(n,a,l,u){var g=B.T;B.T=null;var p=L.p;try{L.p=2,Wh(n,a,l,u)}finally{L.p=p,B.T=g}}function Sw(n,a,l,u){var g=B.T;B.T=null;var p=L.p;try{L.p=8,Wh(n,a,l,u)}finally{L.p=p,B.T=g}}function Wh(n,a,l,u){if(Cl){var g=Kh(u);if(g===null)Nh(n,a,u,jl,l),jy(n,u);else if(Ew(g,n,a,l,u))u.stopPropagation();else if(jy(n,u),a&4&&-1<ww.indexOf(n)){for(;g!==null;){var p=Ds(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=Wi(p.pendingLanes);if(_!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-Vt(_);T.entanglements[1]|=R,_&=~R}On(p),(Le&6)===0&&(cl=$t()+500,_r(0))}}break;case 31:case 13:T=Zi(p,2),T!==null&&Bt(T,p,2),hl(),Yh(p,2)}if(p=Kh(u),p===null&&Nh(n,a,u,jl,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else Nh(n,a,u,null,l)}}function Kh(n){return n=Qc(n),Xh(n)}var jl=null;function Xh(n){if(jl=null,n=ks(n),n!==null){var a=o(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=c(a),n!==null)return n;n=null}else if(l===31){if(n=h(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return jl=n,null}function Cy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lx()){case Nf:return 2;case Pf:return 8;case mo:case cx:return 32;case Lf:return 268435456;default:return 32}default:return 32}}var Qh=!1,Di=null,Ni=null,Pi=null,jr=new Map,Ar=new Map,Li=[],ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jy(n,a){switch(n){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":jr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(a.pointerId)}}function Or(n,a,l,u,g,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Ds(a),a!==null&&Ey(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),n)}function Ew(n,a,l,u,g){switch(a){case"focusin":return Di=Or(Di,n,a,l,u,g),!0;case"dragenter":return Ni=Or(Ni,n,a,l,u,g),!0;case"mouseover":return Pi=Or(Pi,n,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return jr.set(p,Or(jr.get(p)||null,n,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,Ar.set(p,Or(Ar.get(p)||null,n,a,l,u,g)),!0}return!1}function Ay(n){var a=ks(n.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){n.blockedOn=a,If(n.priority,function(){Ty(l)});return}}else if(a===31){if(a=h(l),a!==null){n.blockedOn=a,If(n.priority,function(){Ty(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Al(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Kh(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Xc=u,l.target.dispatchEvent(u),Xc=null}else return a=Ds(l),a!==null&&Ey(a),n.blockedOn=l,!1;a.shift()}return!0}function Oy(n,a,l){Al(n)&&l.delete(a)}function Tw(){Qh=!1,Di!==null&&Al(Di)&&(Di=null),Ni!==null&&Al(Ni)&&(Ni=null),Pi!==null&&Al(Pi)&&(Pi=null),jr.forEach(Oy),Ar.forEach(Oy)}function Ol(n,a){n.blockedOn===a&&(n.blockedOn=null,Qh||(Qh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Tw)))}var Rl=null;function Ry(n){Rl!==n&&(Rl=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Rl===n&&(Rl=null);for(var a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],g=n[a+2];if(typeof u!="function"){if(Xh(u||l)===null)continue;break}var p=Ds(l);p!==null&&(n.splice(a,3),a-=3,Ku(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function ga(n){function a(R){return Ol(R,n)}Di!==null&&Ol(Di,n),Ni!==null&&Ol(Ni,n),Pi!==null&&Ol(Pi,n),jr.forEach(a),Ar.forEach(a);for(var l=0;l<Li.length;l++){var u=Li[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Li.length&&(l=Li[0],l.blockedOn===null);)Ay(l),l.blockedOn===null&&Li.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],_=g[kt]||null;if(typeof p=="function")_||Ry(l);else if(_){var T=null;if(p&&p.hasAttribute("formAction")){if(g=p,_=p[kt]||null)T=_.formAction;else if(Xh(g)!==null)continue}else T=_.action;typeof T=="function"?l[u+1]=T:(l.splice(u,3),u-=3),Ry(l)}}}function My(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return g=_})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Jh(n){this._internalRoot=n}Ml.prototype.render=Jh.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,u=Zt();Sy(l,u,n,a,null,null)},Ml.prototype.unmount=Jh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Sy(n.current,2,null,n,null,null),hl(),a[Ms]=null}};function Ml(n){this._internalRoot=n}Ml.prototype.unstable_scheduleHydration=function(n){if(n){var a=Ff();n={blockedOn:null,target:n,priority:a};for(var l=0;l<Li.length&&a!==0&&a<Li[l].priority;l++);Li.splice(l,0,n),l===0&&Ay(n)}};var ky=e.version;if(ky!=="19.2.0")throw Error(s(527,ky,"19.2.0"));L.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(a),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var Cw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Ba=kl.inject(Cw),Gt=kl}catch{}}return Mr.createRoot=function(n,a){if(!r(n))throw Error(s(299));var l=!1,u="",g=Up,p=Hp,_=Fp;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=_y(n,1,!1,null,null,l,u,null,g,p,_,My),n[Ms]=a.current,Dh(n),new Jh(a)},Mr.hydrateRoot=function(n,a,l){if(!r(n))throw Error(s(299));var u=!1,g="",p=Up,_=Hp,T=Fp,R=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(R=l.formState)),a=_y(n,1,!0,a,l??null,u,g,R,p,_,T,My),a.context=xy(null),l=a.current,u=Zt(),u=Ic(u),g=xi(u),g.callback=null,Si(l,g,u),l=u,a.current.lanes=l,Ha(a,l),On(a),n[Ms]=a.current,Dh(n),new Ml(a)},Mr.version="19.2.0",Mr}var Iy;function Bw(){if(Iy)return td.exports;Iy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),td.exports=zw(),td.exports}var Uw=Bw();const Hw=Zd(Uw);var qy="popstate";function Fw(i={}){function e(s,r){let{pathname:o,search:c,hash:h}=s.location;return jd("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){return typeof r=="string"?r:Qr(r)}return qw(e,t,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Tn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iw(){return Math.random().toString(36).substring(2,10)}function $y(i,e){return{usr:i.state,key:i.key,idx:e}}function jd(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ka(e):e,state:t,key:e&&e.key||s||Iw()}}function Qr({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ka(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function qw(i,e,t,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,c=r.history,h="POP",d=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function b(){h="POP";let w=m(),C=w==null?null:w-f;f=w,d&&d({action:h,location:E.location,delta:C})}function v(w,C){h="PUSH";let j=jd(E.location,w,C);f=m()+1;let A=$y(j,f),D=E.createHref(j);try{c.pushState(A,"",D)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(D)}o&&d&&d({action:h,location:E.location,delta:1})}function x(w,C){h="REPLACE";let j=jd(E.location,w,C);f=m();let A=$y(j,f),D=E.createHref(j);c.replaceState(A,"",D),o&&d&&d({action:h,location:E.location,delta:0})}function S(w){return $w(w)}let E={get action(){return h},get location(){return i(r,c)},listen(w){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(qy,b),d=w,()=>{r.removeEventListener(qy,b),d=null}},createHref(w){return e(r,w)},createURL:S,encodeLocation(w){let C=S(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:x,go(w){return c.go(w)}};return E}function $w(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Je(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Qr(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Hv(i,e,t="/"){return Gw(i,e,t,!1)}function Gw(i,e,t,s){let r=typeof e=="string"?ka(e):e,o=ci(r.pathname||"/",t);if(o==null)return null;let c=Fv(i);Vw(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let f=i1(o);h=t1(c[d],f,s)}return h}function Fv(i,e=[],t=[],s="",r=!1){let o=(c,h,d=r,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&d)return;Je(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let b=li([s,m.relativePath]),v=t.concat(m);c.children&&c.children.length>0&&(Je(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Fv(c.children,e,v,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:Zw(b,c.index),routesMeta:v})};return i.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of Iv(c.path))o(c,h,!0,d)}),e}function Iv(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let c=Iv(s.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...c),h.map(d=>i.startsWith("/")&&d===""?"/":d)}function Vw(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:e1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Yw=/^:[\w-]+$/,Ww=3,Kw=2,Xw=1,Qw=10,Jw=-2,Gy=i=>i==="*";function Zw(i,e){let t=i.split("/"),s=t.length;return t.some(Gy)&&(s+=Jw),e&&(s+=Kw),t.filter(r=>!Gy(r)).reduce((r,o)=>r+(Yw.test(o)?Ww:o===""?Xw:Qw),s)}function e1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,r)=>s===e[r])?i[i.length-1]-e[e.length-1]:0}function t1(i,e,t=!1){let{routesMeta:s}=i,r={},o="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],f=h===s.length-1,m=o==="/"?e:e.slice(o.length)||"/",b=fc({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!b&&f&&t&&!s[s.length-1].route.index&&(b=fc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:li([o,b.pathname]),pathnameBase:l1(li([o,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(o=li([o,b.pathnameBase]))}return c}function fc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=n1(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:s.reduce((f,{paramName:m,isOptional:b},v)=>{if(m==="*"){let S=h[v]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=h[v];return b&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:i}}function n1(i,e=!1,t=!0){Tn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function i1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ci(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a1=i=>s1.test(i);function r1(i,e="/"){let{pathname:t,search:s="",hash:r=""}=typeof i=="string"?ka(i):i,o;if(t)if(a1(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Tn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=Vy(t.substring(1),"/"):o=Vy(t,e)}else o=e;return{pathname:o,search:c1(s),hash:u1(r)}}function Vy(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ad(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qv(i){let e=o1(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function $v(i,e,t,s=!1){let r;typeof i=="string"?r=ka(i):(r={...i},Je(!r.pathname||!r.pathname.includes("?"),ad("?","pathname","search",r)),Je(!r.pathname||!r.pathname.includes("#"),ad("#","pathname","hash",r)),Je(!r.search||!r.search.includes("#"),ad("#","search","hash",r)));let o=i===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;r.pathname=v.join("/")}h=b>=0?e[b]:"/"}let d=r1(r,h),f=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var li=i=>i.join("/").replace(/\/\/+/g,"/"),l1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),c1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,u1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function h1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gv=["POST","PUT","PATCH","DELETE"];new Set(Gv);var d1=["GET",...Gv];new Set(d1);var Da=F.createContext(null);Da.displayName="DataRouter";var Rc=F.createContext(null);Rc.displayName="DataRouterState";F.createContext(!1);var Vv=F.createContext({isTransitioning:!1});Vv.displayName="ViewTransition";var f1=F.createContext(new Map);f1.displayName="Fetchers";var g1=F.createContext(null);g1.displayName="Await";var Pn=F.createContext(null);Pn.displayName="Navigation";var co=F.createContext(null);co.displayName="Location";var ui=F.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var tf=F.createContext(null);tf.displayName="RouteError";function p1(i,{relative:e}={}){Je(uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(Pn),{hash:r,pathname:o,search:c}=ho(i,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:li([t,o])),s.createHref({pathname:h,search:c,hash:r})}function uo(){return F.useContext(co)!=null}function Vi(){return Je(uo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(co).location}var Yv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wv(i){F.useContext(Pn).static||F.useLayoutEffect(i)}function m1(){let{isDataRoute:i}=F.useContext(ui);return i?O1():y1()}function y1(){Je(uo(),"useNavigate() may be used only in the context of a <Router> component.");let i=F.useContext(Da),{basename:e,navigator:t}=F.useContext(Pn),{matches:s}=F.useContext(ui),{pathname:r}=Vi(),o=JSON.stringify(qv(s)),c=F.useRef(!1);return Wv(()=>{c.current=!0}),F.useCallback((d,f={})=>{if(Tn(c.current,Yv),!c.current)return;if(typeof d=="number"){t.go(d);return}let m=$v(d,JSON.parse(o),r,f.relative==="path");i==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:li([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,r,i])}F.createContext(null);function ho(i,{relative:e}={}){let{matches:t}=F.useContext(ui),{pathname:s}=Vi(),r=JSON.stringify(qv(t));return F.useMemo(()=>$v(i,JSON.parse(r),s,e==="path"),[i,r,s,e])}function b1(i,e){return Kv(i,e)}function Kv(i,e,t,s,r){Je(uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(Pn),{matches:c}=F.useContext(ui),h=c[c.length-1],d=h?h.params:{},f=h?h.pathname:"/",m=h?h.pathnameBase:"/",b=h&&h.route;{let j=b&&b.path||"";Xv(f,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=Vi(),x;if(e){let j=typeof e=="string"?ka(e):e;Je(m==="/"||j.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=v;let S=x.pathname||"/",E=S;if(m!=="/"){let j=m.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=Hv(i,{pathname:E});Tn(b||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Tn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=w1(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:li([m,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:li([m,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,t,s,r);return e&&C?F.createElement(co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function v1(){let i=A1(),e=h1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:r},t):null,c)}var _1=F.createElement(v1,null),x1=class extends F.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?F.createElement(ui.Provider,{value:this.props.routeContext},F.createElement(tf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S1({routeContext:i,match:e,children:t}){let s=F.useContext(Da);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ui.Provider,{value:i},t)}function w1(i,e=[],t=null,s=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,c=t?.errors;if(c!=null){let m=o.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Je(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let b=o[m];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=m),b.route.id){let{loaderData:v,errors:x}=t,S=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=t&&s?(m,b)=>{s(m,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:b})}:void 0;return o.reduceRight((m,b,v)=>{let x,S=!1,E=null,w=null;t&&(x=c&&b.route.id?c[b.route.id]:void 0,E=b.route.errorElement||_1,h&&(d<0&&v===0?(Xv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):d===v&&(S=!0,w=b.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,v+1)),j=()=>{let A;return x?A=E:S?A=w:b.route.Component?A=F.createElement(b.route.Component,null):b.route.element?A=b.route.element:A=m,F.createElement(S1,{match:b,routeContext:{outlet:m,matches:C,isDataRoute:t!=null},children:A})};return t&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?F.createElement(x1,{location:t.location,revalidation:t.revalidation,component:E,error:x,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):j()},null)}function nf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E1(i){let e=F.useContext(Da);return Je(e,nf(i)),e}function T1(i){let e=F.useContext(Rc);return Je(e,nf(i)),e}function C1(i){let e=F.useContext(ui);return Je(e,nf(i)),e}function sf(i){let e=C1(i),t=e.matches[e.matches.length-1];return Je(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function j1(){return sf("useRouteId")}function A1(){let i=F.useContext(tf),e=T1("useRouteError"),t=sf("useRouteError");return i!==void 0?i:e.errors?.[t]}function O1(){let{router:i}=E1("useNavigate"),e=sf("useNavigate"),t=F.useRef(!1);return Wv(()=>{t.current=!0}),F.useCallback(async(r,o={})=>{Tn(t.current,Yv),t.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:e,...o}))},[i,e])}var Yy={};function Xv(i,e,t){!e&&!Yy[i]&&(Yy[i]=!0,Tn(!1,t))}F.memo(R1);function R1({routes:i,future:e,state:t,unstable_onError:s}){return Kv(i,void 0,t,s,e)}function sc(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:r,static:o=!1}){Je(!uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),h=F.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof t=="string"&&(t=ka(t));let{pathname:d="/",search:f="",hash:m="",state:b=null,key:v="default"}=t,x=F.useMemo(()=>{let S=ci(d,c);return S==null?null:{location:{pathname:S,search:f,hash:m,state:b,key:v},navigationType:s}},[c,d,f,m,b,v,s]);return Tn(x!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:F.createElement(Pn.Provider,{value:h},F.createElement(co.Provider,{children:e,value:x}))}function k1({children:i,location:e}){return b1(Ad(i),e)}function Ad(i,e=[]){let t=[];return F.Children.forEach(i,(s,r)=>{if(!F.isValidElement(s))return;let o=[...e,r];if(s.type===F.Fragment){t.push.apply(t,Ad(s.props.children,o));return}Je(s.type===sc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ad(s.props.children,o)),t.push(c)}),t}var ac="get",rc="application/x-www-form-urlencoded";function Mc(i){return i!=null&&typeof i.tagName=="string"}function D1(i){return Mc(i)&&i.tagName.toLowerCase()==="button"}function N1(i){return Mc(i)&&i.tagName.toLowerCase()==="form"}function P1(i){return Mc(i)&&i.tagName.toLowerCase()==="input"}function L1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function z1(i,e){return i.button===0&&(!e||e==="_self")&&!L1(i)}var Dl=null;function B1(){if(Dl===null)try{new FormData(document.createElement("form"),0),Dl=!1}catch{Dl=!0}return Dl}var U1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(i){return i!=null&&!U1.has(i)?(Tn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):i}function H1(i,e){let t,s,r,o,c;if(N1(i)){let h=i.getAttribute("action");s=h?ci(h,e):null,t=i.getAttribute("method")||ac,r=rd(i.getAttribute("enctype"))||rc,o=new FormData(i)}else if(D1(i)||P1(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=i.getAttribute("formaction")||h.getAttribute("action");if(s=d?ci(d,e):null,t=i.getAttribute("formmethod")||h.getAttribute("method")||ac,r=rd(i.getAttribute("formenctype"))||rd(h.getAttribute("enctype"))||rc,o=new FormData(h,i),!B1()){let{name:f,type:m,value:b}=i;if(m==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,b)}}else{if(Mc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ac,s=null,r=rc,c=i}return o&&r==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function af(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function F1(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ci(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function I1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $1(i,e,t){let s=await Promise.all(i.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await I1(o,t);return c.links?c.links():[]}return[]}));return W1(s.flat(1).filter(q1).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Wy(i,e,t,s,r,o){let c=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>c(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{let m=s.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function G1(i,e,{includeHydrateFallback:t}={}){return V1(i.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function V1(i){return[...new Set(i)]}function Y1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function W1(i,e){let t=new Set;return new Set(e),i.reduce((s,r)=>{let o=JSON.stringify(Y1(r));return t.has(o)||(t.add(o),s.push({key:o,link:r})),s},[])}function Qv(){let i=F.useContext(Da);return af(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function K1(){let i=F.useContext(Rc);return af(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var rf=F.createContext(void 0);rf.displayName="FrameworkContext";function Jv(){let i=F.useContext(rf);return af(i,"You must render this element inside a <HydratedRouter> element"),i}function X1(i,e){let t=F.useContext(rf),[s,r]=F.useState(!1),[o,c]=F.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:b}=e,v=F.useRef(null);F.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let E=C=>{C.forEach(j=>{c(j.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[i]),F.useEffect(()=>{if(s){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[s]);let x=()=>{r(!0)},S=()=>{r(!1),c(!1)};return t?i!=="intent"?[o,v,{}]:[o,v,{onFocus:kr(h,x),onBlur:kr(d,S),onMouseEnter:kr(f,x),onMouseLeave:kr(m,S),onTouchStart:kr(b,x)}]:[!1,v,{}]}function kr(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function Q1({page:i,...e}){let{router:t}=Qv(),s=F.useMemo(()=>Hv(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?F.createElement(Z1,{page:i,matches:s,...e}):null}function J1(i){let{manifest:e,routeModules:t}=Jv(),[s,r]=F.useState([]);return F.useEffect(()=>{let o=!1;return $1(i,e,t).then(c=>{o||r(c)}),()=>{o=!0}},[i,e,t]),s}function Z1({page:i,matches:e,...t}){let s=Vi(),{manifest:r,routeModules:o}=Jv(),{basename:c}=Qv(),{loaderData:h,matches:d}=K1(),f=F.useMemo(()=>Wy(i,e,d,r,s,"data"),[i,e,d,r,s]),m=F.useMemo(()=>Wy(i,e,d,r,s,"assets"),[i,e,d,r,s]),b=F.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let S=new Set,E=!1;if(e.forEach(C=>{let j=r.routes[C.route.id];!j||!j.hasLoader||(!f.some(A=>A.route.id===C.route.id)&&C.route.id in h&&o[C.route.id]?.shouldRevalidate||j.hasClientLoader?E=!0:S.add(C.route.id))}),S.size===0)return[];let w=F1(i,c,"data");return E&&S.size>0&&w.searchParams.set("_routes",e.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[c,h,s,r,f,e,i,o]),v=F.useMemo(()=>G1(m,r),[m,r]),x=J1(m);return F.createElement(F.Fragment,null,b.map(S=>F.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>F.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),x.map(({key:S,link:E})=>F.createElement("link",{key:S,nonce:t.nonce,...E})))}function eE(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Zv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zv&&(window.__reactRouterVersion="7.9.6")}catch{}function tE({basename:i,children:e,window:t}){let s=F.useRef();s.current==null&&(s.current=Fw({window:t,v5Compat:!0}));let r=s.current,[o,c]=F.useState({action:r.action,location:r.location}),h=F.useCallback(d=>{F.startTransition(()=>c(d))},[c]);return F.useLayoutEffect(()=>r.listen(h),[r,h]),F.createElement(M1,{basename:i,children:e,location:o.location,navigationType:o.action,navigator:r})}var e0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vr=F.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:r,reloadDocument:o,replace:c,state:h,target:d,to:f,preventScrollReset:m,viewTransition:b,...v},x){let{basename:S}=F.useContext(Pn),E=typeof f=="string"&&e0.test(f),w,C=!1;if(typeof f=="string"&&E&&(w=f,Zv))try{let ee=new URL(window.location.href),X=f.startsWith("//")?new URL(ee.protocol+f):new URL(f),G=ci(X.pathname,S);X.origin===ee.origin&&G!=null?f=G+X.search+X.hash:C=!0}catch{Tn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=p1(f,{relative:r}),[A,D,k]=X1(s,v),z=aE(f,{replace:c,state:h,target:d,preventScrollReset:m,relative:r,viewTransition:b});function P(ee){e&&e(ee),ee.defaultPrevented||z(ee)}let $=F.createElement("a",{...v,...k,href:w||j,onClick:C||o?e:P,ref:eE(x,D),target:d,"data-discover":!E&&t==="render"?"true":void 0});return A&&!E?F.createElement(F.Fragment,null,$,F.createElement(Q1,{page:j})):$});Vr.displayName="Link";var nE=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:r=!1,style:o,to:c,viewTransition:h,children:d,...f},m){let b=ho(c,{relative:f.relative}),v=Vi(),x=F.useContext(Rc),{navigator:S,basename:E}=F.useContext(Pn),w=x!=null&&uE(b)&&h===!0,C=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,j=v.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(j=j.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&E&&(A=ci(A,E)||A);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let k=j===C||!r&&j.startsWith(C)&&j.charAt(D)==="/",z=A!=null&&(A===C||!r&&A.startsWith(C)&&A.charAt(C.length)==="/"),P={isActive:k,isPending:z,isTransitioning:w},$=k?e:void 0,ee;typeof s=="function"?ee=s(P):ee=[s,k?"active":null,z?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let X=typeof o=="function"?o(P):o;return F.createElement(Vr,{...f,"aria-current":$,className:ee,ref:m,style:X,to:c,viewTransition:h},typeof d=="function"?d(P):d)});nE.displayName="NavLink";var iE=F.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:r,state:o,method:c=ac,action:h,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:b,...v},x)=>{let S=lE(),E=cE(h,{relative:f}),w=c.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&e0.test(h),j=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let D=A.nativeEvent.submitter,k=D?.getAttribute("formmethod")||c;S(D||A.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:b})};return F.createElement("form",{ref:x,method:w,action:E,onSubmit:s?d:j,...v,"data-discover":!C&&i==="render"?"true":void 0})});iE.displayName="Form";function sE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t0(i){let e=F.useContext(Da);return Je(e,sE(i)),e}function aE(i,{target:e,replace:t,state:s,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=m1(),d=Vi(),f=ho(i,{relative:o});return F.useCallback(m=>{if(z1(m,e)){m.preventDefault();let b=t!==void 0?t:Qr(d)===Qr(f);h(i,{replace:b,state:s,preventScrollReset:r,relative:o,viewTransition:c})}},[d,h,f,t,s,e,i,r,o,c])}var rE=0,oE=()=>`__${String(++rE)}__`;function lE(){let{router:i}=t0("useSubmit"),{basename:e}=F.useContext(Pn),t=j1();return F.useCallback(async(s,r={})=>{let{action:o,method:c,encType:h,formData:d,body:f}=H1(s,e);if(r.navigate===!1){let m=r.fetcherKey||oE();await i.fetch(m,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await i.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,e,t])}function cE(i,{relative:e}={}){let{basename:t}=F.useContext(Pn),s=F.useContext(ui);Je(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...ho(i||".",{relative:e})},c=Vi();if(i==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(m=>m==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let m=h.toString();o.search=m?`?${m}`:""}}return(!i||i===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:li([t,o.pathname])),Qr(o)}function uE(i,{relative:e}={}){let t=F.useContext(Vv);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=t0("useViewTransitionState"),r=ho(i,{relative:e});if(!t.isTransitioning)return!1;let o=ci(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=ci(t.nextLocation.pathname,s)||t.nextLocation.pathname;return fc(r.pathname,c)!=null||fc(r.pathname,o)!=null}const hE=()=>{const i=Vi(),e=t=>i.pathname===t;return y.jsx("nav",{style:{background:"#020617",borderBottom:"1px solid #1f2937",padding:"0 24px"},children:y.jsxs("div",{style:{maxWidth:1400,margin:"0 auto",display:"flex",gap:8},children:[y.jsx(Vr,{to:"/",style:{padding:"16px 20px",textDecoration:"none",color:e("/")?"#38bdf8":"#e5e7eb",borderBottom:e("/")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Create Invoice"}),y.jsx(Vr,{to:"/preview",style:{padding:"16px 20px",textDecoration:"none",color:e("/preview")?"#38bdf8":"#e5e7eb",borderBottom:e("/preview")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Preview"}),y.jsx(Vr,{to:"/dashboard",style:{padding:"16px 20px",textDecoration:"none",color:e("/dashboard")?"#38bdf8":"#e5e7eb",borderBottom:e("/dashboard")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Dashboard"})]})})};var ti={},Nl={},Od=function(i,e){return Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])},Od(i,e)};function n0(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Od(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gc=function(){return gc=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},gc.apply(this,arguments)};function Na(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(t[s[r]]=i[s[r]]);return t}function i0(i,e,t,s){var r=arguments.length,o=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,s);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(o=(r<3?c(o):r>3?c(e,t,o):c(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function s0(i,e){return function(t,s){e(t,s,i)}}function a0(i,e,t,s,r,o){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var h=s.kind,d=h==="getter"?"get":h==="setter"?"set":"value",f=!e&&i?s.static?i:i.prototype:null,m=e||(f?Object.getOwnPropertyDescriptor(f,s.name):{}),b,v=!1,x=t.length-1;x>=0;x--){var S={};for(var E in s)S[E]=E==="access"?{}:s[E];for(var E in s.access)S.access[E]=s.access[E];S.addInitializer=function(C){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(C||null))};var w=(0,t[x])(h==="accessor"?{get:m.get,set:m.set}:m[d],S);if(h==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(b=c(w.get))&&(m.get=b),(b=c(w.set))&&(m.set=b),(b=c(w.init))&&r.unshift(b)}else(b=c(w))&&(h==="field"?r.unshift(b):m[d]=b)}f&&Object.defineProperty(f,s.name,m),v=!0}function r0(i,e,t){for(var s=arguments.length>2,r=0;r<e.length;r++)t=s?e[r].call(i,t):e[r].call(i);return s?t:void 0}function o0(i){return typeof i=="symbol"?i:"".concat(i)}function l0(i,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function c0(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function oe(i,e,t,s){function r(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(m){try{f(s.next(m))}catch(b){c(b)}}function d(m){try{f(s.throw(m))}catch(b){c(b)}}function f(m){m.done?o(m.value):r(m.value).then(h,d)}f((s=s.apply(i,e||[])).next())})}function u0(i,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(f){return function(m){return d([f,m])}}function d(f){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(s=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,r=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(i,t)}catch(m){f=[6,m],r=0}finally{s=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var kc=Object.create?(function(i,e,t,s){s===void 0&&(s=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,s,r)}):(function(i,e,t,s){s===void 0&&(s=t),i[s]=e[t]});function h0(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kc(e,i,t)}function pc(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],s=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function of(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var s=t.call(i),r,o=[],c;try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(h){c={error:h}}finally{try{r&&!r.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return o}function d0(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(of(arguments[e]));return i}function f0(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var s=Array(i),r=0,e=0;e<t;e++)for(var o=arguments[e],c=0,h=o.length;c<h;c++,r++)s[r]=o[c];return s}function g0(i,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return i.concat(o||Array.prototype.slice.call(e))}function Aa(i){return this instanceof Aa?(this.v=i,this):new Aa(i)}function p0(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(i,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(x){return function(S){return Promise.resolve(S).then(x,b)}}function h(x,S){s[x]&&(r[x]=function(E){return new Promise(function(w,C){o.push([x,E,w,C])>1||d(x,E)})},S&&(r[x]=S(r[x])))}function d(x,S){try{f(s[x](S))}catch(E){v(o[0][3],E)}}function f(x){x.value instanceof Aa?Promise.resolve(x.value.v).then(m,b):v(o[0][2],x)}function m(x){d("next",x)}function b(x){d("throw",x)}function v(x,S){x(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function m0(i){var e,t;return e={},s("next"),s("throw",function(r){throw r}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(r,o){e[r]=i[r]?function(c){return(t=!t)?{value:Aa(i[r](c)),done:!1}:o?o(c):c}:o}}function y0(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof pc=="function"?pc(i):i[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(o){t[o]=i[o]&&function(c){return new Promise(function(h,d){c=i[o](c),r(h,d,c.done,c.value)})}}function r(o,c,h,d){Promise.resolve(d).then(function(f){o({value:f,done:h})},c)}}function b0(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var dE=Object.create?(function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}):function(i,e){i.default=e},Rd=function(i){return Rd=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t},Rd(i)};function v0(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t=Rd(i),s=0;s<t.length;s++)t[s]!=="default"&&kc(e,i,t[s]);return dE(e,i),e}function _0(i){return i&&i.__esModule?i:{default:i}}function x0(i,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!s:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(i):s?s.value:e.get(i)}function S0(i,e,t,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(i,t):r?r.value=t:e.set(i,t),t}function w0(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function E0(i,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],t&&(r=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");r&&(s=function(){try{r.call(this)}catch(o){return Promise.reject(o)}}),i.stack.push({value:e,dispose:s,async:t})}else t&&i.stack.push({async:!0});return e}var fE=typeof SuppressedError=="function"?SuppressedError:function(i,e,t){var s=new Error(t);return s.name="SuppressedError",s.error=i,s.suppressed=e,s};function T0(i){function e(o){i.error=i.hasError?new fE(o,i.error,"An error was suppressed during disposal."):o,i.hasError=!0}var t,s=0;function r(){for(;t=i.stack.pop();)try{if(!t.async&&s===1)return s=0,i.stack.push(t),Promise.resolve().then(r);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return s|=2,Promise.resolve(o).then(r,function(c){return e(c),r()})}else s|=1}catch(c){e(c)}if(s===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return r()}function C0(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,s,r,o,c){return s?e?".jsx":".js":r&&(!o||!c)?t:r+o+"."+c.toLowerCase()+"js"}):i}const gE={__extends:n0,__assign:gc,__rest:Na,__decorate:i0,__param:s0,__esDecorate:a0,__runInitializers:r0,__propKey:o0,__setFunctionName:l0,__metadata:c0,__awaiter:oe,__generator:u0,__createBinding:kc,__exportStar:h0,__values:pc,__read:of,__spread:d0,__spreadArrays:f0,__spreadArray:g0,__await:Aa,__asyncGenerator:p0,__asyncDelegator:m0,__asyncValues:y0,__makeTemplateObject:b0,__importStar:v0,__importDefault:_0,__classPrivateFieldGet:x0,__classPrivateFieldSet:S0,__classPrivateFieldIn:w0,__addDisposableResource:E0,__disposeResources:T0,__rewriteRelativeImportExtension:C0},pE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:E0,get __assign(){return gc},__asyncDelegator:m0,__asyncGenerator:p0,__asyncValues:y0,__await:Aa,__awaiter:oe,__classPrivateFieldGet:x0,__classPrivateFieldIn:w0,__classPrivateFieldSet:S0,__createBinding:kc,__decorate:i0,__disposeResources:T0,__esDecorate:a0,__exportStar:h0,__extends:n0,__generator:u0,__importDefault:_0,__importStar:v0,__makeTemplateObject:b0,__metadata:c0,__param:s0,__propKey:o0,__read:of,__rest:Na,__rewriteRelativeImportExtension:C0,__runInitializers:r0,__setFunctionName:l0,__spread:d0,__spreadArray:g0,__spreadArrays:f0,__values:pc,default:gE},Symbol.toStringTag,{value:"Module"})),mE=i=>i?(...e)=>i(...e):(...e)=>fetch(...e);let Dc=class extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}},j0=class extends Dc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Md=class extends Dc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},kd=class extends Dc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var mc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(mc||(mc={}));class yE{constructor(e,{headers:t={},customFetch:s,region:r=mc.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=mE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return oe(this,arguments,void 0,function*(t,s={}){var r;let o,c;try{const{headers:h,method:d,body:f,signal:m,timeout:b}=s;let v={},{region:x}=s;x||(x=this.region);const S=new URL(`${this.url}/${t}`);x&&x!=="any"&&(v["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let E;f&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(v["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(v["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let w=m;b&&(c=new AbortController,o=setTimeout(()=>c.abort(),b),m?(w=c.signal,m.addEventListener("abort",()=>c.abort())):w=c.signal);const C=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:E,signal:w}).catch(k=>{throw new j0(k)}),j=C.headers.get("x-relay-error");if(j&&j==="true")throw new Md(C);if(!C.ok)throw new kd(C);let A=((r=C.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),D;return A==="application/json"?D=yield C.json():A==="application/octet-stream"||A==="application/pdf"?D=yield C.blob():A==="text/event-stream"?D=C:A==="multipart/form-data"?D=yield C.formData():D=yield C.text(),{data:D,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof kd||h instanceof Md?h.context:void 0}}finally{o&&clearTimeout(o)}})}}const bE=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return mc},FunctionsClient:yE,FunctionsError:Dc,FunctionsFetchError:j0,FunctionsHttpError:kd,FunctionsRelayError:Md},Symbol.toStringTag,{value:"Module"})),A0=lo(bE);var Ct={};const Pa=lo(pE);var Pl={},Ll={},zl={},Bl={},Ul={},Hl={},Ky;function O0(){if(Ky)return Hl;Ky=1,Object.defineProperty(Hl,"__esModule",{value:!0});class i extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Hl.default=i,Hl}var Xy;function R0(){if(Xy)return Ul;Xy=1,Object.defineProperty(Ul,"__esModule",{value:!0});const e=Pa.__importDefault(O0());let t=class{constructor(r){var o,c;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(c=r.isMaybeSingle)!==null&&c!==void 0?c:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,b,v;let x=null,S=null,E=null,w=d.status,C=d.statusText;if(d.ok){if(this.method!=="HEAD"){const k=await d.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=k:S=JSON.parse(k))}const A=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),D=(b=d.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&D&&D.length>1&&(E=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,w=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const A=await d.text();try{x=JSON.parse(A),Array.isArray(x)&&d.status===404&&(S=[],x=null,w=200,C="OK")}catch{d.status===404&&A===""?(w=204,C="No Content"):x={message:A}}if(x&&this.isMaybeSingle&&(!((v=x?.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,w=200,C="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:S,count:E,status:w,statusText:C}});return this.shouldThrowOnError||(h=h.catch(d=>{var f,m,b,v,x,S;let E="";const w=d?.cause;if(w){const C=(f=w?.message)!==null&&f!==void 0?f:"",j=(m=w?.code)!==null&&m!==void 0?m:"";E=`${(b=d?.name)!==null&&b!==void 0?b:"FetchError"}: ${d?.message}`,E+=`

Caused by: ${(v=w?.name)!==null&&v!==void 0?v:"Error"}: ${C}`,j&&(E+=` (${j})`),w?.stack&&(E+=`
${w.stack}`)}else E=(x=d?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(r,o)}returns(){return this}overrideTypes(){return this}};return Ul.default=t,Ul}var Qy;function M0(){if(Qy)return Bl;Qy=1,Object.defineProperty(Bl,"__esModule",{value:!0});const e=Pa.__importDefault(R0());let t=class extends e.default{select(r){let o=!1;const c=(r??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:o=!0,nullsFirst:c,foreignTable:h,referencedTable:d=h}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${r}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:o,referencedTable:c=o}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${r}`),this}range(r,o,{foreignTable:c,referencedTable:h=c}={}){const d=typeof h>"u"?"offset":`${h}.offset`,f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${r}`),this.url.searchParams.set(f,`${o-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:o=!1,settings:c=!1,buffers:h=!1,wal:d=!1,format:f="text"}={}){var m;const b=[r?"analyze":null,o?"verbose":null,c?"settings":null,h?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${b};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};return Bl.default=t,Bl}var Jy;function lf(){if(Jy)return zl;Jy=1,Object.defineProperty(zl,"__esModule",{value:!0});const e=Pa.__importDefault(M0()),t=new RegExp("[,()]");let s=class extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const h=Array.from(new Set(c)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:h,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${f}fts${m}.${c}`),this}match(o){return Object.entries(o).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(o,c,h){return this.url.searchParams.append(o,`not.${c}.${h}`),this}or(o,{foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,h){return this.url.searchParams.append(o,`${c}.${h}`),this}};return zl.default=s,zl}var Zy;function k0(){if(Zy)return Ll;Zy=1,Object.defineProperty(Ll,"__esModule",{value:!0});const e=Pa.__importDefault(lf());let t=class{constructor(r,{headers:o={},schema:c,fetch:h}){this.url=r,this.headers=new Headers(o),this.schema=c,this.fetch=h}select(r,o){const{head:c=!1,count:h}=o??{},d=c?"HEAD":"GET";let f=!1;const m=(r??"*").split("").map(b=>/\s/.test(b)&&!f?"":(b==='"'&&(f=!f),b)).join("");return this.url.searchParams.set("select",m),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:o,defaultToNull:c=!0}={}){var h;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(f.length>0){const m=[...new Set(f)].map(b=>`"${b}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(r,{onConflict:o,ignoreDuplicates:c=!1,count:h,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const b=r.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(b.length>0){const v=[...new Set(b)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(r,{count:o}={}){var c;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:r}={}){var o;const c="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return Ll.default=t,Ll}var eb;function vE(){if(eb)return Pl;eb=1,Object.defineProperty(Pl,"__esModule",{value:!0});const i=Pa,e=i.__importDefault(k0()),t=i.__importDefault(lf());let s=class D0{constructor(o,{headers:c={},schema:h,fetch:d}={}){this.url=o,this.headers=new Headers(c),this.schemaName=h,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new D0(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:h=!1,get:d=!1,count:f}={}){var m;let b;const v=new URL(`${this.url}/rpc/${o}`);let x;h||d?(b=h?"HEAD":"GET",Object.entries(c).filter(([E,w])=>w!==void 0).map(([E,w])=>[E,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([E,w])=>{v.searchParams.append(E,w)})):(b="POST",x=c);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new t.default({method:b,url:v,headers:S,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Pl.default=s,Pl}var tb;function N0(){if(tb)return Ct;tb=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const i=Pa,e=i.__importDefault(vE());Ct.PostgrestClient=e.default;const t=i.__importDefault(k0());Ct.PostgrestQueryBuilder=t.default;const s=i.__importDefault(lf());Ct.PostgrestFilterBuilder=s.default;const r=i.__importDefault(M0());Ct.PostgrestTransformBuilder=r.default;const o=i.__importDefault(R0());Ct.PostgrestBuilder=o.default;const c=i.__importDefault(O0());return Ct.PostgrestError=c.default,Ct.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:o.default,PostgrestError:c.default},Ct}class P0{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _E="2.87.1",xE=`realtime-js/${_E}`,L0="1.0.0",SE="2.0.0",nb=L0,Dd=1e4,wE=1e3,EE=100;var Ss;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ss||(Ss={}));var ut;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ut||(ut={}));var wn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(wn||(wn={}));var Nd;(function(i){i.websocket="websocket"})(Nd||(Nd={}));var ws;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(ws||(ws={}));class TE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const r=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,s;const r=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,s){var r,o;const c=e.topic,h=(r=e.ref)!==null&&r!==void 0?r:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+f.length+b.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(x),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,h.length),S.setUint8(E++,c.length),S.setUint8(E++,f.length),S.setUint8(E++,b.length),S.setUint8(E++,t),Array.from(d,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(h,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(c,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(b,C=>S.setUint8(E++,C.charCodeAt(0)));var w=new Uint8Array(x.byteLength+s.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(s),x.byteLength),w.buffer}decode(e,t){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return t(s)}if(typeof e=="string"){const s=JSON.parse(e),[r,o,c,h,d]=s;return t({join_ref:r,ref:o,topic:c,event:h,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),r=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,s){const r=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),h=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=s.decode(e.slice(d,d+r));d=d+r;const m=s.decode(e.slice(d,d+o));d=d+o;const b=s.decode(e.slice(d,d+c));d=d+c;const v=e.slice(d,e.byteLength),x=h===this.JSON_ENCODING?JSON.parse(s.decode(v)):v,S={type:this.BROADCAST_EVENT,event:m,payload:x};return c>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>t.includes(s)))}}class z0{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ve||(Ve={}));const ib=(i,e,t={})=>{var s;const r=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=CE(c,i,e,r),o),{}):{}},CE=(i,e,t,s)=>{const r=e.find(h=>h.name===i),o=r?.type,c=t[i];return o&&!s.includes(o)?B0(o,c):Pd(c)},B0=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return RE(e,t)}switch(i){case Ve.bool:return jE(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return AE(e);case Ve.json:case Ve.jsonb:return OE(e);case Ve.timestamp:return ME(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Pd(e);default:return Pd(e)}},Pd=i=>i,jE=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},AE=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},OE=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},RE=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,s=i[t];if(i[0]==="{"&&s==="}"){let o;const c=i.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(h=>B0(e,h))}return i},ME=i=>typeof i=="string"?i.replace(" ","T"):i,U0=i=>{const e=new URL(i);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class od{constructor(e,t,s={},r=Dd){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ld;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Ld||(Ld={}));let H0=class oc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oc.syncState(this.state,r,o,c),this.pendingDiffs.forEach(d=>{this.state=oc.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},r=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=oc.syncDiff(this.state,r,o,c),h())}),this.onJoin((r,o,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:c})}),this.onLeave((r,o,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const o=this.cloneDeep(e),c=this.transformState(t),h={},d={};return this.map(o,(f,m)=>{c[f]||(d[f]=m)}),this.map(c,(f,m)=>{const b=o[f];if(b){const v=m.map(w=>w.presence_ref),x=b.map(w=>w.presence_ref),S=m.filter(w=>x.indexOf(w.presence_ref)<0),E=b.filter(w=>v.indexOf(w.presence_ref)<0);S.length>0&&(h[f]=S),E.length>0&&(d[f]=E)}else h[f]=m}),this.syncDiff(o,{joins:h,leaves:d},s,r)}static syncDiff(e,t,s,r){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(o,(h,d)=>{var f;const m=(f=e[h])!==null&&f!==void 0?f:[];if(e[h]=this.cloneDeep(d),m.length>0){const b=e[h].map(x=>x.presence_ref),v=m.filter(x=>b.indexOf(x.presence_ref)<0);e[h].unshift(...v)}s(h,m,d)}),this.map(c,(h,d)=>{let f=e[h];if(!f)return;const m=d.map(b=>b.presence_ref);f=f.filter(b=>m.indexOf(b.presence_ref)<0),e[h]=f,r(h,f,d),f.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return"metas"in r?t[s]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var zd;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(zd||(zd={}));var Ea;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ea||(Ea={}));var Dn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));const kE=ut;let F0=class Hr{constructor(e,t={config:{}},s){var r,o;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,wn.join,this.params,this.timeout),this.rejoinTimer=new z0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new H0(this),this.broadcastEndpointURL=U0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params,f=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&r!==void 0?r:[],m=!!this.bindings[Ea.PRESENCE]&&this.bindings[Ea.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,b={},v={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(Dn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(Dn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,w=(S=E?.length)!==null&&S!==void 0?S:0,C=[];for(let j=0;j<w;j++){const A=E[j],{filter:{event:D,schema:k,table:z,filter:P}}=A,$=x&&x[j];if($&&$.event===D&&Hr.isFilterValueEqual($.schema,k)&&Hr.isFilterValueEqual($.table,z)&&Hr.isFilterValueEqual($.filter,P))C.push(Object.assign(Object.assign({},A),{id:$.id}));else{this.unsubscribe(),this.state=ut.errored,e?.(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Dn.SUBSCRIBED);return}}).receive("error",x=>{this.state=ut.errored,e?.(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===ut.joined&&e===Ea.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var r;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const f=await h.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=f.body)===null||r===void 0?void 0:r.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,h,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new od(this,wn.leave,{},e),s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const r=new AbortController,o=setTimeout(()=>r.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),c}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new od(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>EE){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,o;const c=e.toLocaleLowerCase(),{close:h,error:d,leave:f,join:m}=wn;if(s&&[h,d,f,m].indexOf(c)>=0&&s!==this._joinRef())return;let v=this._onMessage(c,t,s);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(x=>{var S,E,w;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((w=(E=x.filter)===null||E===void 0?void 0:E.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(x=>x.callback(v,s)):(o=this.bindings[c])===null||o===void 0||o.filter(x=>{var S,E,w,C,j,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const D=x.id,k=(S=x.filter)===null||S===void 0?void 0:S.event;return D&&((E=t.ids)===null||E===void 0?void 0:E.includes(D))&&(k==="*"||k?.toLocaleLowerCase()===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const D=(j=(C=x?.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return D==="*"||D===((A=t?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:E,table:w,commit_timestamp:C,type:j,errors:A}=S;v=Object.assign(Object.assign({},{schema:E,table:w,commit_timestamp:C,eventType:j,new:{},old:{},errors:A}),this._getPayloadRecords(S))}x.callback(v,s)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Hr.isEqual(r.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wn.close,{},e)}_onError(e){this._on(wn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ib(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ib(e.columns,e.old_record)),t}};const ld=()=>{},Fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DE=[1e3,2e3,5e3,1e4],NE=1e4,PE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let LE=class{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dd,this.transport=null,this.heartbeatIntervalMs=Fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ld,this.ref=0,this.reconnectTimer=null,this.vsn=nb,this.logger=ld,this.conn=null,this.sendBuffer=[],this.serializer=new TE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...o)=>r(...o):(...o)=>fetch(...o),!(!((s=t?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Nd.websocket}`,this.httpEndpoint=U0(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ss.connecting:return ws.Connecting;case Ss.open:return ws.Open;case Ss.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(o=>o.topic===s);if(r)return r;{const o=new F0(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:s,payload:r,ref:o}=e,c=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${t} ${s} (${o})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wE,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:o,ref:c}=t,h=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${s} ${r} ${h}`.trim(),o),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(r,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ss.open||this.conn.readyState===Ss.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([PE],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,s=!1;if(e)t=e,s=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),t=this.accessTokenValue}else t=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:xE};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(wn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new z0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,o,c,h,d,f,m,b,v,x;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Dd,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:Fl.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:ld,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:nb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>DE[S-1]||NE),this.vsn){case L0:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((S,E)=>E(JSON.stringify(S))),this.decode=(b=e?.decode)!==null&&b!==void 0?b:((S,E)=>E(JSON.parse(S)));break;case SE:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const zE=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:kE,get REALTIME_LISTEN_TYPES(){return Ea},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return zd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ld},get REALTIME_SUBSCRIBE_STATES(){return Dn},RealtimeChannel:F0,RealtimeClient:LE,RealtimePresence:H0,WebSocketFactory:P0},Symbol.toStringTag,{value:"Module"})),I0=lo(zE);class fo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Qe(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class q0 extends fo{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yc extends fo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const cf=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),BE=()=>Response,Bd=i=>{if(Array.isArray(i))return i.map(t=>Bd(t));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([t,s])=>{const r=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=Bd(s)}),e},UE=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},HE=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),cd=i=>{var e;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(e=i.error)===null||e===void 0?void 0:e.message)||JSON.stringify(i)},FE=(i,e,t)=>oe(void 0,void 0,void 0,function*(){const s=yield BE();i instanceof s&&!t?.noResolveJson?i.json().then(r=>{const o=i.status||500,c=r?.statusCode||o+"";e(new q0(cd(r),o,c))}).catch(r=>{e(new yc(cd(r),r))}):e(new yc(cd(i),i))}),IE=(i,e,t,s)=>{const r={method:i,headers:e?.headers||{}};return i==="GET"||!s?r:(UE(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(s)):r.body=s,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),t))};function go(i,e,t,s,r,o){return oe(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(t,IE(e,s,r,o)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>FE(d,h,s))})})}function Jr(i,e,t,s){return oe(this,void 0,void 0,function*(){return go(i,"GET",e,t,s)})}function Sn(i,e,t,s,r){return oe(this,void 0,void 0,function*(){return go(i,"POST",e,s,r,t)})}function Ud(i,e,t,s,r){return oe(this,void 0,void 0,function*(){return go(i,"PUT",e,s,r,t)})}function qE(i,e,t,s){return oe(this,void 0,void 0,function*(){return go(i,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function uf(i,e,t,s,r){return oe(this,void 0,void 0,function*(){return go(i,"DELETE",e,s,r,t)})}class $E{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}var $0;class GE{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[$0]="BlobDownloadBuilder",this.promise=null}asStream(){return new $E(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}$0=Symbol.toStringTag;const VE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YE{constructor(e,t={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=cf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,r){return oe(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},sb),r);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),r?.headers&&(h=Object.assign(Object.assign({},h),r.headers));const f=this._removeEmptyFolders(t),m=this._getFinalPath(f),b=yield(e=="PUT"?Ud:Sn)(this.fetch,`${this.url}/object/${m}`,o,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:b.Id,fullPath:b.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}upload(e,t,s){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return oe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:sb.upsert},r),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",f.cacheControl)):(d=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const b=yield Ud(this.fetch,h.toString(),d,{headers:m});return{data:{path:o,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Qe(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);t?.upsert&&(r["x-upsert"]="true");const o=yield Sn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),c=new URL(this.url+o.url),h=c.searchParams.get("token");if(!h)throw new fo("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}update(e,t,s){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return oe(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}copy(e,t,s){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield Sn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return oe(this,void 0,void 0,function*(){try{const r=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),c=o?`?${o}`:"",h=this._getFinalPath(e),d=()=>Jr(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new GE(d,this.shouldThrowOnError)}info(e){return oe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Jr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Bd(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}exists(e){return oe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield qE(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s)&&s instanceof yc){const r=s.originalError;if([400,404].includes(r?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);const h=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&r.push(d);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${f}`)}}}remove(e){return oe(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}list(e,t,s){return oe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},VE),t),{prefix:e||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}listV2(e,t){return oe(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const G0="2.87.1",V0={"X-Client-Info":`storage-js/${G0}`};class WE{constructor(e,t={},s,r){this.shouldThrowOnError=!1;const o=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V0),t),this.fetch=cf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Jr(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}createBucket(e){return oe(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return oe(this,void 0,void 0,function*(){try{return{data:yield Ud(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}emptyBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var Zr=class extends Error{constructor(i,e){super(i),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function KE(i,e,t){const s=new URL(e,i);if(t)for(const[r,o]of Object.entries(t))o!==void 0&&s.searchParams.set(r,o);return s.toString()}async function XE(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function QE(i){const e=i.fetchImpl??globalThis.fetch;return{async request({method:t,path:s,query:r,body:o,headers:c}){const h=KE(i.baseUrl,s,r),d=await XE(i.auth),f=await e(h,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),m=await f.text(),b=(f.headers.get("content-type")||"").includes("application/json"),v=b&&m?JSON.parse(m):m;if(!f.ok){const x=b?v:void 0,S=x?.error;throw new Zr(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:f.status,headers:f.headers,data:v}}}}function Il(i){return i.join("")}var JE=class{constructor(i,e=""){this.client=i,this.prefix=e}async listNamespaces(i){const e=i?{parent:Il(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(i,e){const t={namespace:i.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Il(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Il(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Il(i.namespace)}`}),!0}catch(e){if(e instanceof Zr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(i,e){try{return await this.createNamespace(i,e)}catch(t){if(t instanceof Zr&&t.status===409)return;throw t}}};function pa(i){return i.join("")}var ZE=class{constructor(i,e="",t){this.client=i,this.prefix=e,this.accessDelegation=t}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pa(i.namespace)}/tables`})).data.identifiers}async createTable(i,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pa(i.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(i,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pa(i.namespace)}/tables/${i.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(i,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pa(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(i){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pa(i.namespace)}/tables/${i.name}`,headers:e})).data.metadata}async tableExists(i){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pa(i.namespace)}/tables/${i.name}`,headers:e}),!0}catch(t){if(t instanceof Zr&&t.status===404)return!1;throw t}}async createTableIfNotExists(i,e){try{return await this.createTable(i,e)}catch(t){if(t instanceof Zr&&t.status===409)return await this.loadTable({namespace:i.namespace,name:e.name});throw t}}},eT=class{constructor(i){let e="v1";i.catalogName&&(e+=`/${i.catalogName}`);const t=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=QE({baseUrl:t,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new JE(this.client,e),this.tableOps=new ZE(this.client,e,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,e){return this.namespaceOps.createNamespace(i,e)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,e){return this.tableOps.createTable(i,e)}async updateTable(i,e){return this.tableOps.updateTable(i,e)}async dropTable(i,e){await this.tableOps.dropTable(i,e)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,e){return this.namespaceOps.createNamespaceIfNotExists(i,e)}async createTableIfNotExists(i,e){return this.tableOps.createTableIfNotExists(i,e)}};class Y0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V0),t),this.fetch=cf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const s=t.toString(),r=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Jr(this.fetch,r,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}from(e){if(!HE(e))throw new fo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new eT({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>oe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(t,{get(o,c){const h=o[c];return typeof h!="function"?h:(...d)=>oe(this,void 0,void 0,function*(){try{return{data:yield h.apply(o,d),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}})}})}}const hf={"X-Client-Info":`storage-js/${G0}`,"Content-Type":"application/json"};class df extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ft(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class lc extends df{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class W0 extends df{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Hd;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hd||(Hd={}));const Nc=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),tT=()=>Response,K0=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},nT=i=>Array.from(new Float32Array(i)),iT=(i,e)=>{if(e!==void 0&&i.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${i.float32.length}`)},ab=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),sT=(i,e,t)=>oe(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!t?.noResolveJson){const r=i.status||500,o=i;if(typeof o.json=="function")o.json().then(c=>{const h=c?.statusCode||c?.code||r+"";e(new lc(ab(c),r,h))}).catch(()=>{const c=r+"",h=o.statusText||`HTTP ${r} error`;e(new lc(h,r,c))});else{const c=r+"",h=o.statusText||`HTTP ${r} error`;e(new lc(h,r,c))}}else e(new W0(ab(i),i))}),aT=(i,e,t,s)=>{const r={method:i,headers:e?.headers||{}};return s?(K0(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(s)):r.body=s,Object.assign(Object.assign({},r),t)):r};function rT(i,e,t,s,r,o){return oe(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(t,aT(e,s,r,o)).then(d=>{if(!d.ok)throw d;if(s?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>sT(d,h,s))})})}function en(i,e,t,s,r){return oe(this,void 0,void 0,function*(){return rT(i,"POST",e,s,r,t)})}class X0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hf),t),this.fetch=Nc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}getIndex(e,t){return oe(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}listIndexes(e){return oe(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return oe(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}}class Q0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hf),t),this.fetch=Nc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield en(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}getVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}listVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield en(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}queryVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}deleteVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield en(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}class J0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hf),t),this.fetch=Nc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}listBuckets(){return oe(this,arguments,void 0,function*(e={}){try{return{data:yield en(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}class Z0 extends J0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new e_(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return oe(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return oe(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return oe(this,arguments,void 0,function*(t={}){return e.listBuckets.call(this,t)})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return oe(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class e_ extends X0{constructor(e,t,s,r){super(e,t,r),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new t_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class t_ extends Q0{constructor(e,t,s,r,o){super(e,t,o),this.vectorBucketName=s,this.indexName=r}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class oT extends WE{constructor(e,t={},s,r){super(e,t,s,r)}from(e){return new YE(this.url,this.headers,e,this.fetch)}get vectors(){return new Z0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Y0(this.url+"/iceberg",this.headers,this.fetch)}}const lT=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Y0,StorageApiError:q0,StorageClient:oT,StorageError:fo,StorageUnknownError:yc,StorageVectorsApiError:lc,StorageVectorsClient:Z0,StorageVectorsError:df,get StorageVectorsErrorCode(){return Hd},StorageVectorsUnknownError:W0,VectorBucketApi:J0,VectorBucketScope:e_,VectorDataApi:Q0,VectorIndexApi:X0,VectorIndexScope:t_,isPlainObject:K0,isStorageError:Qe,isStorageVectorsError:Ft,normalizeToFloat32:nT,resolveFetch:Nc,resolveResponse:tT,validateVectorDimension:iT},Symbol.toStringTag,{value:"Module"})),cT=lo(lT);var ud={},Dr={},rb;function uT(){return rb||(rb=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.version=void 0,Dr.version="2.87.1"),Dr}var ob;function hT(){return ob||(ob=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const e=uT();let t="";typeof Deno<"u"?t="deno":typeof document<"u"?t="web":typeof navigator<"u"&&navigator.product==="ReactNative"?t="react-native":t="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${t}/${e.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(ud)),ud}var hd={},lb;function dT(){return lb||(lb=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const e=r=>r?(...o)=>r(...o):(...o)=>fetch(...o);i.resolveFetch=e;const t=()=>Headers;i.resolveHeadersConstructor=t;const s=(r,o,c)=>{const h=(0,i.resolveFetch)(c),d=(0,i.resolveHeadersConstructor)();return async(f,m)=>{var b;const v=(b=await o())!==null&&b!==void 0?b:r;let x=new d(m?.headers);return x.has("apikey")||x.set("apikey",r),x.has("Authorization")||x.set("Authorization",`Bearer ${v}`),h(f,Object.assign(Object.assign({},m),{headers:x}))}};i.fetchWithAuth=s})(hd)),hd}var ni={},cb;function fT(){if(cb)return ni;cb=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.isBrowser=void 0,ni.uuid=i,ni.ensureTrailingSlash=e,ni.applySettingDefaults=s,ni.validateSupabaseUrl=r;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var c=Math.random()*16|0,h=o=="x"?c:c&3|8;return h.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const t=()=>typeof window<"u";ni.isBrowser=t;function s(o,c){var h,d;const{db:f,auth:m,realtime:b,global:v}=o,{db:x,auth:S,realtime:E,global:w}=c,C={db:Object.assign(Object.assign({},x),f),auth:Object.assign(Object.assign({},S),m),realtime:Object.assign(Object.assign({},E),b),storage:{},global:Object.assign(Object.assign(Object.assign({},w),v),{headers:Object.assign(Object.assign({},(h=w?.headers)!==null&&h!==void 0?h:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return o.accessToken?C.accessToken=o.accessToken:delete C.accessToken,C}function r(o){const c=o?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ni}var Nr={};const n_="2.87.1",Sa=30*1e3,Fd=3,dd=Fd*Sa,gT="http://localhost:9999",pT="supabase.auth.token",mT={"X-Client-Info":`gotrue-js/${n_}`},Id="X-Supabase-Api-Version",i_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bT=600*1e3;let Oa=class extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}};function ue(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let s_=class extends Oa{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}};function a_(i){return ue(i)&&i.name==="AuthApiError"}let Bi=class extends Oa{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},hi=class extends Oa{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}},Ht=class extends hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function r_(i){return ue(i)&&i.name==="AuthSessionMissingError"}let ys=class extends hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Fr=class extends hi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Ir=class extends hi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function o_(i){return ue(i)&&i.name==="AuthImplicitGrantRedirectError"}let qd=class extends hi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},bc=class extends hi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function cc(i){return ue(i)&&i.name==="AuthRetryableFetchError"}let $d=class extends hi{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}};function vT(i){return ue(i)&&i.name==="AuthWeakPasswordError"}let vc=class extends hi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const _c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ub=` 	
\r=`.split(""),_T=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<ub.length;e+=1)i[ub[e].charCodeAt(0)]=-2;for(let e=0;e<_c.length;e+=1)i[_c[e].charCodeAt(0)]=e;return i})();function hb(i,e,t){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(_c[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(_c[s]),e.queuedBits-=6}}function l_(i,e,t){const s=_T[i];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function db(i){const e=[],t=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=c=>{wT(c,s,t)};for(let c=0;c<i.length;c+=1)l_(i.charCodeAt(c),r,o);return e.join("")}function xT(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function ST(i,e){for(let t=0;t<i.length;t+=1){let s=i.charCodeAt(t);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(i.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}xT(s,e)}}function wT(i,e,t){if(e.utf8seq===0){if(i<=127){t(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ta(i){const e=[],t={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<i.length;r+=1)l_(i.charCodeAt(r),t,s);return new Uint8Array(e)}function ET(i){const e=[];return ST(i,t=>e.push(t)),new Uint8Array(e)}function Es(i){const e=[],t={queue:0,queuedBits:0},s=r=>{e.push(r)};return i.forEach(r=>hb(r,t,s)),hb(null,t,s),e.join("")}function TT(i){return Math.round(Date.now()/1e3)+i}function CT(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},c_=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function jT(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return t.searchParams.forEach((s,r)=>{e[r]=s}),e}const u_=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),AT=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",wa=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},fs=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},wt=async(i,e)=>{await i.removeItem(e)};class Pc{constructor(){this.promise=new Pc.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Pc.promiseConstructor=Promise;function fd(i){const e=i.split(".");if(e.length!==3)throw new vc("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!yT.test(e[s]))throw new vc("JWT not in base64url format");return{header:JSON.parse(db(e[0])),payload:JSON.parse(db(e[1])),signature:Ta(e[2]),raw:{header:e[0],payload:e[1]}}}async function OT(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function RT(i,e){return new Promise((s,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await i(o);if(!e(o,null,c)){s(c);return}}catch(c){if(!e(o,c)){r(c);return}}})()})}function MT(i){return("0"+i.toString(16)).substr(-2)}function kT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let r="";for(let o=0;o<56;o++)r+=t.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,MT).join("")}async function DT(i){const t=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function NT(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await DT(i);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ma(i,e,t=!1){const s=kT();let r=s;t&&(r+="/PASSWORD_RECOVERY"),await wa(i,`${e}-code-verifier`,r);const o=await NT(s);return[o,s===o?"plain":"s256"]}const PT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LT(i){const e=i.headers.get(Id);if(!e||!e.match(PT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zT(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function BT(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ya(i){if(!UT.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gd(){const i={};return new Proxy(i,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HT(i,e){return new Proxy(i,{get:(t,s,r)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,s,r)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,s,r)}})}function fb(i){return JSON.parse(JSON.stringify(i))}const bs=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),FT=[502,503,504];async function gb(i){var e;if(!AT(i))throw new bc(bs(i),0);if(FT.includes(i.status))throw new bc(bs(i),i.status);let t;try{t=await i.json()}catch(o){throw new Bi(bs(o),o)}let s;const r=LT(i);if(r&&r.getTime()>=i_["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new $d(bs(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ht}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new $d(bs(t),i.status,t.weak_password.reasons);throw new s_(bs(t),i.status||500,s)}const IT=(i,e,t,s)=>{const r={method:i,headers:e?.headers||{}};return i==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};async function be(i,e,t,s){var r;const o=Object.assign({},s?.headers);o[Id]||(o[Id]=i_["2024-01-01"].name),s?.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const c=(r=s?.query)!==null&&r!==void 0?r:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await qT(i,e,t+h,{headers:o,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function qT(i,e,t,s,r,o){const c=IT(e,s,r,o);let h;try{h=await i(t,Object.assign({},c))}catch(d){throw console.error(d),new bc(bs(d),0)}if(h.ok||await gb(h),s?.noResolveJson)return h;try{return await h.json()}catch(d){await gb(d)}}function xn(i){var e;let t=null;VT(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=TT(i.expires_in)));const s=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:s},error:null}}function pb(i){const e=xn(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=i.weak_password),e}function Ui(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function $T(i){return{data:i,error:null}}function GT(i){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:o}=i,c=Na(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:o},d=Object.assign({},c);return{data:{properties:h,user:d},error:null}}function mb(i){return i}function VT(i){return i.access_token&&i.refresh_token&&i.expires_in}const uc=["global","local","others"];let ff=class{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=u_(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=uc[0]){if(uc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uc.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ui})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Na(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=s?.newEmail,delete r.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:GT,redirectTo:t?.redirectTo})}catch(t){if(ue(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ui})}catch(t){if(ue(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,o,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},m=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:mb});if(m.error)throw m.error;const b=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);f[`${w}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(ue(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){ya(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ui})}catch(t){if(ue(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ya(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ui})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){ya(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ui})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ya(e.userId);try{const{data:t,error:s}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:s}}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ya(e.userId),ya(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,r,o,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},m=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:mb});if(m.error)throw m.error;const b=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);f[`${w}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(ue(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ue(t))return{data:null,error:t};throw t}}};function yb(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}const vs={debug:!!(globalThis&&c_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let h_=class extends gf{};class YT extends gf{}async function d_(i,e,t){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,r.name);try{return await t()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,r.name)}}else{if(e===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new h_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(vs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}const bb={};async function WT(i,e,t){var s;const r=(s=bb[i])!==null&&s!==void 0?s:Promise.resolve(),o=Promise.race([r.catch(()=>null),e>=0?new Promise((c,h)=>{setTimeout(()=>{h(new YT(`Acquring process lock with name "${i}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await t());return bb[i]=o.catch(async c=>{if(c&&c.isAcquireTimeout)return await r,null;throw c}),await o}function KT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function f_(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function XT(i){return parseInt(i,16)}function QT(i){const e=new TextEncoder().encode(i);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function JT(i){var e;const{chainId:t,domain:s,expirationTime:r,issuedAt:o=new Date,nonce:c,notBefore:h,requestId:d,resources:f,scheme:m,uri:b,version:v}=i;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=i.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const x=f_(i.address),S=m?`${m}://${s}`:s,E=i.statement?`${i.statement}
`:"",w=`${S} wants you to sign in with your Ethereum account:
${x}

${E}`;let C=`URI: ${b}
Version: ${v}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(r&&(C+=`
Expiration Time: ${r.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),d&&(C+=`
Request ID: ${d}`),f){let j=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);j+=`
- ${A}`}C+=j}return`${w}
${C}`}class ht extends Error{constructor({message:e,code:t,cause:s,name:r}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=r??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class xc extends ht{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function ZT({error:i,options:e}){var t,s,r;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ht({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(g_(c)){if(o.rp.id!==c)return new ht({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function eC({error:i,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ht({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(g_(s)){if(t.rpId!==s)return new ht({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class tC{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const nC=new tC;function iC(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:e,user:t,excludeCredentials:s}=i,r=Na(i,["challenge","user","excludeCredentials"]),o=Ta(e).buffer,c=Object.assign(Object.assign({},t),{id:Ta(t.id).buffer}),h=Object.assign(Object.assign({},r),{challenge:o,user:c});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];h.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ta(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return h}function sC(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:e,allowCredentials:t}=i,s=Na(i,["challenge","allowCredentials"]),r=Ta(e).buffer,o=Object.assign(Object.assign({},s),{challenge:r});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const h=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Ta(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function aC(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i;return{id:i.id,rawId:i.id,response:{attestationObject:Es(new Uint8Array(i.response.attestationObject)),clientDataJSON:Es(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rC(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i,s=i.getClientExtensionResults(),r=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Es(new Uint8Array(r.authenticatorData)),clientDataJSON:Es(new Uint8Array(r.clientDataJSON)),signature:Es(new Uint8Array(r.signature)),userHandle:r.userHandle?Es(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function g_(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function vb(){var i,e;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function oC(i){try{const e=await navigator.credentials.create(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xc("Browser returned unexpected credential type",e)}:{data:null,error:new xc("Empty credential response",e)}}catch(e){return{data:null,error:ZT({error:e,options:i})}}}async function lC(i){try{const e=await navigator.credentials.get(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xc("Browser returned unexpected credential type",e)}:{data:null,error:new xc("Empty credential response",e)}}catch(e){return{data:null,error:eC({error:e,options:i})}}}const cC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sc(...i){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),t=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of i)if(r)for(const o in r){const c=r[o];if(c!==void 0)if(Array.isArray(c))s[o]=c;else if(t(c))s[o]=c;else if(e(c)){const h=s[o];e(h)?s[o]=Sc(h,c):s[o]=Sc(c)}else s[o]=c}return s}function hC(i,e){return Sc(cC,i,e||{})}function dC(i,e){return Sc(uC,i,e||{})}class fC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:r},o){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:h};const d=r??nC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=hC(c.webauthn.credential_options.publicKey,o?.create),{data:m,error:b}=await oC({publicKey:f,signal:d});return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:b}}case"request":{const f=dC(c.webauthn.credential_options.publicKey,o?.request),{data:m,error:b}=await lC(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:b}}}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!t)return{data:null,error:new Oa("rpId is required for WebAuthn authentication")};try{if(!vb())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:r},{request:o});if(!c)return{data:null,error:h};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:s,credential_response:d.credential_response}})}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!t)return{data:null,error:new Oa("rpId is required for WebAuthn registration")};try{if(!vb())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(m=>{var b;return(b=m.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:h};const{data:d,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:r},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in register",c)}}}}KT();const gC={url:gT,storageKey:pT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function _b(i,e,t){return await t()}const ba={};let pf=class Gd{get jwks(){var e,t;return(t=(e=ba[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ba[this.storageKey]=Object.assign(Object.assign({},ba[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ba[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ba[this.storageKey]=Object.assign(Object.assign({},ba[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},gC),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Gd.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Gd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Et()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ff({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=u_(o.fetch),this.lock=o.lock||_b,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Et()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=d_:this.lock=_b,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:c_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=yb(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${n_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},s="none";if(Et()&&(t=jT(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),Et()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:o}=await this._getSessionFromURL(t,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),o_(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ue(t)?this._returnResult({error:t}):this._returnResult({error:new Bi("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:xn}),{data:c,error:h}=o;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,s,r;try{let o;if("email"in e){const{email:m,password:b,options:v}=e;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await ma(this.storage,this.storageKey)),o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:b,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:S},xform:xn})}else if("phone"in e){const{phone:m,password:b,options:v}=e;o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:b,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(r=v?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:xn})}else throw new Fr("You must provide either an email or phone number and a password");const{data:c,error:h}=o;if(h||!c)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:h}=e;t=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:pb})}else if("phone"in e){const{phone:o,password:c,options:h}=e;t=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:pb})}else throw new Fr("You must provide either an email or phone number and a password");const{data:s,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){const o=new ys;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,r,o,c,h,d,f,m,b,v;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:E,wallet:w,statement:C,options:j}=e;let A;if(Et())if(typeof w=="object")A=w;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")A=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const D=new URL((t=j?.url)!==null&&t!==void 0?t:window.location.href),k=await A.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=f_(k[0]);let P=(s=j?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!P){const ee=await A.request({method:"eth_chainId"});P=XT(ee)}const $={domain:D.host,address:z,statement:C,uri:D.href,version:"1",chainId:P,nonce:(r=j?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(c=(o=j?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=j?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=JT($),S=await A.request({method:"personal_sign",params:[QT(x),z]})}try{const{data:E,error:w}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:xn});if(w)throw w;if(!E||!E.session||!E.user){const C=new ys;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:w})}catch(E){if(ue(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var t,s,r,o,c,h,d,f,m,b,v,x;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:w,wallet:C,statement:j,options:A}=e;let D;if(Et())if(typeof C=="object")D=C;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))D=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=C}const k=new URL((t=A?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in D&&D.signIn){const z=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),j?{statement:j}:null));let P;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")P=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)P=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),E=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(r=(s=A?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((o=A?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((b=(m=A?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||b===void 0)&&b.length?["Resources",...A.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const z=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=z}}try{const{data:w,error:C}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Es(E)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:xn});if(C)throw C;if(!w||!w.session||!w.user){const j=new ys;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:C})}catch(w){if(ue(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const t=await fs(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(t??"").split("/");try{const{data:o,error:c}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:xn});if(await wt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const h=new ys;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:c})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:o,nonce:c}=e,h=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:xn}),{data:d,error:f}=h;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new ys;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,r,o,c;try{if("email"in e){const{email:h,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await ma(this.storage,this.storageKey));const{error:b}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:h,options:d}=e,{data:f,error:m}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Fr("You must provide either an email or phone number.")}catch(h){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var t,s;try{let r,o;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:xn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,f=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,s,r,o,c;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await ma(this.storage,this.storageKey));const f=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:$T});return!((o=f.data)===null||o===void 0)&&o.url&&Et()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(h){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Ht;const{error:r}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:o}=e,{error:c}=await be(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:r,options:o}=e,{data:c,error:h}=await be(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new Fr("You must provide either an email or phone number and a type")}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<dd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await fs(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=gd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=HT(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ui}):await this._useSession(async t=>{var s,r,o;const{data:c,error:h}=t;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:Ui})})}catch(t){if(ue(t))return r_(t)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:o}=s;if(o)throw o;if(!r.session)throw new Ht;const c=r.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await ma(this.storage,this.storageKey));const{data:f,error:m}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:c.access_token,xform:Ui});if(m)throw m;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const t=Date.now()/1e3;let s=t,r=!0,o=null;const{payload:c}=fd(e.access_token);if(c.exp&&(s=c.exp,r=s<=t),r){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(ue(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:c,error:h}=t;if(h)throw h;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Ht;const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Et())throw new Ir("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ir(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new qd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ir("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qd("No code detected.");const{data:j,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:o,refresh_token:c,expires_in:h,expires_at:d,token_type:f}=e;if(!o||!h||!c||!f)throw new Ir("No session defined in URL");const m=Math.round(Date.now()/1e3),b=parseInt(h);let v=m+b;d&&(v=parseInt(d));const x=v-m;x*1e3<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${b}s`);const S=v-b;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,m);const{data:E,error:w}=await this._getUser(o);if(w)throw w;const C={provider_token:s,provider_refresh_token:r,access_token:o,expires_in:b,expires_at:v,refresh_token:c,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(s){if(ue(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:o}=t;if(o)return this._returnResult({error:o});const c=(s=r.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(a_(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=CT(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:o},error:c}=t;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await ma(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:r}=await this._useSession(async o=>{var c,h,d,f,m;const{data:b,error:v}=o;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(f=b.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(r)throw r;return Et()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(ue(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:r,data:{session:o}}=t;if(r)throw r;const{options:c,provider:h,token:d,access_token:f,nonce:m}=e,b=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:xn}),{data:v,error:x}=b;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ys}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(r){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:o,error:c}=t;if(c)throw c;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await RT(async r=>(r>0&&await OT(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xn})),(r,o)=>{const c=200*Math.pow(2,r);return o&&cc(o)&&Date.now()+c-s<Sa})}catch(s){if(this._debug(t,"error",s),ue(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Et()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await fs(this.storage,this.storageKey);if(r&&this.userStorage){let c=await fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await wa(this.userStorage,this.storageKey+"-user",c)),r.user=(e=c?.user)!==null&&e!==void 0?e:gd()}else if(r&&!r.user&&!r.user){const c=await fs(this.storage,this.storageKey+"-user");c&&c?.user?(r.user=c.user,await wt(this.storage,this.storageKey+"-user"),await wa(this.storage,this.storageKey,r)):r.user=gd()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<dd;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${dd}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),cc(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(r.access_token);!h&&c?.user?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Pc;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Ht;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(r,"error",o),ue(o)){const c={data:null,error:o};return cc(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await wa(this.userStorage,this.storageKey+"-user",{user:t.user});const r=Object.assign({},t);delete r.user;const o=fb(r);await wa(this.storage,this.storageKey,o)}else{const r=fb(t);await wa(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Sa}ms, refresh threshold is ${Fd} ticks`),r<=Fd&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,c]=await ma(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(h.toString())}if(s?.queryParams){const o=new URLSearchParams(s.queryParams);r.push(o.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:o}=t;return o?this._returnResult({data:null,error:o}):await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await be(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((r=d?.totp)===null||r===void 0)&&r.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?aC(e.webauthn.credential_response):rC(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:iC(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:sC(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])r.all.push(o),o.status==="verified"&&r[o.factor_type].push(o);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fd(s.access_token);let c=null;o.aal&&(c=o.aal);let h=c;((t=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new Ht});const c=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Et()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new Ht});const c=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Et()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;return s?this._returnResult({data:null,error:s}):t?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(e){if(ue(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(h=>h.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+bT>r)return s;const{data:o,error:c}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=r,s=o.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});s=x.session.access_token}const{header:r,payload:o,signature:c,raw:{header:h,payload:d}}=fd(s);t?.allowExpired||zT(o.exp);const f=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:o,header:r,signature:c},error:null}}const m=BT(r.alg),b=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,b,c,ET(`${h}.${d}`)))throw new vc("Invalid JWT signature");return{data:{claims:o,header:r,signature:c},error:null}}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}};pf.nextInstanceID={};const pC=ff,mC=pf,yC=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:pC,AuthApiError:s_,AuthClient:mC,AuthError:Oa,AuthImplicitGrantRedirectError:Ir,AuthInvalidCredentialsError:Fr,AuthInvalidJwtError:vc,AuthInvalidTokenResponseError:ys,AuthPKCEGrantCodeExchangeError:qd,AuthRetryableFetchError:bc,AuthSessionMissingError:Ht,AuthUnknownError:Bi,AuthWeakPasswordError:$d,CustomAuthError:hi,GoTrueAdminApi:ff,GoTrueClient:pf,NavigatorLockAcquireTimeoutError:h_,SIGN_OUT_SCOPES:uc,isAuthApiError:a_,isAuthError:ue,isAuthImplicitGrantRedirectError:o_,isAuthRetryableFetchError:cc,isAuthSessionMissingError:r_,isAuthWeakPasswordError:vT,lockInternals:vs,navigatorLock:d_,processLock:WT},Symbol.toStringTag,{value:"Module"})),p_=lo(yC);var xb;function bC(){if(xb)return Nr;xb=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.SupabaseAuthClient=void 0;const i=p_;let e=class extends i.AuthClient{constructor(s){super(s)}};return Nr.SupabaseAuthClient=e,Nr}var Sb;function wb(){if(Sb)return Nl;Sb=1,Object.defineProperty(Nl,"__esModule",{value:!0});const i=A0,e=N0(),t=I0,s=cT,r=hT(),o=dT(),c=fT(),h=bC();class d{constructor(m,b,v){var x,S,E;this.supabaseUrl=m,this.supabaseKey=b;const w=(0,c.validateSupabaseUrl)(m);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",w),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",w),this.storageUrl=new URL("storage/v1",w),this.functionsUrl=new URL("functions/v1",w);const C=`sb-${w.hostname.split(".")[0]}-auth-token`,j={db:r.DEFAULT_DB_OPTIONS,realtime:r.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},r.DEFAULT_AUTH_OPTIONS),{storageKey:C}),global:r.DEFAULT_GLOBAL_OPTIONS},A=(0,c.applySettingDefaults)(v??{},j);this.storageKey=(x=A.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(S=A.global.headers)!==null&&S!==void 0?S:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(D,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=A.auth)!==null&&E!==void 0?E:{},this.headers,A.global.fetch),this.fetch=(0,o.fetchWithAuth)(b,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.accessToken&&this.accessToken().then(D=>this.realtime.setAuth(D)).catch(D=>console.warn("Failed to set initial Realtime auth token:",D)),this.rest=new e.PostgrestClient(new URL("rest/v1",w).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,b={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,b,v)}channel(m,b={config:{}}){return this.realtime.channel(m,b)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,b;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(b=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:b,detectSessionInUrl:v,storage:x,userStorage:S,storageKey:E,flowType:w,lock:C,debug:j,throwOnError:A},D,k){const z={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},z),D),storageKey:E,autoRefreshToken:m,persistSession:b,detectSessionInUrl:v,storage:x,userStorage:S,flowType:w,lock:C,debug:j,throwOnError:A,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new t.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,v)=>{this._handleTokenChanged(b,"CLIENT",v?.access_token)})}_handleTokenChanged(m,b,v){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Nl.default=d,Nl}var Eb;function vC(){return Eb||(Eb=1,(function(i){var e=ti&&ti.__createBinding||(Object.create?(function(m,b,v,x){x===void 0&&(x=v);var S=Object.getOwnPropertyDescriptor(b,v);(!S||("get"in S?!b.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(m,x,S)}):(function(m,b,v,x){x===void 0&&(x=v),m[x]=b[v]})),t=ti&&ti.__exportStar||function(m,b){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(b,v)&&e(b,m,v)},s=ti&&ti.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const r=s(wb());t(p_,i);var o=N0();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var c=A0;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),t(I0,i);var h=wb();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return s(h).default}});const d=(m,b,v)=>new r.default(m,b,v);i.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const b=m.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ti)),ti}var m_=vC();const y_=Zd(m_),_C=Aw({__proto__:null,default:y_},[m_]),{PostgrestError:G2,FunctionsHttpError:V2,FunctionsFetchError:Y2,FunctionsRelayError:W2,FunctionsError:K2,FunctionRegion:X2,SupabaseClient:Q2,createClient:xC,GoTrueAdminApi:J2,GoTrueClient:Z2,AuthAdminApi:eM,AuthClient:tM,navigatorLock:nM,NavigatorLockAcquireTimeoutError:iM,lockInternals:sM,processLock:aM,SIGN_OUT_SCOPES:rM,AuthError:oM,AuthApiError:lM,AuthUnknownError:cM,CustomAuthError:uM,AuthSessionMissingError:hM,AuthInvalidTokenResponseError:dM,AuthInvalidCredentialsError:fM,AuthImplicitGrantRedirectError:gM,AuthPKCEGrantCodeExchangeError:pM,AuthRetryableFetchError:mM,AuthWeakPasswordError:yM,AuthInvalidJwtError:bM,isAuthError:vM,isAuthApiError:_M,isAuthSessionMissingError:xM,isAuthImplicitGrantRedirectError:SM,isAuthRetryableFetchError:wM,isAuthWeakPasswordError:EM,RealtimePresence:TM,RealtimeChannel:CM,RealtimeClient:jM,REALTIME_LISTEN_TYPES:AM,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:OM,REALTIME_PRESENCE_LISTEN_EVENTS:RM,REALTIME_SUBSCRIBE_STATES:MM,REALTIME_CHANNEL_STATES:kM}=y_||_C,SC="https://gimldhrqyzpgaxfueokt.supabase.co",wC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdpbWxkaHJxeXpwZ2F4ZnVlb2t0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNzAwMzksImV4cCI6MjA4MDk0NjAzOX0.jGLt8yyu9psWRus5ksfY-dBvhTfgF3o5SHx2Ngwy0VE",dt=xC(SC,wC),EC=async()=>{const e=`INV-${new Date().getFullYear()}-`,{data:t}=await dt.from("invoices").select("invoice_no").like("invoice_no",`${e}%`).order("invoice_no",{ascending:!1}).limit(1).maybeSingle();if(t){const r=parseInt(t.invoice_no.split("-")[2])+1;return`${e}${String(r).padStart(3,"0")}`}return`${e}001`},TC=async i=>{try{const{client:e,meta:t,items:s,vatRate:r,discount:o,notes:c}=i,h=s.reduce((w,C)=>w+C.qty*C.unitPrice,0),d=Math.max(h-o,0),f=d*r/100,m=d+f;let b=null;if(e.name||e.email){const{data:w}=await dt.from("clients").select("id").eq("email",e.email).maybeSingle();if(w)b=w.id;else{const{data:C,error:j}=await dt.from("clients").insert({name:e.name,company:e.company,address:e.address,phone:e.phone,email:e.email,site_address:e.siteAddress}).select().single();if(j)throw j;b=C.id}}const v=await EC(),{data:x,error:S}=await dt.from("invoices").insert({invoice_no:v,client_id:b,project_name:t.projectName,invoice_date:t.date,due_date:t.dueDate||null,subtotal:h,discount:o,vat_rate:r,vat_amount:f,total:m,notes:c,status:"draft"}).select().single();if(S)throw S;const E=x.id;for(let w=0;w<s.length;w++){const C=s[w],j=C.qty*C.unitPrice,{data:A,error:D}=await dt.from("invoice_items").insert({invoice_id:E,category:C.category,code:C.code,description:C.description,dimensions:C.dimensions,qty:C.qty,unit_price:C.unitPrice,line_total:j,image_url:C.image||null,sort_order:w}).select().single();if(D)throw D;if(C.materials&&C.materials.length>0){const k=C.materials.map(P=>({invoice_item_id:A.id,material_name:P.name,unit:P.unit,qty_per_item:P.qty,total_qty:P.qty*C.qty})),{error:z}=await dt.from("item_materials").insert(k);if(z)throw z}}return{success:!0,invoiceId:E,invoiceNo:v}}catch(e){return console.error("Error saving invoice:",e),console.error("Error details:",{message:e?.message,details:e?.details,hint:e?.hint,code:e?.code}),{success:!1,error:e}}},CC=async i=>{try{const{data:e,error:t}=await dt.from("invoices").select(`
        *,
        clients (
          name,
          company,
          address,
          phone,
          email
        )
      `).eq("id",i).single();if(t)throw t;const{data:s,error:r}=await dt.from("invoice_items").select("*").eq("invoice_id",i).order("sort_order",{ascending:!0});if(r)throw r;const o=await Promise.all(s.map(async c=>{const{data:h,error:d}=await dt.from("item_materials").select("*").eq("invoice_item_id",c.id);if(d)throw d;return{...c,materials:h||[]}}));return{success:!0,data:{invoice:e,items:o}}}catch(e){return console.error("Error fetching invoice details:",e),{success:!1,error:e}}},jC=()=>{const[i]=F.useState({name:"Meduza Studio Works",logoUrl:"/Company%20Logo.svg",address:"Tolon, El Sayeda Zeinab, Cairo , Egypt",phone:"+20 1146700228 / +20 1018705558",email:"info@meduzafurniture.com"}),[e,t]=F.useState({name:"Client Name",company:"Client Company",address:"Client Billing Address",phone:"+20 100 000 0000",email:"client@example.com",siteAddress:"Site / Delivery Address"}),[s,r]=F.useState({invoiceNo:"",date:new Date().toISOString().slice(0,10),dueDate:"",projectName:"Project Name"}),[o,c]=F.useState(14),[h,d]=F.useState(0),[f,m]=F.useState([{id:1,category:"Door",code:"Solid door",description:"Wood: Mouski  Veneer: Oak veneer  Finish: PU matte  Fabric: none",dimensions:"220904 cm",qty:1,unitPrice:8500}]),[b,v]=F.useState(`- Production lead time: 2530 working days from advance payment.
- Delivery & installation inside Cairo & Giza are included.
- Colors and finishes may vary slightly due to natural wood characteristics.`),[x,S]=F.useState({mouskiRate:24e3,zanRate:36e3,aroRate:85e3,beechPineRate:78e3,mdf10RatePerSheet:650,mdf16RatePerSheet:1050,mdf21RatePerSheet:1350,blockboard18RatePerSheet:1650,walnutVeneerRatePerM2:310,oakVeneerRatePerM2:210,beechVeneerRatePerM2:210,hplRatePerSheet:650,lplRatePerSheet:350,finishPuMatteRatePerM2:350,finishPuHighGlossRatePerM2:420,finishNcRatePerM2:280,finishOilRatePerM2:250,glass6RatePerM2:1350,glass10RatePerM2:1750,marbleRatePerM2:4500,ply25RatePerSheet:200,ply27RatePerSheet:390,ply8RatePerSheet:1050,ply12RatePerSheet:1450,ply18RatePerSheet:2050,foamboardRatePerSheet:2100,upholsterySeatOnly:500,upholsteryFull:700,upholsteryArmFull:900,upholsterySofaLowPerM:1250,upholsterySofaHighPerM:1750,fabricLowRate:220,fabricHighRate:450,steelChassisCostPerPiece:1500,laborRatePerHour:160,defaultAccessories:1500,drawerRunnerRate:310,doorHingeRate:89,defaultProfitMargin:30,compliancePerItem:80}),[E,w]=F.useState(!1),[C,j]=F.useState(!1),[A,D]=F.useState(null),[k,z]=F.useState(!1),[P,$]=F.useState(null),[ee,X]=F.useState(!1),[G,Y]=F.useState(null),[re,de]=F.useState(!1),[ge,B]=F.useState(null),[L,te]=F.useState(!1),[ae,pe]=F.useState(null),O=(Z,ve,_e)=>{m(nn=>nn.map(Ln=>Ln.id===Z?{...Ln,[ve]:ve==="qty"||ve==="unitPrice"?Number(_e||0):_e}:Ln))},I=()=>{const Z={id:Date.now(),category:"Custom furniture",code:"",description:"",dimensions:"",qty:1,unitPrice:0};m(ve=>[...ve,Z])},W=Z=>{const ve={id:Date.now(),category:Z,code:Z,description:"",dimensions:"",qty:1,unitPrice:0};m(_e=>[..._e,ve])},ie=Z=>{m(ve=>ve.filter(_e=>_e.id!==Z))},he=(Z,ve)=>{const _e=ve.target.files?.[0];if(!_e)return;const nn=new FileReader;nn.onload=()=>{m(Ln=>Ln.map(za=>za.id===Z?{...za,image:nn.result}:za))},nn.readAsDataURL(_e)},me=()=>({company:i,client:e,meta:s,items:f,vatRate:o,discount:h,notes:b}),Ee=()=>{const Z=me();localStorage.setItem("saved-invoice",JSON.stringify(Z)),alert("Invoice saved locally ")},ke=async()=>{if(!window.confirm("Are you sure you want to add this invoice into the system?"))return;const ve=me(),_e=await TC(ve);_e.success?(alert(`Invoice saved to database successfully! 

Invoice Number: ${_e.invoiceNo}

View analytics in the Dashboard tab.`),r({...s,invoiceNo:_e.invoiceNo||""}),localStorage.setItem("invoice-preview",JSON.stringify({...ve,meta:{...ve.meta,invoiceNo:_e.invoiceNo}}))):(alert("Failed to save invoice to database. Check the browser console for details."),console.error("Save failed:",_e.error))},Me=()=>{const Z=localStorage.getItem("saved-invoice");if(!Z){alert("No saved invoice found.");return}try{const ve=JSON.parse(Z),_e=ve.items.map(nn=>({category:nn.category||"Custom furniture",...nn}));t(ve.client),r(ve.meta),m(_e),c(ve.vatRate),d(ve.discount),v(ve.notes)}catch{alert("Saved invoice is corrupted.")}},tn=Z=>{A&&(m(ve=>ve.map(_e=>_e.id===A?{..._e,unitPrice:Math.round(Z.price),description:Z.description,dimensions:Z.dimensions}:_e)),j(!1))},Ze=Z=>{P&&(m(ve=>ve.map(_e=>_e.id===P?{..._e,unitPrice:Math.round(Z.price),description:Z.description}:_e)),z(!1))},Yi=Z=>{ae&&(m(ve=>ve.map(_e=>_e.id===ae?{..._e,unitPrice:Math.round(Z.price),description:Z.description,dimensions:Z.dimensions||_e.dimensions,materials:Z.materials??_e.materials}:_e)),te(!1))},Rs=Z=>{G&&(m(ve=>ve.map(_e=>_e.id===G?{..._e,unitPrice:Math.round(Z.price),description:Z.description,dimensions:Z.dimensions||_e.dimensions}:_e)),X(!1))},se=Z=>{ge&&(m(ve=>ve.map(_e=>_e.id===ge?{..._e,unitPrice:Math.round(Z.price),description:Z.description}:_e)),de(!1))},Rt=Z=>!Z.dimensions||!Z.dimensions.trim()?(alert("Please enter item dimensions first (H  W  T cm)."),!1):!0,qt=Z=>{Rt(Z)&&(Z.category==="Door"?(D(Z.id),j(!0)):Z.category==="Dining chair"||Z.category==="Arm chair"||Z.category==="Bar stool"||Z.category==="Bench"?($(Z.id),z(!0)):Z.category==="Dining table"||Z.category==="Coffee table"||Z.category==="Side table"||Z.category==="Console table"?(Y(Z.id),X(!0)):Z.category==="Sofa straight"||Z.category==="Sofa curved"?(B(Z.id),de(!0)):Z.category==="Cabinet"?(pe(Z.id),te(!0)):alert("Costing is available for doors, seating, tables, sofas and cabinets."))};return y.jsxs("div",{className:"app",children:[y.jsxs("div",{className:"form-shell",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[y.jsx("h1",{className:"app-title",children:"Meduza Invoice Generator"}),y.jsx("button",{type:"button",className:"btn-outline",style:{whiteSpace:"nowrap"},onClick:()=>w(!0),children:"Pricing Settings"})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Client Info"}),y.jsx(ne,{label:"Client Name",value:e.name,onChange:Z=>t({...e,name:Z})}),y.jsx(ne,{label:"Client Company",value:e.company,onChange:Z=>t({...e,company:Z})}),y.jsx(ne,{label:"Billing Address",value:e.address,onChange:Z=>t({...e,address:Z})}),y.jsx(ne,{label:"Phone",value:e.phone,onChange:Z=>t({...e,phone:Z})}),y.jsx(ne,{label:"Email",value:e.email,onChange:Z=>t({...e,email:Z})}),y.jsx(ne,{label:"Site / Delivery Address",value:e.siteAddress,onChange:Z=>t({...e,siteAddress:Z})})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Invoice Details"}),y.jsx(ne,{label:"Date",type:"date",value:s.date,onChange:Z=>r({...s,date:Z})}),y.jsx(ne,{label:"Due Date",type:"date",value:s.dueDate,onChange:Z=>r({...s,dueDate:Z})}),y.jsx(ne,{label:"Project Name",value:s.projectName,onChange:Z=>r({...s,projectName:Z})})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Quick Add Items"}),y.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Dining chair"),children:"+ Dining chair"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Arm chair"),children:"+ Arm chair"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Bar stool"),children:"+ Bar stool"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Bench"),children:"+ Bench"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Dining table"),children:"+ Dining table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Cabinet"),children:"+ Cabinet"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Coffee table"),children:"+ Coffee table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Side table"),children:"+ Side table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Console table"),children:"+ Console table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Sofa straight"),children:"+ Sofa (straight)"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Sofa curved"),children:"+ Sofa (curved)"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>W("Door"),children:"+ Door"})]})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Items"}),f.map(Z=>y.jsxs("div",{className:"item-card",children:[y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Item Type"}),y.jsxs("select",{className:"input",value:Z.category,onChange:ve=>O(Z.id,"category",ve.target.value),children:[y.jsx("option",{value:"Door",children:"Door"}),y.jsx("option",{value:"Dining chair",children:"Dining chair"}),y.jsx("option",{value:"Arm chair",children:"Arm chair"}),y.jsx("option",{value:"Bar stool",children:"Bar stool"}),y.jsx("option",{value:"Bench",children:"Bench"}),y.jsx("option",{value:"Dining table",children:"Dining table"}),y.jsx("option",{value:"Cabinet",children:"Cabinet"}),y.jsx("option",{value:"Coffee table",children:"Coffee table"}),y.jsx("option",{value:"Side table",children:"Side table"}),y.jsx("option",{value:"Console table",children:"Console table"}),y.jsx("option",{value:"Sofa straight",children:"Sofa straight"}),y.jsx("option",{value:"Sofa curved",children:"Sofa curved"}),y.jsx("option",{value:"Custom furniture",children:"Custom furniture"})]})]}),y.jsx(ne,{label:"Item Name (Invoice)",value:Z.code,onChange:ve=>O(Z.id,"code",ve)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Dimensions (H  W  T cm)",value:Z.dimensions,onChange:ve=>O(Z.id,"dimensions",ve)}),y.jsx(ne,{label:"Qty",type:"number",value:String(Z.qty),onChange:ve=>O(Z.id,"qty",ve)}),y.jsx(ne,{label:"Unit Price",type:"number",value:String(Z.unitPrice),onChange:ve=>O(Z.id,"unitPrice",ve)})]}),y.jsx(ne,{label:"Description",value:Z.description,onChange:ve=>O(Z.id,"description",ve)}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Item Image"}),y.jsx("input",{type:"file",accept:"image/*",onChange:ve=>he(Z.id,ve)})]}),Z.image&&y.jsx("div",{className:"form-image-preview",children:y.jsx("img",{src:Z.image,alt:"Item Preview"})}),y.jsxs("div",{className:"item-footer",children:[y.jsxs("span",{children:["Line Total:"," ",y.jsx("strong",{children:(Z.qty*Z.unitPrice).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),y.jsxs("div",{style:{display:"flex",gap:8},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>qt(Z),children:"Costing"}),y.jsx("button",{type:"button",className:"btn-delete",onClick:()=>ie(Z.id),children:"Remove"})]})]})]},Z.id)),y.jsx("button",{type:"button",className:"btn-outline",onClick:I,children:"+ Add Item"})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Totals & Tax"}),y.jsx(ne,{label:"Discount (EGP)",type:"number",value:String(h),onChange:Z=>d(Number(Z||0))}),y.jsx(ne,{label:"VAT %",type:"number",value:String(o),onChange:Z=>c(Number(Z||0))})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Notes / Terms"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Notes"}),y.jsx("textarea",{className:"textarea",value:b,onChange:Z=>v(Z.target.value),rows:4})]})]}),y.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[y.jsx("button",{className:"btn-outline",onClick:Ee,children:"Save Locally"}),y.jsx("button",{className:"btn-outline",onClick:Me,children:"Load Local"})]}),y.jsx("button",{className:"btn-primary",onClick:ke,children:"Submit"})]}),y.jsx(AC,{isOpen:E,config:x,onChange:S,onClose:()=>w(!1)}),y.jsx(OC,{isOpen:C,onClose:()=>j(!1),onApply:tn,pricing:x}),y.jsx(RC,{isOpen:k,onClose:()=>z(!1),onApply:Ze,pricing:x}),y.jsx(MC,{isOpen:ee,onClose:()=>X(!1),onApply:Rs,pricing:x}),y.jsx(kC,{isOpen:re,onClose:()=>de(!1),onApply:se,pricing:x}),y.jsx(DC,{isOpen:L,onClose:()=>te(!1),onApply:Yi,pricing:x})]})},AC=({isOpen:i,config:e,onChange:t,onClose:s})=>{const[r,o]=F.useState(e),c=(d,f)=>{o(m=>({...m,[d]:Number(f||0)}))},h=()=>{t(r),s()};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Pricing Settings"}),y.jsx("h3",{className:"card-title",style:{fontSize:12},children:"Natural Wood (EGP / m)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Mouski",type:"number",value:String(r.mouskiRate),onChange:d=>c("mouskiRate",d)}),y.jsx(ne,{label:"Zan (Beech)",type:"number",value:String(r.zanRate),onChange:d=>c("zanRate",d)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Aro (Oak)",type:"number",value:String(r.aroRate),onChange:d=>c("aroRate",d)}),y.jsx(ne,{label:"Beech Pine",type:"number",value:String(r.beechPineRate),onChange:d=>c("beechPineRate",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"MDF Panels (EGP / sheet 122244)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"MDF 10 mm",type:"number",value:String(r.mdf10RatePerSheet),onChange:d=>c("mdf10RatePerSheet",d)}),y.jsx(ne,{label:"MDF 16 mm",type:"number",value:String(r.mdf16RatePerSheet),onChange:d=>c("mdf16RatePerSheet",d)}),y.jsx(ne,{label:"MDF 21 mm",type:"number",value:String(r.mdf21RatePerSheet),onChange:d=>c("mdf21RatePerSheet",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Blockboard & Marble"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Blockboard 18mm (sheet)",type:"number",value:String(r.blockboard18RatePerSheet),onChange:d=>c("blockboard18RatePerSheet",d)}),y.jsx(ne,{label:"Marble (EGP / m)",type:"number",value:String(r.marbleRatePerM2),onChange:d=>c("marbleRatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Veneer (EGP / m)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Walnut",type:"number",value:String(r.walnutVeneerRatePerM2),onChange:d=>c("walnutVeneerRatePerM2",d)}),y.jsx(ne,{label:"Oak",type:"number",value:String(r.oakVeneerRatePerM2),onChange:d=>c("oakVeneerRatePerM2",d)}),y.jsx(ne,{label:"Beech",type:"number",value:String(r.beechVeneerRatePerM2),onChange:d=>c("beechVeneerRatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"HPL / LPL (EGP / sheet 122244)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"HPL",type:"number",value:String(r.hplRatePerSheet),onChange:d=>c("hplRatePerSheet",d)}),y.jsx(ne,{label:"LPL",type:"number",value:String(r.lplRatePerSheet),onChange:d=>c("lplRatePerSheet",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Finish (EGP / m / face)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"PU matte",type:"number",value:String(r.finishPuMatteRatePerM2),onChange:d=>c("finishPuMatteRatePerM2",d)}),y.jsx(ne,{label:"PU high gloss",type:"number",value:String(r.finishPuHighGlossRatePerM2),onChange:d=>c("finishPuHighGlossRatePerM2",d)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"NC",type:"number",value:String(r.finishNcRatePerM2),onChange:d=>c("finishNcRatePerM2",d)}),y.jsx(ne,{label:"Oil / stain",type:"number",value:String(r.finishOilRatePerM2),onChange:d=>c("finishOilRatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Glass (EGP / m)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Glass 6mm white",type:"number",value:String(r.glass6RatePerM2),onChange:d=>c("glass6RatePerM2",d)}),y.jsx(ne,{label:"Glass 10mm white",type:"number",value:String(r.glass10RatePerM2),onChange:d=>c("glass10RatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Ply wood (EGP / sheet 122244)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"PLY 2.5mm",type:"number",value:String(r.ply25RatePerSheet),onChange:d=>c("ply25RatePerSheet",d)}),y.jsx(ne,{label:"PLY 2.7mm",type:"number",value:String(r.ply27RatePerSheet),onChange:d=>c("ply27RatePerSheet",d)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"PLY 8mm",type:"number",value:String(r.ply8RatePerSheet),onChange:d=>c("ply8RatePerSheet",d)}),y.jsx(ne,{label:"PLY 12mm",type:"number",value:String(r.ply12RatePerSheet),onChange:d=>c("ply12RatePerSheet",d)}),y.jsx(ne,{label:"PLY 18mm",type:"number",value:String(r.ply18RatePerSheet),onChange:d=>c("ply18RatePerSheet",d)}),y.jsx(ne,{label:"Foamboard 18mm (sheet)",type:"number",value:String(r.foamboardRatePerSheet),onChange:d=>c("foamboardRatePerSheet",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Upholstery (chairs / benches)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Seat only",type:"number",value:String(r.upholsterySeatOnly),onChange:d=>c("upholsterySeatOnly",d)}),y.jsx(ne,{label:"Full seat",type:"number",value:String(r.upholsteryFull),onChange:d=>c("upholsteryFull",d)}),y.jsx(ne,{label:"Full arm chair",type:"number",value:String(r.upholsteryArmFull),onChange:d=>c("upholsteryArmFull",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Upholstery (sofas)  per meter"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Sofa upholstery low / m",type:"number",value:String(r.upholsterySofaLowPerM),onChange:d=>c("upholsterySofaLowPerM",d)}),y.jsx(ne,{label:"Sofa upholstery high / m",type:"number",value:String(r.upholsterySofaHighPerM),onChange:d=>c("upholsterySofaHighPerM",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Fabric (EGP / meter)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Fabric low (220)",type:"number",value:String(r.fabricLowRate),onChange:d=>c("fabricLowRate",d)}),y.jsx(ne,{label:"Fabric high (450)",type:"number",value:String(r.fabricHighRate),onChange:d=>c("fabricHighRate",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Steel chassis"}),y.jsx("div",{className:"item-row",children:y.jsx(ne,{label:"Steel chassis / piece",type:"number",value:String(r.steelChassisCostPerPiece),onChange:d=>c("steelChassisCostPerPiece",d)})}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Hardware"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Drawer runner / drawer",type:"number",value:String(r.drawerRunnerRate),onChange:d=>c("drawerRunnerRate",d)}),y.jsx(ne,{label:"Door hinge / piece",type:"number",value:String(r.doorHingeRate),onChange:d=>c("doorHingeRate",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Labor"}),y.jsx("div",{className:"item-row",children:y.jsx(ne,{label:"Labor rate (EGP / hour)",type:"number",value:String(r.laborRatePerHour),onChange:d=>c("laborRatePerHour",d)})}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Defaults & Compliance"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Default accessories (EGP)",type:"number",value:String(r.defaultAccessories),onChange:d=>c("defaultAccessories",d)}),y.jsx(ne,{label:"Default profit margin %",type:"number",value:String(r.defaultProfitMargin),onChange:d=>c("defaultProfitMargin",d)}),y.jsx(ne,{label:"Compliance / item (EGP)",type:"number",value:String(r.compliancePerItem),onChange:d=>c("compliancePerItem",d)})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:s,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:h,children:"Save"})]})]})}):null},OC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,o]=F.useState({heightCm:220,widthCm:90,thicknessCm:4,veneerType:"Oak",finishType:"PU matte",woodType:"Mouski",glassType:"None",glassAreaM2:0,accessoriesCost:s.defaultAccessories,overheadCost:0,laborHours:0,hasSteelChassis:!1,profitMargin:s.defaultProfitMargin}),c=(Y,re)=>{o(typeof re=="boolean"?de=>({...de,[Y]:re}):de=>({...de,[Y]:typeof de[Y]=="number"?Number(re||0):re}))},h=r.heightCm/100*(r.widthCm/100),d=h*2,f=h*(r.thicknessCm/100),m=.045*(r.heightCm/220)*(r.widthCm/90);let b=s.mouskiRate;r.woodType==="Zan"&&(b=s.zanRate),r.woodType==="Aro"&&(b=s.aroRate),r.woodType==="BeechPine"&&(b=s.beechPineRate);const v=m*b,x=1.22*2.44,E=d/x*s.mdf10RatePerSheet;let w=0,C=0;if(r.veneerType==="Walnut")w=d*s.walnutVeneerRatePerM2;else if(r.veneerType==="Oak")w=d*s.oakVeneerRatePerM2;else if(r.veneerType==="Beech")w=d*s.beechVeneerRatePerM2;else if(r.veneerType==="HPL"||r.veneerType==="LPL"){const Y=d/x;r.veneerType==="HPL"?w=Y*s.hplRatePerSheet:r.veneerType==="LPL"&&(w=Y*s.lplRatePerSheet),C=0}if(r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"){let Y=0;r.finishType==="PU matte"?Y=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?Y=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?Y=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(Y=s.finishOilRatePerM2),C=d*Y}let j=0;r.glassType==="Glass6"?j=r.glassAreaM2*s.glass6RatePerM2:r.glassType==="Glass10"&&(j=r.glassAreaM2*s.glass10RatePerM2);const A=r.hasSteelChassis?s.steelChassisCostPerPiece:0,D=r.laborHours*s.laborRatePerHour,k=v+E+w+C+j+A+r.accessoriesCost+r.overheadCost+D,z=k*r.profitMargin/100,P=k+z,$=r.veneerType==="HPL"||r.veneerType==="LPL",ee=r.glassType==="Glass6"||r.glassType==="Glass10",X=()=>{const Y=[];let re="Mouski";r.woodType==="Zan"?re="Zan (Beech)":r.woodType==="Aro"?re="Aro (Oak)":r.woodType==="BeechPine"&&(re="Beech pine"),Y.push(`Wood: ${re}`);let de="";return r.veneerType==="Walnut"?de="Walnut veneer":r.veneerType==="Oak"?de="Oak veneer":r.veneerType==="Beech"?de="Beech veneer":r.veneerType==="HPL"?de="HPL facing":r.veneerType==="LPL"&&(de="LPL facing"),Y.push(`Veneer: ${de}`),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"?Y.push(`Finish: ${r.finishType}`):Y.push("Finish: none (HPL / LPL)"),r.glassType==="Glass6"?Y.push(`Glass: 6mm white, ${r.glassAreaM2.toFixed(2)} m`):r.glassType==="Glass10"?Y.push(`Glass: 10mm white, ${r.glassAreaM2.toFixed(2)} m`):Y.push("Glass: none"),r.hasSteelChassis&&Y.push("Steel chassis: yes"),Y.join("  ")},G=()=>{const Y=X(),re=`${r.heightCm}${r.widthCm}${r.thicknessCm} cm`;t({price:P,description:Y,dimensions:re})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Door Costing"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Height (cm)",type:"number",value:String(r.heightCm),onChange:Y=>c("heightCm",Y)}),y.jsx(ne,{label:"Width (cm)",type:"number",value:String(r.widthCm),onChange:Y=>c("widthCm",Y)}),y.jsx(ne,{label:"Thickness (cm)",type:"number",value:String(r.thicknessCm),onChange:Y=>c("thicknessCm",Y)})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Frame wood type"}),y.jsxs("select",{className:"input",value:r.woodType,onChange:Y=>c("woodType",Y.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Facing / Skin Type"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:Y=>c("veneerType",Y.target.value),children:[y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"}),y.jsx("option",{value:"HPL",children:"HPL"}),y.jsx("option",{value:"LPL",children:"LPL"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:Y=>c("finishType",Y.target.value),disabled:$,children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]}),$&&y.jsx("span",{style:{fontSize:10,color:"#9ca3af",marginTop:2,display:"block"},children:"HPL / LPL     (Finish cost = 0)"})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Glass"}),y.jsxs("select",{className:"input",value:r.glassType,onChange:Y=>c("glassType",Y.target.value),children:[y.jsx("option",{value:"None",children:"No glass"}),y.jsx("option",{value:"Glass6",children:"Glass 6mm white"}),y.jsx("option",{value:"Glass10",children:"Glass 10mm white"})]})]}),ee&&y.jsx(ne,{label:"Glass area (m)",type:"number",value:String(r.glassAreaM2),onChange:Y=>c("glassAreaM2",Y)}),y.jsx(ne,{label:"Accessories (EGP)",type:"number",value:String(r.accessoriesCost),onChange:Y=>c("accessoriesCost",Y)}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:Y=>c("overheadCost",Y)}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:Y=>c("laborHours",Y)}),y.jsxs("label",{className:"field field-inline",children:[y.jsx("span",{className:"field-label",children:"Steel chassis"}),y.jsx("input",{type:"checkbox",checked:r.hasSteelChassis,onChange:Y=>c("hasSteelChassis",Y.target.checked)}),y.jsxs("span",{className:"field-hint",children:["+"," ",s.steelChassisCostPerPiece.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})," ","per piece"]})]}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:Y=>c("profitMargin",Y)}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Leaf area (one face): ",h.toFixed(2)," m"]}),y.jsxs("div",{children:["Area both faces: ",d.toFixed(2)," m"]}),y.jsxs("div",{children:["Leaf volume: ",f.toFixed(3)," m"]}),y.jsxs("div",{children:["Frame volume (natural wood): ",m.toFixed(3)," m"]}),y.jsxs("div",{children:["Natural wood cost: ",v.toFixed(0)," EGP"]}),y.jsxs("div",{children:["MDF 10mm (both faces): ",E.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Skin / veneer / HPL / LPL: ",w.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Glass cost: ",j.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Accessories: ",r.accessoriesCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h "," ",s.laborRatePerHour," = ",D.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Steel chassis: ",A.toFixed(0)," EGP"]}),y.jsx("div",{style:{marginTop:4},children:y.jsxs("strong",{children:["Material cost: ",k.toFixed(0)," EGP"]})}),y.jsxs("div",{children:["Profit (",r.profitMargin,"%): ",z.toFixed(0)," EGP"]}),y.jsx("div",{children:y.jsxs("strong",{children:["Suggested selling price / door: ",P.toFixed(0)," EGP"]})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:G,children:"Apply to Item"})]})]})}):null},RC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const r=(G,Y)=>G==="Dining chair"?Y==="Light"?.025:.035:G==="Bar stool"?Y==="Light"?.03:.04:G==="Bench"?Y==="Light"?.035:.05:Y==="Light"?.04:.06,o=(G,Y)=>G==="Dining chair"?Y==="Light"?3:4:G==="Bar stool"?Y==="Light"?3:4.5:G==="Bench"?Y==="Light"?3.5:5:Y==="Light"?4:5.5,[c,h]=F.useState(()=>{const G="Dining chair",Y="Light";return{itemType:G,detailLevel:Y,solidVolumeM3:r(G,Y),woodType:"Mouski",hasPly:!1,plyThickness:"2.7",plySheets:2,areaM2:1.2,veneerType:"None",finishType:"PU matte",upholsteryType:"Seat only",fabricType:"Low",fabricMeters:1.5,hasSteelChassis:!1,overheadCost:350,laborHours:o(G,Y),profitMargin:s.defaultProfitMargin}}),d=(G,Y)=>{h(re=>{const de={...re,[G]:Y};if(G==="itemType"||G==="detailLevel"){const ge=G==="itemType"?Y:de.itemType,B=G==="detailLevel"?Y:de.detailLevel;de.solidVolumeM3=r(ge,B),de.laborHours=o(ge,B)}return de})};let f=s.mouskiRate;c.woodType==="Zan"&&(f=s.zanRate),c.woodType==="Aro"&&(f=s.aroRate),c.woodType==="BeechPine"&&(f=s.beechPineRate);const m=c.solidVolumeM3*f;let b=0;c.plyThickness==="2.5"?b=s.ply25RatePerSheet:c.plyThickness==="2.7"?b=s.ply27RatePerSheet:c.plyThickness==="8"?b=s.ply8RatePerSheet:c.plyThickness==="12"?b=s.ply12RatePerSheet:c.plyThickness==="18"&&(b=s.ply18RatePerSheet);const v=c.hasPly?c.plySheets*b:0;let x=0;c.veneerType==="Walnut"?x=s.walnutVeneerRatePerM2:c.veneerType==="Oak"?x=s.oakVeneerRatePerM2:c.veneerType==="Beech"&&(x=s.beechVeneerRatePerM2);const S=c.veneerType==="None"?0:c.areaM2*x;let E=0;c.finishType==="PU matte"?E=s.finishPuMatteRatePerM2:c.finishType==="PU high gloss"?E=s.finishPuHighGlossRatePerM2:c.finishType==="NC"?E=s.finishNcRatePerM2:c.finishType==="Oil / stain"&&(E=s.finishOilRatePerM2);const w=c.areaM2*E;let C=0;c.upholsteryType==="Seat only"?C=s.upholsterySeatOnly:c.upholsteryType==="Full"?C=s.upholsteryFull:c.upholsteryType==="Full arm chair"&&(C=s.upholsteryArmFull);let j=0;c.fabricType==="Low"?j=s.fabricLowRate:c.fabricType==="High"&&(j=s.fabricHighRate);const A=c.upholsteryType==="None"?0:c.fabricMeters*j,D=c.hasSteelChassis?s.steelChassisCostPerPiece:0,k=c.laborHours*s.laborRatePerHour,z=m+v+S+w+C+A+c.overheadCost+k+D,P=z*c.profitMargin/100,$=z+P,ee=()=>{const G=[];let Y="Mouski";c.woodType==="Zan"?Y="Zan (Beech)":c.woodType==="Aro"?Y="Aro (Oak)":c.woodType==="BeechPine"&&(Y="Beech pine"),G.push(`Wood: ${Y}`);let re="none";if(c.veneerType==="Walnut"?re="Walnut veneer":c.veneerType==="Oak"?re="Oak veneer":c.veneerType==="Beech"&&(re="Beech veneer"),G.push(`Veneer: ${re}`),G.push(`Finish: ${c.finishType}`),c.upholsteryType==="None")G.push("Fabric: none");else{const de=c.fabricType==="Low"?"Low grade":"High grade";G.push(`Fabric: ${de} (${j} EGP/m, ${c.fabricMeters.toFixed(2)} m)`)}return G.join("  ")},X=()=>{const G=ee();t({price:$,description:G,dimensions:""})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Seating Costing (Chairs / Bench / Bar stool)"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Item type"}),y.jsxs("select",{className:"input",value:c.itemType,onChange:G=>d("itemType",G.target.value),children:[y.jsx("option",{children:"Dining chair"}),y.jsx("option",{children:"Bar stool"}),y.jsx("option",{children:"Bench"}),y.jsx("option",{children:"Arm chair"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Solid wood details"}),y.jsxs("select",{className:"input",value:c.detailLevel,onChange:G=>d("detailLevel",G.target.value),children:[y.jsx("option",{value:"Light",children:"Simple details (less wood)"}),y.jsx("option",{value:"Heavy",children:"Rich details (more wood)"})]}),y.jsxs("span",{className:"field-hint",children:["Volume: ",c.solidVolumeM3.toFixed(3)," m"]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Wood type"}),y.jsxs("select",{className:"input",value:c.woodType,onChange:G=>d("woodType",G.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field field-inline",children:[y.jsx("span",{className:"field-label",children:"Curved back / ply layers"}),y.jsx("input",{type:"checkbox",checked:c.hasPly,onChange:G=>d("hasPly",G.target.checked)})]}),c.hasPly&&y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Ply thickness"}),y.jsxs("select",{className:"input",value:c.plyThickness,onChange:G=>d("plyThickness",G.target.value),children:[y.jsx("option",{value:"2.5",children:"2.5 mm"}),y.jsx("option",{value:"2.7",children:"2.7 mm"}),y.jsx("option",{value:"8",children:"8 mm"}),y.jsx("option",{value:"12",children:"12 mm"}),y.jsx("option",{value:"18",children:"18 mm"})]})]}),y.jsx(ne,{label:"Ply sheets (pcs)",type:"number",value:String(c.plySheets),onChange:G=>d("plySheets",Number(G||0))})]}),y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Veneer"}),y.jsxs("select",{className:"input",value:c.veneerType,onChange:G=>d("veneerType",G.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),y.jsx(ne,{label:"Area for veneer/finish (m)",type:"number",value:String(c.areaM2),onChange:G=>d("areaM2",Number(G||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:c.finishType,onChange:G=>d("finishType",G.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Upholstery"}),y.jsxs("select",{className:"input",value:c.upholsteryType,onChange:G=>d("upholsteryType",G.target.value),children:[y.jsx("option",{children:"None"}),y.jsx("option",{children:"Seat only"}),y.jsx("option",{children:"Full"}),y.jsx("option",{children:"Full arm chair"})]})]}),c.upholsteryType!=="None"&&y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Fabric type"}),y.jsxs("select",{className:"input",value:c.fabricType,onChange:G=>d("fabricType",G.target.value),children:[y.jsx("option",{value:"Low",children:"Low (220 EGP/m default)"}),y.jsx("option",{value:"High",children:"High (450 EGP/m default)"})]})]}),y.jsx(ne,{label:"Fabric length (m)",type:"number",value:String(c.fabricMeters),onChange:G=>d("fabricMeters",Number(G||0))})]}),y.jsxs("label",{className:"field field-inline",children:[y.jsx("span",{className:"field-label",children:"Steel chassis"}),y.jsx("input",{type:"checkbox",checked:c.hasSteelChassis,onChange:G=>d("hasSteelChassis",G.target.checked)}),y.jsxs("span",{className:"field-hint",children:["+"," ",s.steelChassisCostPerPiece.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})," ","per piece"]})]}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(c.overheadCost),onChange:G=>d("overheadCost",Number(G||0))}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(c.laborHours),onChange:G=>d("laborHours",Number(G||0))}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(c.profitMargin),onChange:G=>d("profitMargin",Number(G||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Natural wood cost: ",m.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Ply cost: ",v.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer cost: ",S.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",w.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Upholstery labor: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Fabric cost: ",A.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Steel chassis: ",D.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",c.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",c.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",k.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",z.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",c.profitMargin,"%): ",P.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / piece: ",$.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:X,children:"Apply to Item"})]})]})}):null},MC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,o]=F.useState({lengthCm:220,widthCm:110,heightCm:74,legMaterial:"Wood",woodType:"Mouski",topMaterial:"Marble",veneerType:"None",finishType:"PU matte",overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(X,G)=>{o(Y=>({...Y,[X]:G}))},h=1.22*2.44,d=r.lengthCm/100*(r.widthCm/100);let f=0;r.legMaterial==="Wood"&&(f=.35*(r.lengthCm/220)*(r.widthCm/110)*(r.heightCm/74));let m=s.mouskiRate;r.woodType==="Zan"&&(m=s.zanRate),r.woodType==="Aro"&&(m=s.aroRate),r.woodType==="BeechPine"&&(m=s.beechPineRate);const b=f*m;let v=0,x=0,S=0;r.topMaterial==="MDF16"?v=d/h*s.mdf16RatePerSheet:r.topMaterial==="MDF21"?v=d/h*s.mdf21RatePerSheet:r.topMaterial==="Blockboard18"?v=d/h*s.blockboard18RatePerSheet:r.topMaterial==="Marble"?x=d*s.marbleRatePerM2:r.topMaterial==="Glass6"?S=d*s.glass6RatePerM2:r.topMaterial==="Glass10"&&(S=d*s.glass10RatePerM2);const E=r.topMaterial==="MDF16"||r.topMaterial==="MDF21"||r.topMaterial==="Blockboard18";let w=0;r.veneerType==="Walnut"?w=s.walnutVeneerRatePerM2:r.veneerType==="Oak"?w=s.oakVeneerRatePerM2:r.veneerType==="Beech"&&(w=s.beechVeneerRatePerM2);const C=E&&r.veneerType!=="None"?d*w:0;let j=0;r.finishType==="PU matte"?j=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?j=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?j=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(j=s.finishOilRatePerM2);const A=E&&r.veneerType!=="None"?d*j:0,D=r.laborHours*s.laborRatePerHour,k=b+v+x+S+C+A+r.overheadCost+D,z=k*r.profitMargin/100,P=k+z,$=()=>{const X=[];let G="";r.topMaterial==="MDF16"?G="MDF 16mm":r.topMaterial==="MDF21"?G="MDF 21mm":r.topMaterial==="Blockboard18"?G="Blockboard 18mm":r.topMaterial==="Marble"?G="Marble top":r.topMaterial==="Glass6"?G="Glass 6mm top":r.topMaterial==="Glass10"&&(G="Glass 10mm top");let Y="Steel";if(r.legMaterial==="Wood"){let re="Mouski";r.woodType==="Zan"?re="Zan (Beech)":r.woodType==="Aro"?re="Aro (Oak)":r.woodType==="BeechPine"&&(re="Beech pine"),Y=re}if(X.push(`Top: ${G}`),X.push(`Legs: ${Y}`),E&&r.veneerType!=="None"){let re="";r.veneerType==="Walnut"?re="Walnut veneer":r.veneerType==="Oak"?re="Oak veneer":r.veneerType==="Beech"&&(re="Beech veneer"),X.push(`Veneer: ${re}`),X.push(`Finish: ${r.finishType}`)}return X.join("  ")},ee=()=>{const X=$(),G=`${r.lengthCm}${r.widthCm}${r.heightCm} cm`;t({price:P,description:X,dimensions:G})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Table Costing"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Length (cm)",type:"number",value:String(r.lengthCm),onChange:X=>c("lengthCm",Number(X||0))}),y.jsx(ne,{label:"Width (cm)",type:"number",value:String(r.widthCm),onChange:X=>c("widthCm",Number(X||0))}),y.jsx(ne,{label:"Height (cm)",type:"number",value:String(r.heightCm),onChange:X=>c("heightCm",Number(X||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Leg material"}),y.jsxs("select",{className:"input",value:r.legMaterial,onChange:X=>c("legMaterial",X.target.value),children:[y.jsx("option",{value:"Wood",children:"Wood"}),y.jsx("option",{value:"Steel",children:"Steel"})]})]}),r.legMaterial==="Wood"&&y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Leg wood type"}),y.jsxs("select",{className:"input",value:r.woodType,onChange:X=>c("woodType",X.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Top material"}),y.jsxs("select",{className:"input",value:r.topMaterial,onChange:X=>c("topMaterial",X.target.value),children:[y.jsx("option",{value:"MDF16",children:"MDF 16mm"}),y.jsx("option",{value:"MDF21",children:"MDF 21mm"}),y.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),y.jsx("option",{value:"Marble",children:"Marble"}),y.jsx("option",{value:"Glass6",children:"Glass 6mm"}),y.jsx("option",{value:"Glass10",children:"Glass 10mm"})]})]}),E&&y.jsxs(y.Fragment,{children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Veneer"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:X=>c("veneerType",X.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),r.veneerType!=="None"&&y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:X=>c("finishType",X.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]}),y.jsx("span",{className:"field-hint",children:"Finish is applied on the veneered wooden top area."})]})]}),!E&&y.jsx("span",{className:"field-hint",style:{marginTop:4,display:"block"},children:"Marble / glass tops do not take veneer or finish here."}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:X=>c("overheadCost",Number(X||0))}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:X=>c("laborHours",Number(X||0))}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:X=>c("profitMargin",Number(X||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Top area: ",d.toFixed(2)," m"]}),y.jsxs("div",{children:["Legs wood volume: ",f.toFixed(3)," m"]}),y.jsxs("div",{children:["Legs wood cost: ",b.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Top core cost: ",v.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Marble cost: ",x.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Glass cost: ",S.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer cost: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",A.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",D.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",k.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",r.profitMargin,"%): ",z.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / table: ",P.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:ee,children:"Apply to Item"})]})]})}):null},kC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,o]=F.useState({sofaType:"Straight",lengthM:2.5,woodType:"Mouski",solidVolumePerM3:.06,veneerType:"None",veneerAreaM2:4,finishType:"PU matte",upholsteryQuality:"Low",fabricGrade:"Low",fabricMeters:8,overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=($,ee)=>{o(X=>{const G={...X,[$]:ee};return $==="sofaType"&&(G.solidVolumePerM3=ee==="Straight"?.06:.08),G})};let h=s.mouskiRate;r.woodType==="Zan"&&(h=s.zanRate),r.woodType==="Aro"&&(h=s.aroRate),r.woodType==="BeechPine"&&(h=s.beechPineRate);const d=r.lengthM*r.solidVolumePerM3,f=d*h;let m=0;r.veneerType==="Walnut"?m=s.walnutVeneerRatePerM2:r.veneerType==="Oak"?m=s.oakVeneerRatePerM2:r.veneerType==="Beech"&&(m=s.beechVeneerRatePerM2);const b=r.veneerType==="None"?0:r.veneerAreaM2*m;let v=0;r.finishType==="PU matte"?v=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?v=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?v=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(v=s.finishOilRatePerM2);const x=r.veneerType==="None"?0:r.veneerAreaM2*v;let S=0;r.upholsteryQuality==="Low"?S=s.upholsterySofaLowPerM:r.upholsteryQuality==="High"&&(S=s.upholsterySofaHighPerM);const E=r.upholsteryQuality==="None"?0:r.lengthM*S;let w=0;r.fabricGrade==="Low"?w=s.fabricLowRate:r.fabricGrade==="High"&&(w=s.fabricHighRate);const C=r.upholsteryQuality==="None"?0:r.fabricMeters*w,j=r.laborHours*s.laborRatePerHour,A=f+b+x+E+C+r.overheadCost+j,D=A*r.profitMargin/100,k=A+D,z=()=>{const $=[];let ee="Mouski";r.woodType==="Zan"?ee="Zan (Beech)":r.woodType==="Aro"?ee="Aro (Oak)":r.woodType==="BeechPine"&&(ee="Beech pine"),$.push(`Wood: ${ee}`);let X="none";if(r.veneerType==="Walnut"?X="Walnut veneer":r.veneerType==="Oak"?X="Oak veneer":r.veneerType==="Beech"&&(X="Beech veneer"),$.push(`Veneer: ${X}`),$.push(`Finish: ${r.veneerType==="None"?"none":r.finishType}`),r.upholsteryQuality==="None")$.push("Fabric: none");else{const G=r.fabricGrade==="Low"?"Low grade":"High grade";$.push(`Fabric: ${G} (${w} EGP/m, ${r.fabricMeters.toFixed(2)} m)`)}return $.join("  ")},P=()=>{const $=z();t({price:k,description:$,dimensions:""})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Sofa Costing (per meter)"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Sofa type"}),y.jsxs("select",{className:"input",value:r.sofaType,onChange:$=>c("sofaType",$.target.value),children:[y.jsx("option",{value:"Straight",children:"Straight"}),y.jsx("option",{value:"Curved",children:"Curved"})]}),y.jsx("span",{className:"field-hint",children:"Curved sofas take more wood and labor."})]}),y.jsx(ne,{label:"Length (m)",type:"number",value:String(r.lengthM),onChange:$=>c("lengthM",Number($||0))}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Wood type"}),y.jsxs("select",{className:"input",value:r.woodType,onChange:$=>c("woodType",$.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Veneer"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:$=>c("veneerType",$.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),r.veneerType!=="None"&&y.jsxs(y.Fragment,{children:[y.jsx(ne,{label:"Veneer / finish area (m)",type:"number",value:String(r.veneerAreaM2),onChange:$=>c("veneerAreaM2",Number($||0))}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:$=>c("finishType",$.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Upholstery quality"}),y.jsxs("select",{className:"input",value:r.upholsteryQuality,onChange:$=>c("upholsteryQuality",$.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Low",children:"Low (1250 EGP/m default)"}),y.jsx("option",{value:"High",children:"High (1750 EGP/m default)"})]})]}),r.upholsteryQuality!=="None"&&y.jsxs(y.Fragment,{children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Fabric grade"}),y.jsxs("select",{className:"input",value:r.fabricGrade,onChange:$=>c("fabricGrade",$.target.value),children:[y.jsx("option",{value:"Low",children:"Low (220 EGP/m default)"}),y.jsx("option",{value:"High",children:"High (450 EGP/m default)"})]})]}),y.jsx(ne,{label:"Fabric length (m)",type:"number",value:String(r.fabricMeters),onChange:$=>c("fabricMeters",Number($||0))})]}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:$=>c("overheadCost",Number($||0))}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:$=>c("laborHours",Number($||0))}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:$=>c("profitMargin",Number($||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Wood volume: ",d.toFixed(3)," m"]}),y.jsxs("div",{children:["Wood cost: ",f.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer cost: ",b.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",x.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Upholstery cost: ",E.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Fabric cost: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",j.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",A.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",r.profitMargin,"%): ",D.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / sofa: ",k.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:P,children:"Apply to Item"})]})]})}):null},DC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,o]=F.useState({widthCm:80,heightCm:220,depthCm:40,bodyMaterial:"MDF16",faceMaterial:"MDF16",doorsCount:2,shelvesCount:4,drawersCount:0,veneerType:"None",finishType:"PU matte",accessoriesCost:s.defaultAccessories,overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(se,Rt)=>{o(qt=>({...qt,[se]:Rt}))},h=1.22*2.44,d=r.widthCm/100,f=r.heightCm/100,m=r.depthCm/100,b=2*f*m,v=2*d*m,x=d*f*.3,S=b+v+x,E=d*f,w=d*m,C=r.shelvesCount*w,j=S+C;let A=s.mdf16RatePerSheet;r.bodyMaterial==="MDF21"?A=s.mdf21RatePerSheet:r.bodyMaterial==="Blockboard18"?A=s.blockboard18RatePerSheet:r.bodyMaterial==="Ply18"?A=s.ply18RatePerSheet:r.bodyMaterial==="Foamboard"&&(A=s.foamboardRatePerSheet);const D=j/h,k=D*A,z=E/h,P=z*s.mdf10RatePerSheet,$=E;let ee=s.mdf16RatePerSheet;r.faceMaterial==="MDF21"?ee=s.mdf21RatePerSheet:r.faceMaterial==="Blockboard18"?ee=s.blockboard18RatePerSheet:r.faceMaterial==="Ply18"?ee=s.ply18RatePerSheet:r.faceMaterial==="Foamboard"&&(ee=s.foamboardRatePerSheet);const X=$/h,G=X*ee,re=d*f+S*.4;let de=0,ge=0,B=0;if(r.veneerType==="Walnut"?B=s.walnutVeneerRatePerM2:r.veneerType==="Oak"?B=s.oakVeneerRatePerM2:r.veneerType==="Beech"&&(B=s.beechVeneerRatePerM2),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"){de=re*B;let se=0;r.finishType==="PU matte"?se=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?se=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?se=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(se=s.finishOilRatePerM2),ge=re*se}else if(r.veneerType==="HPL"||r.veneerType==="LPL"){const se=re/h;r.veneerType==="HPL"?de=se*s.hplRatePerSheet:de=se*s.lplRatePerSheet,ge=0}const L=2*(.4*.18)+2*(.3*.18),te=.4*.3,ae=r.drawersCount*L/h,pe=r.drawersCount*te/h,O=ae*s.ply12RatePerSheet,I=pe*s.mdf10RatePerSheet,W=r.drawersCount*s.drawerRunnerRate;let ie=2;r.heightCm>60&&r.heightCm<=120?ie=3:r.heightCm>120&&r.heightCm<=200?ie=4:r.heightCm>200&&r.heightCm<=300&&(ie=5);const he=r.doorsCount*ie,me=he*s.doorHingeRate,Ee=r.laborHours*s.laborRatePerHour,ke=k+P+G+O+I+W+de+ge+me+r.accessoriesCost+r.overheadCost+Ee,Me=ke*r.profitMargin/100,tn=ke+Me,Ze=[];if(D>0){let se="MDF 16mm";r.bodyMaterial==="MDF21"?se="MDF 21mm":r.bodyMaterial==="Blockboard18"?se="Blockboard 18mm":r.bodyMaterial==="Ply18"?se="Plywood 18mm":r.bodyMaterial==="Foamboard"&&(se="Foamboard 18mm"),Ze.push({name:`Cabinet body core (${se})`,unit:"sheet",qty:parseFloat(D.toFixed(3))})}if(z>0&&Ze.push({name:"Back (MDF 10mm)",unit:"sheet",qty:parseFloat(z.toFixed(3))}),X>0){let se="MDF 16mm";r.faceMaterial==="MDF21"?se="MDF 21mm":r.faceMaterial==="Blockboard18"?se="Blockboard 18mm":r.faceMaterial==="Ply18"?se="Plywood 18mm":r.faceMaterial==="Foamboard"&&(se="Foamboard 18mm"),Ze.push({name:`Face panel (${se})`,unit:"sheet",qty:parseFloat(X.toFixed(3))})}if(r.drawersCount>0&&(Ze.push({name:"Drawer boxes PLY 12mm",unit:"sheet",qty:parseFloat(ae.toFixed(3))}),Ze.push({name:"Drawer bottoms MDF 10mm",unit:"sheet",qty:parseFloat(pe.toFixed(3))}),Ze.push({name:"Drawer runners",unit:"pair",qty:r.drawersCount})),r.veneerType!=="None")if(r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech")Ze.push({name:`Veneer (${r.veneerType})`,unit:"m",qty:parseFloat(re.toFixed(2))}),Ze.push({name:`Finish (${r.finishType})`,unit:"m",qty:parseFloat(re.toFixed(2))});else{const se=re/h;Ze.push({name:`Laminate (${r.veneerType})`,unit:"sheet",qty:parseFloat(se.toFixed(3))})}he>0&&Ze.push({name:"Door hinges",unit:"pcs",qty:he}),r.accessoriesCost>0&&Ze.push({name:"Accessories (handles, screws, etc.)",unit:"EGP",qty:parseFloat(r.accessoriesCost.toFixed(0))}),r.overheadCost>0&&Ze.push({name:"Overhead",unit:"EGP",qty:parseFloat(r.overheadCost.toFixed(0))}),Ee>0&&Ze.push({name:"Labor",unit:"EGP",qty:parseFloat(Ee.toFixed(0))}),Ze.push({name:"Profit",unit:"EGP",qty:parseFloat(Me.toFixed(0))});const Yi=()=>{const se=[];let Rt="MDF 16mm";r.bodyMaterial==="MDF21"?Rt="MDF 21mm":r.bodyMaterial==="Blockboard18"?Rt="Blockboard 18mm":r.bodyMaterial==="Ply18"?Rt="Plywood 18mm":r.bodyMaterial==="Foamboard"&&(Rt="Foamboard 18mm"),se.push(`Body: ${Rt}`),se.push("Back: MDF 10mm");let qt="MDF 16mm";r.faceMaterial==="MDF21"?qt="MDF 21mm":r.faceMaterial==="Blockboard18"?qt="Blockboard 18mm":r.faceMaterial==="Ply18"?qt="Plywood 18mm":r.faceMaterial==="Foamboard"&&(qt="Foamboard 18mm"),se.push(`Face: ${qt}`),se.push(`Doors: ${r.doorsCount} pcs`),se.push(`Shelves: ${r.shelvesCount} pcs`),se.push(`Drawers: ${r.drawersCount} pcs`);let Z="none";return r.veneerType==="Walnut"?Z="Walnut veneer":r.veneerType==="Oak"?Z="Oak veneer":r.veneerType==="Beech"?Z="Beech veneer":r.veneerType==="HPL"?Z="HPL laminate":r.veneerType==="LPL"&&(Z="LPL laminate"),se.push(`Facing: ${Z}`),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"?se.push(`Finish: ${r.finishType}`):r.veneerType==="None"?se.push("Finish: none"):se.push("Finish: integrated (HPL/LPL)"),se.push(`Hinges: ${he} pcs`),se.join("  ")},Rs=()=>{const se=Yi(),Rt=`${r.heightCm}${r.widthCm}${r.depthCm} cm`;t({price:tn,description:se,dimensions:Rt,materials:Ze})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Cabinet Costing"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Width (cm)",type:"number",value:String(r.widthCm),onChange:se=>c("widthCm",Number(se||0))}),y.jsx(ne,{label:"Height (cm)",type:"number",value:String(r.heightCm),onChange:se=>c("heightCm",Number(se||0))}),y.jsx(ne,{label:"Depth (cm)",type:"number",value:String(r.depthCm),onChange:se=>c("depthCm",Number(se||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Body panel material"}),y.jsxs("select",{className:"input",value:r.bodyMaterial,onChange:se=>c("bodyMaterial",se.target.value),children:[y.jsx("option",{value:"MDF16",children:"MDF 16mm"}),y.jsx("option",{value:"MDF21",children:"MDF 21mm"}),y.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),y.jsx("option",{value:"Ply18",children:"Plywood 18mm"}),y.jsx("option",{value:"Foamboard",children:"Foamboard 18mm"})]}),y.jsx("span",{className:"field-hint",children:"Body panels (sides, top, bottom, dividers, shelves core)."})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Face panel material"}),y.jsxs("select",{className:"input",value:r.faceMaterial,onChange:se=>c("faceMaterial",se.target.value),children:[y.jsx("option",{value:"MDF16",children:"MDF 16mm"}),y.jsx("option",{value:"MDF21",children:"MDF 21mm"}),y.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),y.jsx("option",{value:"Ply18",children:"Plywood 18mm"}),y.jsx("option",{value:"Foamboard",children:"Foamboard 18mm"})]}),y.jsx("span",{className:"field-hint",children:"Face panel area is same as back (width  height)."})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ne,{label:"Doors (pcs)",type:"number",value:String(r.doorsCount),onChange:se=>c("doorsCount",Number(se||0))}),y.jsx(ne,{label:"Shelves (pcs)",type:"number",value:String(r.shelvesCount),onChange:se=>c("shelvesCount",Number(se||0))}),y.jsx(ne,{label:"Drawers (pcs)",type:"number",value:String(r.drawersCount),onChange:se=>c("drawersCount",Number(se||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Facing / Veneer"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:se=>c("veneerType",se.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"}),y.jsx("option",{value:"HPL",children:"HPL"}),y.jsx("option",{value:"LPL",children:"LPL"})]})]}),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"?y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:se=>c("finishType",se.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]})]}):null,y.jsx(ne,{label:"Accessories (EGP)",type:"number",value:String(r.accessoriesCost),onChange:se=>c("accessoriesCost",Number(se||0))}),y.jsx(ne,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:se=>c("overheadCost",Number(se||0))}),y.jsx(ne,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:se=>c("laborHours",Number(se||0))}),y.jsx(ne,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:se=>c("profitMargin",Number(se||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Body area (approx): ",S.toFixed(2)," m"]}),y.jsxs("div",{children:["Shelves area: ",C.toFixed(2)," m"]}),y.jsxs("div",{children:["Core area total: ",j.toFixed(2)," m"]}),y.jsxs("div",{children:["Back area: ",E.toFixed(2)," m"]}),y.jsxs("div",{children:["Face area: ",$.toFixed(2)," m"]}),y.jsxs("div",{children:["Core sheets: ",D.toFixed(3)]}),y.jsxs("div",{children:["Back sheets: ",z.toFixed(3)]}),y.jsxs("div",{children:["Face sheets: ",X.toFixed(3)]}),y.jsxs("div",{children:["Body core cost: ",k.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Back cost: ",P.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Face cost: ",G.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer / laminate cost: ",de.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",ge.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Drawers PLY cost: ",O.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Drawers MDF cost: ",I.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Drawer runners: ",W.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Hinges cost: ",me.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Accessories: ",r.accessoriesCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",Ee.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",ke.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",r.profitMargin,"%): ",Me.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / cabinet: ",tn.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:Rs,children:"Apply to Item"})]})]})}):null},ne=({label:i,value:e,onChange:t,type:s="text"})=>y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:i}),y.jsx("input",{className:"input",type:s,value:e,onChange:r=>t(r.target.value)})]});function po(i){return i+.5|0}const Hi=(i,e,t)=>Math.max(Math.min(i,t),e);function qr(i){return Hi(po(i*2.55),0,255)}function $i(i){return Hi(po(i*255),0,255)}function ri(i){return Hi(po(i/2.55)/100,0,1)}function Tb(i){return Hi(po(i*100),0,100)}const gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vd=[..."0123456789ABCDEF"],NC=i=>Vd[i&15],PC=i=>Vd[(i&240)>>4]+Vd[i&15],ql=i=>(i&240)>>4===(i&15),LC=i=>ql(i.r)&&ql(i.g)&&ql(i.b)&&ql(i.a);function zC(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&gn[i[1]]*17,g:255&gn[i[2]]*17,b:255&gn[i[3]]*17,a:e===5?gn[i[4]]*17:255}:(e===7||e===9)&&(t={r:gn[i[1]]<<4|gn[i[2]],g:gn[i[3]]<<4|gn[i[4]],b:gn[i[5]]<<4|gn[i[6]],a:e===9?gn[i[7]]<<4|gn[i[8]]:255})),t}const BC=(i,e)=>i<255?e(i):"";function UC(i){var e=LC(i)?NC:PC;return i?"#"+e(i.r)+e(i.g)+e(i.b)+BC(i.a,e):void 0}const HC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b_(i,e,t){const s=e*Math.min(t,1-t),r=(o,c=(o+i/30)%12)=>t-s*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function FC(i,e,t){const s=(r,o=(r+i/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function IC(i,e,t){const s=b_(i,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)s[r]*=1-e-t,s[r]+=e;return s}function qC(i,e,t,s,r){return i===r?(e-t)/s+(e<t?6:0):e===r?(t-i)/s+2:(i-e)/s+4}function mf(i){const t=i.r/255,s=i.g/255,r=i.b/255,o=Math.max(t,s,r),c=Math.min(t,s,r),h=(o+c)/2;let d,f,m;return o!==c&&(m=o-c,f=h>.5?m/(2-o-c):m/(o+c),d=qC(t,s,r,m,o),d=d*60+.5),[d|0,f||0,h]}function yf(i,e,t,s){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,s)).map($i)}function bf(i,e,t){return yf(b_,i,e,t)}function $C(i,e,t){return yf(IC,i,e,t)}function GC(i,e,t){return yf(FC,i,e,t)}function v_(i){return(i%360+360)%360}function VC(i){const e=HC.exec(i);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?qr(+e[5]):$i(+e[5]));const r=v_(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=$C(r,o,c):e[1]==="hsv"?s=GC(r,o,c):s=bf(r,o,c),{r:s[0],g:s[1],b:s[2],a:t}}function YC(i,e){var t=mf(i);t[0]=v_(t[0]+e),t=bf(t),i.r=t[0],i.g=t[1],i.b=t[2]}function WC(i){if(!i)return;const e=mf(i),t=e[0],s=Tb(e[1]),r=Tb(e[2]);return i.a<255?`hsla(${t}, ${s}%, ${r}%, ${ri(i.a)})`:`hsl(${t}, ${s}%, ${r}%)`}const Cb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KC(){const i={},e=Object.keys(jb),t=Object.keys(Cb);let s,r,o,c,h;for(s=0;s<e.length;s++){for(c=h=e[s],r=0;r<t.length;r++)o=t[r],h=h.replace(o,Cb[o]);o=parseInt(jb[c],16),i[h]=[o>>16&255,o>>8&255,o&255]}return i}let $l;function XC(i){$l||($l=KC(),$l.transparent=[0,0,0,0]);const e=$l[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const QC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JC(i){const e=QC.exec(i);let t=255,s,r,o;if(e){if(e[7]!==s){const c=+e[7];t=e[8]?qr(c):Hi(c*255,0,255)}return s=+e[1],r=+e[3],o=+e[5],s=255&(e[2]?qr(s):Hi(s,0,255)),r=255&(e[4]?qr(r):Hi(r,0,255)),o=255&(e[6]?qr(o):Hi(o,0,255)),{r:s,g:r,b:o,a:t}}}function ZC(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ri(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const pd=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,va=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function ej(i,e,t){const s=va(ri(i.r)),r=va(ri(i.g)),o=va(ri(i.b));return{r:$i(pd(s+t*(va(ri(e.r))-s))),g:$i(pd(r+t*(va(ri(e.g))-r))),b:$i(pd(o+t*(va(ri(e.b))-o))),a:i.a+t*(e.a-i.a)}}function Gl(i,e,t){if(i){let s=mf(i);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=bf(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function __(i,e){return i&&Object.assign(e||{},i)}function Ab(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=$i(i[3]))):(e=__(i,{r:0,g:0,b:0,a:1}),e.a=$i(e.a)),e}function tj(i){return i.charAt(0)==="r"?JC(i):VC(i)}class eo{constructor(e){if(e instanceof eo)return e;const t=typeof e;let s;t==="object"?s=Ab(e):t==="string"&&(s=zC(e)||XC(e)||tj(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=__(this._rgb);return e&&(e.a=ri(e.a)),e}set rgb(e){this._rgb=Ab(e)}rgbString(){return this._valid?ZC(this._rgb):void 0}hexString(){return this._valid?UC(this._rgb):void 0}hslString(){return this._valid?WC(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,r=e.rgb;let o;const c=t===o?.5:t,h=2*c-1,d=s.a-r.a,f=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-f,s.r=255&f*s.r+o*r.r+.5,s.g=255&f*s.g+o*r.g+.5,s.b=255&f*s.b+o*r.b+.5,s.a=c*s.a+(1-c)*r.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=ej(this._rgb,e._rgb,t)),this}clone(){return new eo(this.rgb)}alpha(e){return this._rgb.a=$i(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=po(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gl(this._rgb,2,e),this}darken(e){return Gl(this._rgb,2,-e),this}saturate(e){return Gl(this._rgb,1,e),this}desaturate(e){return Gl(this._rgb,1,-e),this}rotate(e){return YC(this._rgb,e),this}}function ii(){}const nj=(()=>{let i=0;return()=>i++})();function ze(i){return i==null}function gt(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function De(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function mn(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Rn(i,e){return mn(i)?i:e}function Te(i,e){return typeof i>"u"?e:i}const ij=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,x_=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function Ke(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function He(i,e,t,s){let r,o,c;if(gt(i))for(o=i.length,r=0;r<o;r++)e.call(t,i[r],r);else if(De(i))for(c=Object.keys(i),o=c.length,r=0;r<o;r++)e.call(t,i[c[r]],c[r])}function wc(i,e){let t,s,r,o;if(!i||!e||i.length!==e.length)return!1;for(t=0,s=i.length;t<s;++t)if(r=i[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Ec(i){if(gt(i))return i.map(Ec);if(De(i)){const e=Object.create(null),t=Object.keys(i),s=t.length;let r=0;for(;r<s;++r)e[t[r]]=Ec(i[t[r]]);return e}return i}function S_(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function sj(i,e,t,s){if(!S_(i))return;const r=e[i],o=t[i];De(r)&&De(o)?to(r,o,s):e[i]=Ec(o)}function to(i,e,t){const s=gt(e)?e:[e],r=s.length;if(!De(i))return i;t=t||{};const o=t.merger||sj;let c;for(let h=0;h<r;++h){if(c=s[h],!De(c))continue;const d=Object.keys(c);for(let f=0,m=d.length;f<m;++f)o(d[f],i,c,t)}return i}function Yr(i,e){return to(i,e,{merger:aj})}function aj(i,e,t){if(!S_(i))return;const s=e[i],r=t[i];De(s)&&De(r)?Yr(s,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Ec(r))}const Ob={"":i=>i,x:i=>i.x,y:i=>i.y};function rj(i){const e=i.split("."),t=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function oj(i){const e=rj(i);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function js(i,e){return(Ob[e]||(Ob[e]=oj(e)))(i)}function vf(i){return i.charAt(0).toUpperCase()+i.slice(1)}const no=i=>typeof i<"u",Gi=i=>typeof i=="function",Rb=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function lj(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const Fe=Math.PI,nt=2*Fe,cj=nt+Fe,Tc=Number.POSITIVE_INFINITY,uj=Fe/180,pt=Fe/2,gs=Fe/4,Mb=Fe*2/3,w_=Math.log10,Nn=Math.sign;function Wr(i,e,t){return Math.abs(i-e)<t}function kb(i){const e=Math.round(i);i=Wr(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(w_(i))),s=i/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function hj(i){const e=[],t=Math.sqrt(i);let s;for(s=1;s<t;s++)i%s===0&&(e.push(s),e.push(i/s));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function dj(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function io(i){return!dj(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function fj(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function gj(i,e,t){let s,r,o;for(s=0,r=i.length;s<r;s++)o=i[s][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function oi(i){return i*(Fe/180)}function pj(i){return i*(180/Fe)}function Db(i){if(!mn(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function E_(i,e){const t=e.x-i.x,s=e.y-i.y,r=Math.sqrt(t*t+s*s);let o=Math.atan2(s,t);return o<-.5*Fe&&(o+=nt),{angle:o,distance:r}}function Yd(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function mj(i,e){return(i-e+cj)%nt-Fe}function En(i){return(i%nt+nt)%nt}function so(i,e,t,s){const r=En(i),o=En(e),c=En(t),h=En(o-r),d=En(c-r),f=En(r-o),m=En(r-c);return r===o||r===c||s&&o===c||h>d&&f<m}function At(i,e,t){return Math.max(e,Math.min(t,i))}function yj(i){return At(i,-32768,32767)}function Fi(i,e,t,s=1e-6){return i>=Math.min(e,t)-s&&i<=Math.max(e,t)+s}function _f(i,e,t){t=t||(c=>i[c]<e);let s=i.length-1,r=0,o;for(;s-r>1;)o=r+s>>1,t(o)?r=o:s=o;return{lo:r,hi:s}}const Ts=(i,e,t,s)=>_f(i,t,s?r=>{const o=i[r][e];return o<t||o===t&&i[r+1][e]===t}:r=>i[r][e]<t),bj=(i,e,t)=>_f(i,t,s=>i[s][e]>=t);function vj(i,e,t){let s=0,r=i.length;for(;s<r&&i[s]<e;)s++;for(;r>s&&i[r-1]>t;)r--;return s>0||r<i.length?i.slice(s,r):i}const T_=["push","pop","shift","splice","unshift"];function _j(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),T_.forEach(t=>{const s="_onData"+vf(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return i._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...o)}),c}})})}function Nb(i,e){const t=i._chartjs;if(!t)return;const s=t.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(T_.forEach(o=>{delete i[o]}),delete i._chartjs)}function C_(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const j_=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function A_(i,e){let t=[],s=!1;return function(...r){t=r,s||(s=!0,j_.call(window,()=>{s=!1,i.apply(e,t)}))}}function xj(i,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(i,e,s)):i.apply(this,s),e}}const xf=i=>i==="start"?"left":i==="end"?"right":"center",jt=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,Sj=(i,e,t,s)=>i===(s?"left":"right")?t:i==="center"?(e+t)/2:e;function wj(i,e,t){const s=e.length;let r=0,o=s;if(i._sorted){const{iScale:c,vScale:h,_parsed:d}=i,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,m=c.axis,{min:b,max:v,minDefined:x,maxDefined:S}=c.getUserBounds();if(x){if(r=Math.min(Ts(d,m,b).lo,t?s:Ts(e,m,c.getPixelForValue(b)).lo),f){const E=d.slice(0,r+1).reverse().findIndex(w=>!ze(w[h.axis]));r-=Math.max(0,E)}r=At(r,0,s-1)}if(S){let E=Math.max(Ts(d,c.axis,v,!0).hi+1,t?0:Ts(e,m,c.getPixelForValue(v),!0).hi+1);if(f){const w=d.slice(E-1).findIndex(C=>!ze(C[h.axis]));E+=Math.max(0,w)}o=At(E,r,s)-r}else o=s-r}return{start:r,count:o}}function Ej(i){const{xScale:e,yScale:t,_scaleRanges:s}=i,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return i._scaleRanges=r,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,r),o}const Vl=i=>i===0||i===1,Pb=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*nt/t)),Lb=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*nt/t)+1,Kr={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*pt)+1,easeOutSine:i=>Math.sin(i*pt),easeInOutSine:i=>-.5*(Math.cos(Fe*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Vl(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Vl(i)?i:Pb(i,.075,.3),easeOutElastic:i=>Vl(i)?i:Lb(i,.075,.3),easeInOutElastic(i){return Vl(i)?i:i<.5?.5*Pb(i*2,.1125,.45):.5+.5*Lb(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-Kr.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Kr.easeInBounce(i*2)*.5:Kr.easeOutBounce(i*2-1)*.5+.5};function Sf(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function zb(i){return Sf(i)?i:new eo(i)}function md(i){return Sf(i)?i:new eo(i).saturate(.5).darken(.1).hexString()}const Tj=["x","y","borderWidth","radius","tension"],Cj=["color","borderColor","backgroundColor"];function jj(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:Cj},numbers:{type:"number",properties:Tj}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Aj(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Bb=new Map;function Oj(i,e){e=e||{};const t=i+JSON.stringify(e);let s=Bb.get(t);return s||(s=new Intl.NumberFormat(i,e),Bb.set(t,s)),s}function wf(i,e,t){return Oj(e,t).format(i)}const Rj={values(i){return gt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const s=this.chart.options.locale;let r,o=i;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=Mj(i,t)}const c=w_(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),wf(i,s,d)}};function Mj(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var O_={formatters:Rj};function kj(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:O_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const As=Object.create(null),Wd=Object.create(null);function Xr(i,e){if(!e)return i;const t=e.split(".");for(let s=0,r=t.length;s<r;++s){const o=t[s];i=i[o]||(i[o]=Object.create(null))}return i}function yd(i,e,t){return typeof e=="string"?to(Xr(i,e),t):to(Xr(i,""),e)}class Dj{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>md(r.backgroundColor),this.hoverBorderColor=(s,r)=>md(r.borderColor),this.hoverColor=(s,r)=>md(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return yd(this,e,t)}get(e){return Xr(this,e)}describe(e,t){return yd(Wd,e,t)}override(e,t){return yd(As,e,t)}route(e,t,s,r){const o=Xr(this,e),c=Xr(this,s),h="_"+t;Object.defineProperties(o,{[h]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[h],f=c[r];return De(d)?Object.assign({},f,d):Te(d,f)},set(d){this[h]=d}}})}apply(e){e.forEach(t=>t(this))}}var at=new Dj({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jj,Aj,kj]);function Nj(i){return!i||ze(i.size)||ze(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Ub(i,e,t,s,r){let o=e[r];return o||(o=e[r]=i.measureText(r).width,t.push(r)),o>s&&(s=o),s}function ps(i,e,t){const s=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*s)/s+r}function Hb(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function Kd(i,e,t,s){R_(i,e,t,s,null)}function R_(i,e,t,s,r){let o,c,h,d,f,m,b,v;const x=e.pointStyle,S=e.rotation,E=e.radius;let w=(S||0)*uj;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(t,s),i.rotate(w),i.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),i.restore();return}if(!(isNaN(E)||E<=0)){switch(i.beginPath(),x){default:r?i.ellipse(t,s,r/2,E,0,0,nt):i.arc(t,s,E,0,nt),i.closePath();break;case"triangle":m=r?r/2:E,i.moveTo(t+Math.sin(w)*m,s-Math.cos(w)*E),w+=Mb,i.lineTo(t+Math.sin(w)*m,s-Math.cos(w)*E),w+=Mb,i.lineTo(t+Math.sin(w)*m,s-Math.cos(w)*E),i.closePath();break;case"rectRounded":f=E*.516,d=E-f,c=Math.cos(w+gs)*d,b=Math.cos(w+gs)*(r?r/2-f:d),h=Math.sin(w+gs)*d,v=Math.sin(w+gs)*(r?r/2-f:d),i.arc(t-b,s-h,f,w-Fe,w-pt),i.arc(t+v,s-c,f,w-pt,w),i.arc(t+b,s+h,f,w,w+pt),i.arc(t-v,s+c,f,w+pt,w+Fe),i.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*E,m=r?r/2:d,i.rect(t-m,s-d,2*m,2*d);break}w+=gs;case"rectRot":b=Math.cos(w)*(r?r/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,v=Math.sin(w)*(r?r/2:E),i.moveTo(t-b,s-h),i.lineTo(t+v,s-c),i.lineTo(t+b,s+h),i.lineTo(t-v,s+c),i.closePath();break;case"crossRot":w+=gs;case"cross":b=Math.cos(w)*(r?r/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,v=Math.sin(w)*(r?r/2:E),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c);break;case"star":b=Math.cos(w)*(r?r/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,v=Math.sin(w)*(r?r/2:E),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c),w+=gs,b=Math.cos(w)*(r?r/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,v=Math.sin(w)*(r?r/2:E),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c);break;case"line":c=r?r/2:Math.cos(w)*E,h=Math.sin(w)*E,i.moveTo(t-c,s-h),i.lineTo(t+c,s+h);break;case"dash":i.moveTo(t,s),i.lineTo(t+Math.cos(w)*(r?r/2:E),s+Math.sin(w)*E);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function ao(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function Ef(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Tf(i){i.restore()}function Pj(i,e,t,s,r){if(!e)return i.lineTo(t.x,t.y);if(r==="middle"){const o=(e.x+t.x)/2;i.lineTo(o,e.y),i.lineTo(o,t.y)}else r==="after"!=!!s?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function Lj(i,e,t,s){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function zj(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),ze(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function Bj(i,e,t,s,r){if(r.strikethrough||r.underline){const o=i.measureText(s),c=e-o.actualBoundingBoxLeft,h=e+o.actualBoundingBoxRight,d=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,m=r.strikethrough?(d+f)/2:f;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(c,m),i.lineTo(h,m),i.stroke()}}function Uj(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function ro(i,e,t,s,r,o={}){const c=gt(e)?e:[e],h=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(i.save(),i.font=r.string,zj(i,o),d=0;d<c.length;++d)f=c[d],o.backdrop&&Uj(i,o.backdrop),h&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),ze(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(f,t,s,o.maxWidth)),i.fillText(f,t,s,o.maxWidth),Bj(i,t,s,f,o),s+=Number(r.lineHeight);i.restore()}function Cc(i,e){const{x:t,y:s,w:r,h:o,radius:c}=e;i.arc(t+c.topLeft,s+c.topLeft,c.topLeft,1.5*Fe,Fe,!0),i.lineTo(t,s+o-c.bottomLeft),i.arc(t+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,Fe,pt,!0),i.lineTo(t+r-c.bottomRight,s+o),i.arc(t+r-c.bottomRight,s+o-c.bottomRight,c.bottomRight,pt,0,!0),i.lineTo(t+r,s+c.topRight),i.arc(t+r-c.topRight,s+c.topRight,c.topRight,0,-pt,!0),i.lineTo(t+c.topLeft,s)}const Hj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Fj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ij(i,e){const t=(""+i).match(Hj);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const qj=i=>+i||0;function Cf(i,e){const t={},s=De(e),r=s?Object.keys(e):e,o=De(i)?s?c=>Te(i[c],i[e[c]]):c=>i[c]:()=>i;for(const c of r)t[c]=qj(o(c));return t}function M_(i){return Cf(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Ca(i){return Cf(i,["topLeft","topRight","bottomLeft","bottomRight"])}function yn(i){const e=M_(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ot(i,e){i=i||{},e=e||at.font;let t=Te(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=Te(i.style,e.style);s&&!(""+s).match(Fj)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Te(i.family,e.family),lineHeight:Ij(Te(i.lineHeight,e.lineHeight),t),size:t,style:s,weight:Te(i.weight,e.weight),string:""};return r.string=Nj(r),r}function Yl(i,e,t,s){let r,o,c;for(r=0,o=i.length;r<o;++r)if(c=i[r],c!==void 0&&c!==void 0)return c}function $j(i,e,t){const{min:s,max:r}=i,o=x_(e,(r-s)/2),c=(h,d)=>t&&h===0?0:h+d;return{min:c(s,-Math.abs(o)),max:c(r,o)}}function Os(i,e){return Object.assign(Object.create(i),e)}function jf(i,e=[""],t,s,r=()=>i[0]){const o=t||i;typeof s>"u"&&(s=P_("_fallback",i));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:s,_getTarget:r,override:h=>jf([h,...i],e,o,s)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete i[0][d],!0},get(h,d){return D_(h,d,()=>Jj(d,e,i,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,d){return Ib(h).includes(d)},ownKeys(h){return Ib(h)},set(h,d,f){const m=h._storage||(h._storage=r());return h[d]=m[d]=f,delete h._keys,!0}})}function Ra(i,e,t,s){const r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:k_(i,s),setContext:o=>Ra(i,o,t,s),override:o=>Ra(i.override(o),e,t,s)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete i[c],!0},get(o,c,h){return D_(o,c,()=>Vj(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(i,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,c)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,c){return Reflect.has(i,c)},ownKeys(){return Reflect.ownKeys(i)},set(o,c,h){return i[c]=h,delete o[c],!0}})}function k_(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:s,isScriptable:Gi(t)?t:()=>t,isIndexable:Gi(s)?s:()=>s}}const Gj=(i,e)=>i?i+vf(e):e,Af=(i,e)=>De(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function D_(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const s=t();return i[e]=s,s}function Vj(i,e,t){const{_proxy:s,_context:r,_subProxy:o,_descriptors:c}=i;let h=s[e];return Gi(h)&&c.isScriptable(e)&&(h=Yj(e,h,i,t)),gt(h)&&h.length&&(h=Wj(e,h,i,c.isIndexable)),Af(e,h)&&(h=Ra(h,r,o&&o[e],c)),h}function Yj(i,e,t,s){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=t;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let d=e(o,c||s);return h.delete(i),Af(i,d)&&(d=Of(r._scopes,r,i,d)),d}function Wj(i,e,t,s){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=t;if(typeof o.index<"u"&&s(i))return e[o.index%e.length];if(De(e[0])){const d=e,f=r._scopes.filter(m=>m!==d);e=[];for(const m of d){const b=Of(f,r,i,m);e.push(Ra(b,o,c&&c[i],h))}}return e}function N_(i,e,t){return Gi(i)?i(e,t):i}const Kj=(i,e)=>i===!0?e:typeof i=="string"?js(e,i):void 0;function Xj(i,e,t,s,r){for(const o of e){const c=Kj(t,o);if(c){i.add(c);const h=N_(c._fallback,t,r);if(typeof h<"u"&&h!==t&&h!==s)return h}else if(c===!1&&typeof s<"u"&&t!==s)return null}return!1}function Of(i,e,t,s){const r=e._rootScopes,o=N_(e._fallback,t,s),c=[...i,...r],h=new Set;h.add(s);let d=Fb(h,c,t,o||t,s);return d===null||typeof o<"u"&&o!==t&&(d=Fb(h,c,o,d,s),d===null)?!1:jf(Array.from(h),[""],r,o,()=>Qj(e,t,s))}function Fb(i,e,t,s,r){for(;t;)t=Xj(i,e,t,s,r);return t}function Qj(i,e,t){const s=i._getTarget();e in s||(s[e]={});const r=s[e];return gt(r)&&De(t)?t:r||{}}function Jj(i,e,t,s){let r;for(const o of e)if(r=P_(Gj(o,i),t),typeof r<"u")return Af(i,r)?Of(t,s,i,r):r}function P_(i,e){for(const t of e){if(!t)continue;const s=t[i];if(typeof s<"u")return s}}function Ib(i){let e=i._keys;return e||(e=i._keys=Zj(i._scopes)),e}function Zj(i){const e=new Set;for(const t of i)for(const s of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const eA=Number.EPSILON||1e-14,Ma=(i,e)=>e<i.length&&!i[e].skip&&i[e],L_=i=>i==="x"?"y":"x";function tA(i,e,t,s){const r=i.skip?e:i,o=e,c=t.skip?e:t,h=Yd(o,r),d=Yd(c,o);let f=h/(h+d),m=d/(h+d);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const b=s*f,v=s*m;return{previous:{x:o.x-b*(c.x-r.x),y:o.y-b*(c.y-r.y)},next:{x:o.x+v*(c.x-r.x),y:o.y+v*(c.y-r.y)}}}function nA(i,e,t){const s=i.length;let r,o,c,h,d,f=Ma(i,0);for(let m=0;m<s-1;++m)if(d=f,f=Ma(i,m+1),!(!d||!f)){if(Wr(e[m],0,eA)){t[m]=t[m+1]=0;continue}r=t[m]/e[m],o=t[m+1]/e[m],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),t[m]=r*c*e[m],t[m+1]=o*c*e[m])}}function iA(i,e,t="x"){const s=L_(t),r=i.length;let o,c,h,d=Ma(i,0);for(let f=0;f<r;++f){if(c=h,h=d,d=Ma(i,f+1),!h)continue;const m=h[t],b=h[s];c&&(o=(m-c[t])/3,h[`cp1${t}`]=m-o,h[`cp1${s}`]=b-o*e[f]),d&&(o=(d[t]-m)/3,h[`cp2${t}`]=m+o,h[`cp2${s}`]=b+o*e[f])}}function sA(i,e="x"){const t=L_(e),s=i.length,r=Array(s).fill(0),o=Array(s);let c,h,d,f=Ma(i,0);for(c=0;c<s;++c)if(h=d,d=f,f=Ma(i,c+1),!!d){if(f){const m=f[e]-d[e];r[c]=m!==0?(f[t]-d[t])/m:0}o[c]=h?f?Nn(r[c-1])!==Nn(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}nA(i,r,o),iA(i,o,e)}function Wl(i,e,t){return Math.max(Math.min(i,t),e)}function aA(i,e){let t,s,r,o,c,h=ao(i[0],e);for(t=0,s=i.length;t<s;++t)c=o,o=h,h=t<s-1&&ao(i[t+1],e),o&&(r=i[t],c&&(r.cp1x=Wl(r.cp1x,e.left,e.right),r.cp1y=Wl(r.cp1y,e.top,e.bottom)),h&&(r.cp2x=Wl(r.cp2x,e.left,e.right),r.cp2y=Wl(r.cp2y,e.top,e.bottom)))}function rA(i,e,t,s,r){let o,c,h,d;if(e.spanGaps&&(i=i.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")sA(i,r);else{let f=s?i[i.length-1]:i[0];for(o=0,c=i.length;o<c;++o)h=i[o],d=tA(f,h,i[Math.min(o+1,c-(s?0:1))%c],e.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,f=h}e.capBezierPoints&&aA(i,t)}function Rf(){return typeof window<"u"&&typeof document<"u"}function Mf(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jc(i,e,t){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=i,s}const Lc=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function oA(i,e){return Lc(i).getPropertyValue(e)}const lA=["top","right","bottom","left"];function Cs(i,e,t){const s={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=lA[r];s[o]=parseFloat(i[e+"-"+o+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const cA=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function uA(i,e){const t=i.touches,s=t&&t.length?t[0]:i,{offsetX:r,offsetY:o}=s;let c=!1,h,d;if(cA(r,o,i.target))h=r,d=o;else{const f=e.getBoundingClientRect();h=s.clientX-f.left,d=s.clientY-f.top,c=!0}return{x:h,y:d,box:c}}function _s(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:s}=e,r=Lc(t),o=r.boxSizing==="border-box",c=Cs(r,"padding"),h=Cs(r,"border","width"),{x:d,y:f,box:m}=uA(i,t),b=c.left+(m&&h.left),v=c.top+(m&&h.top);let{width:x,height:S}=e;return o&&(x-=c.width+h.width,S-=c.height+h.height),{x:Math.round((d-b)/x*t.width/s),y:Math.round((f-v)/S*t.height/s)}}function hA(i,e,t){let s,r;if(e===void 0||t===void 0){const o=i&&Mf(i);if(!o)e=i.clientWidth,t=i.clientHeight;else{const c=o.getBoundingClientRect(),h=Lc(o),d=Cs(h,"border","width"),f=Cs(h,"padding");e=c.width-f.width-d.width,t=c.height-f.height-d.height,s=jc(h.maxWidth,o,"clientWidth"),r=jc(h.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:s||Tc,maxHeight:r||Tc}}const Ii=i=>Math.round(i*10)/10;function dA(i,e,t,s){const r=Lc(i),o=Cs(r,"margin"),c=jc(r.maxWidth,i,"clientWidth")||Tc,h=jc(r.maxHeight,i,"clientHeight")||Tc,d=hA(i,e,t);let{width:f,height:m}=d;if(r.boxSizing==="content-box"){const v=Cs(r,"border","width"),x=Cs(r,"padding");f-=x.width+v.width,m-=x.height+v.height}return f=Math.max(0,f-o.width),m=Math.max(0,s?f/s:m-o.height),f=Ii(Math.min(f,c,d.maxWidth)),m=Ii(Math.min(m,h,d.maxHeight)),f&&!m&&(m=Ii(f/2)),(e!==void 0||t!==void 0)&&s&&d.height&&m>d.height&&(m=d.height,f=Ii(Math.floor(m*s))),{width:f,height:m}}function qb(i,e,t){const s=e||1,r=Ii(i.height*s),o=Ii(i.width*s);i.height=Ii(i.height),i.width=Ii(i.width);const c=i.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${i.height}px`,c.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||c.height!==r||c.width!==o?(i.currentDevicePixelRatio=s,c.height=r,c.width=o,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const fA=(function(){let i=!1;try{const e={get passive(){return i=!0,!1}};Rf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i})();function $b(i,e){const t=oA(i,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function xs(i,e,t,s){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function gA(i,e,t,s){return{x:i.x+t*(e.x-i.x),y:s==="middle"?t<.5?i.y:e.y:s==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function pA(i,e,t,s){const r={x:i.cp2x,y:i.cp2y},o={x:e.cp1x,y:e.cp1y},c=xs(i,r,t),h=xs(r,o,t),d=xs(o,e,t),f=xs(c,h,t),m=xs(h,d,t);return xs(f,m,t)}const mA=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},yA=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function ja(i,e,t){return i?mA(e,t):yA()}function z_(i,e){let t,s;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=s)}function B_(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function U_(i){return i==="angle"?{between:so,compare:mj,normalize:En}:{between:Fi,compare:(e,t)=>e-t,normalize:e=>e}}function Gb({start:i,end:e,count:t,loop:s,style:r}){return{start:i%t,end:e%t,loop:s&&(e-i+1)%t===0,style:r}}function bA(i,e,t){const{property:s,start:r,end:o}=t,{between:c,normalize:h}=U_(s),d=e.length;let{start:f,end:m,loop:b}=i,v,x;if(b){for(f+=d,m+=d,v=0,x=d;v<x&&c(h(e[f%d][s]),r,o);++v)f--,m--;f%=d,m%=d}return m<f&&(m+=d),{start:f,end:m,loop:b,style:i.style}}function vA(i,e,t){if(!t)return[i];const{property:s,start:r,end:o}=t,c=e.length,{compare:h,between:d,normalize:f}=U_(s),{start:m,end:b,loop:v,style:x}=bA(i,e,t),S=[];let E=!1,w=null,C,j,A;const D=()=>d(r,A,C)&&h(r,A)!==0,k=()=>h(o,C)===0||d(o,A,C),z=()=>E||D(),P=()=>!E||k();for(let $=m,ee=m;$<=b;++$)j=e[$%c],!j.skip&&(C=f(j[s]),C!==A&&(E=d(C,r,o),w===null&&z()&&(w=h(C,r)===0?$:ee),w!==null&&P()&&(S.push(Gb({start:w,end:$,loop:v,count:c,style:x})),w=null),ee=$,A=C));return w!==null&&S.push(Gb({start:w,end:b,loop:v,count:c,style:x})),S}function _A(i,e){const t=[],s=i.segments;for(let r=0;r<s.length;r++){const o=vA(s[r],i.points,e);o.length&&t.push(...o)}return t}function xA(i,e,t,s){let r=0,o=e-1;if(t&&!s)for(;r<e&&!i[r].skip;)r++;for(;r<e&&i[r].skip;)r++;for(r%=e,t&&(o+=r);o>r&&i[o%e].skip;)o--;return o%=e,{start:r,end:o}}function SA(i,e,t,s){const r=i.length,o=[];let c=e,h=i[e],d;for(d=e+1;d<=t;++d){const f=i[d%r];f.skip||f.stop?h.skip||(s=!1,o.push({start:e%r,end:(d-1)%r,loop:s}),e=c=f.stop?d:null):(c=d,h.skip&&(e=d)),h=f}return c!==null&&o.push({start:e%r,end:c%r,loop:s}),o}function wA(i,e){const t=i.points,s=i.options.spanGaps,r=t.length;if(!r)return[];const o=!!i._loop,{start:c,end:h}=xA(t,r,o,s);if(s===!0)return Vb(i,[{start:c,end:h,loop:o}],t,e);const d=h<c?h+r:h,f=!!i._fullLoop&&c===0&&h===r-1;return Vb(i,SA(t,c,d,f),t,e)}function Vb(i,e,t,s){return!s||!s.setContext||!t?e:EA(i,e,t,s)}function EA(i,e,t,s){const r=i._chart.getContext(),o=Yb(i.options),{_datasetIndex:c,options:{spanGaps:h}}=i,d=t.length,f=[];let m=o,b=e[0].start,v=b;function x(S,E,w,C){const j=h?-1:1;if(S!==E){for(S+=d;t[S%d].skip;)S-=j;for(;t[E%d].skip;)E+=j;S%d!==E%d&&(f.push({start:S%d,end:E%d,loop:w,style:C}),m=C,b=E%d)}}for(const S of e){b=h?b:S.start;let E=t[b%d],w;for(v=b+1;v<=S.end;v++){const C=t[v%d];w=Yb(s.setContext(Os(r,{type:"segment",p0:E,p1:C,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:c}))),TA(w,m)&&x(b,v-1,S.loop,m),E=C,m=w}b<v-1&&x(b,v-1,S.loop,m)}return f}function Yb(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function TA(i,e){if(!e)return!1;const t=[],s=function(r,o){return Sf(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(i,s)!==JSON.stringify(e,s)}function Kl(i,e,t){return i.options.clip?i[t]:e[t]}function CA(i,e){const{xScale:t,yScale:s}=i;return t&&s?{left:Kl(t,e,"left"),right:Kl(t,e,"right"),top:Kl(s,e,"top"),bottom:Kl(s,e,"bottom")}:e}function jA(i,e){const t=e._clip;if(t.disabled)return!1;const s=CA(e,i.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?i.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?i.height:s.bottom+(t.bottom===!0?0:t.bottom)}}class AA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,r){const o=t.listeners[r],c=t.duration;o.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(s-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=j_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(e),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,s,e,"progress")),o.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var si=new AA;const Wb="transparent",OA={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const s=zb(i||Wb),r=s.valid&&zb(e||Wb);return r&&r.valid?r.mix(s,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class RA{constructor(e,t,s,r){const o=t[s];r=Yl([e.to,r,o,e.from]);const c=Yl([e.from,o,r]);this._active=!0,this._fn=e.fn||OA[e.type||typeof c],this._easing=Kr[e.easing]||Kr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const r=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Yl([e.to,t,r,e.from]),this._from=Yl([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||t<s),!this._active){this._target[r]=h,this._notify(!0);return}if(t<0){this._target[r]=o;return}d=t/s%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][t]()}}class H_{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!De(e))return;const t=Object.keys(at.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!De(o))return;const c={};for(const h of t)c[h]=o[h];(gt(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!s.has(h))&&s.set(h,c)})})}_animateOptions(e,t){const s=t.options,r=kA(e,s);if(!r)return[];const o=this._createAnimations(r,s);return s.$shared&&MA(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,t){const s=this._properties,r=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const f=c[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const m=t[f];let b=o[f];const v=s.get(f);if(b)if(v&&b.active()){b.update(v,m,h);continue}else b.cancel();if(!v||!v.duration){e[f]=m;continue}o[f]=b=new RA(v,e,f,m),r.push(b)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return si.add(this._chart,s),!0}}function MA(i,e){const t=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const o=i[s[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function kA(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Kb(i,e){const t=i&&i.options||{},s=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:s?o:r,end:s?r:o}}function DA(i,e,t){if(t===!1)return!1;const s=Kb(i,t),r=Kb(e,t);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function NA(i){let e,t,s,r;return De(i)?(e=i.top,t=i.right,s=i.bottom,r=i.left):e=t=s=r=i,{top:e,right:t,bottom:s,left:r,disabled:i===!1}}function F_(i,e){const t=[],s=i._getSortedDatasetMetas(e);let r,o;for(r=0,o=s.length;r<o;++r)t.push(s[r].index);return t}function Xb(i,e,t,s={}){const r=i.keys,o=s.mode==="single";let c,h,d,f;if(e===null)return;let m=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===t){if(m=!0,s.all)continue;break}f=i.values[d],mn(f)&&(o||e===0||Nn(e)===Nn(f))&&(e+=f)}return!m&&!s.all?0:e}function PA(i,e){const{iScale:t,vScale:s}=e,r=t.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(i),h=new Array(c.length);let d,f,m;for(d=0,f=c.length;d<f;++d)m=c[d],h[d]={[r]:m,[o]:i[m]};return h}function bd(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function LA(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function zA(i){const{min:e,max:t,minDefined:s,maxDefined:r}=i.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function BA(i,e,t){const s=i[e]||(i[e]={});return s[t]||(s[t]={})}function Qb(i,e,t,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const o=i[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function Jb(i,e){const{chart:t,_cachedMeta:s}=i,r=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:h}=s,d=o.axis,f=c.axis,m=LA(o,c,s),b=e.length;let v;for(let x=0;x<b;++x){const S=e[x],{[d]:E,[f]:w}=S,C=S._stacks||(S._stacks={});v=C[f]=BA(r,m,E),v[h]=w,v._top=Qb(v,c,!0,s.type),v._bottom=Qb(v,c,!1,s.type);const j=v._visualValues||(v._visualValues={});j[h]=w}}function vd(i,e){const t=i.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function UA(i,e){return Os(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function HA(i,e,t){return Os(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Pr(i,e){const t=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){e=e||i._parsed;for(const r of e){const o=r._stacks;if(!o||o[s]===void 0||o[s][t]===void 0)return;delete o[s][t],o[s]._visualValues!==void 0&&o[s]._visualValues[t]!==void 0&&delete o[s]._visualValues[t]}}}const _d=i=>i==="reset"||i==="none",Zb=(i,e)=>e?i:Object.assign({},i),FA=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:F_(t,!0),values:null};class zc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=bd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),r=(b,v,x,S)=>b==="x"?v:b==="r"?S:x,o=t.xAxisID=Te(s.xAxisID,vd(e,"x")),c=t.yAxisID=Te(s.yAxisID,vd(e,"y")),h=t.rAxisID=Te(s.rAxisID,vd(e,"r")),d=t.indexAxis,f=t.iAxisID=r(d,o,c,h),m=t.vAxisID=r(d,c,o,h);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Nb(this._data,this),e._stacked&&Pr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(De(t)){const r=this._cachedMeta;this._data=PA(t,r)}else if(s!==t){if(s){Nb(s,this);const r=this._cachedMeta;Pr(r),r._parsed=[]}t&&Object.isExtensible(t)&&_j(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=bd(t.vScale,t),t.stack!==s.stack&&(r=!0,Pr(t),t.stack=s.stack),this._resyncElements(e),(r||o!==t._stacked)&&(Jb(this,t._parsed),t._stacked=bd(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:c}=s,h=o.axis;let d=e===0&&t===r.length?!0:s._sorted,f=e>0&&s._parsed[e-1],m,b,v;if(this._parsing===!1)s._parsed=r,s._sorted=!0,v=r;else{gt(r[e])?v=this.parseArrayData(s,r,e,t):De(r[e])?v=this.parseObjectData(s,r,e,t):v=this.parsePrimitiveData(s,r,e,t);const x=()=>b[h]===null||f&&b[h]<f[h];for(m=0;m<t;++m)s._parsed[m+e]=b=v[m],d&&(x()&&(d=!1),f=b);s._sorted=d}c&&Jb(this,v)}parsePrimitiveData(e,t,s,r){const{iScale:o,vScale:c}=e,h=o.axis,d=c.axis,f=o.getLabels(),m=o===c,b=new Array(r);let v,x,S;for(v=0,x=r;v<x;++v)S=v+s,b[v]={[h]:m||o.parse(f[S],S),[d]:c.parse(t[S],S)};return b}parseArrayData(e,t,s,r){const{xScale:o,yScale:c}=e,h=new Array(r);let d,f,m,b;for(d=0,f=r;d<f;++d)m=d+s,b=t[m],h[d]={x:o.parse(b[0],m),y:c.parse(b[1],m)};return h}parseObjectData(e,t,s,r){const{xScale:o,yScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let m,b,v,x;for(m=0,b=r;m<b;++m)v=m+s,x=t[v],f[m]={x:o.parse(js(x,h),v),y:c.parse(js(x,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const r=this.chart,o=this._cachedMeta,c=t[e.axis],h={keys:F_(r,!0),values:t._stacks[e.axis]._visualValues};return Xb(h,c,o.index,{mode:s})}updateRangeFromParsed(e,t,s,r){const o=s[t.axis];let c=o===null?NaN:o;const h=r&&s._stacks[t.axis];r&&h&&(r.values=h,c=Xb(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,c=r.length,h=this._getOtherScale(e),d=FA(t,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:b}=zA(h);let v,x;function S(){x=r[v];const E=x[h.axis];return!mn(x[e.axis])||m>E||b<E}for(v=0;v<c&&!(!S()&&(this.updateRangeFromParsed(f,e,x,d),o));++v);if(o){for(v=c-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(f,e,x,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let r,o,c;for(r=0,o=t.length;r<o;++r)c=t[r][e.axis],mn(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=NA(Te(this.options.clip,DA(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,r=s.data||[],o=t.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,f=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(e,o,h,d),m=h;m<h+d;++m){const b=r[m];b.hidden||(b.active&&f?c.push(b):b.draw(e,o))}for(m=0;m<c.length;++m)c[m].draw(e,o)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=HA(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=UA(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const r=t==="active",o=this._cachedDataOpts,c=e+"-"+t,h=o[c],d=this.enableOptionSharing&&no(s);if(h)return Zb(h,d);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),b=r?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),m),x=Object.keys(at.elements[e]),S=()=>this.getContext(s,r,t),E=f.resolveNamedOptions(v,x,S,b);return E.$shared&&(E.$shared=d,o[c]=Object.freeze(Zb(E,d))),E}_resolveAnimations(e,t,s){const r=this.chart,o=this._cachedDataOpts,c=`animation-${t}`,h=o[c];if(h)return h;let d;if(r.options.animation!==!1){const m=this.chart.config,b=m.datasetAnimationScopeKeys(this._type,t),v=m.getOptionScopes(this.getDataset(),b);d=m.createResolver(v,this.getContext(e,s,t))}const f=new H_(r,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||_d(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,s),{sharedOptions:o,includeOptions:c}}updateElement(e,t,s,r){_d(r)?Object.assign(e,s):this._resolveAnimations(t,r).update(e,s)}updateSharedOptions(e,t,s){e&&!_d(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[h,d,f]of this._syncList)this[h](d,f);this._syncList=[];const r=s.length,o=t.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,s=!0){const r=this._cachedMeta,o=r.data,c=e+t;let h;const d=f=>{for(f.length+=t,h=f.length-1;h>=c;h--)f[h]=f[h-t]};for(d(o),h=e;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(e,t),s&&this.updateElements(o,e,t,"reset")}updateElements(e,t,s,r){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,t);s._stacked&&Pr(s,r)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,r]=e;this[t](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function IA(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let s=[];for(let r=0,o=t.length;r<o;r++)s=s.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=C_(s.sort((r,o)=>r-o))}return i._cache.$bar}function qA(i){const e=i.iScale,t=IA(e,i.type);let s=e._length,r,o,c,h;const d=()=>{c===32767||c===-32768||(no(h)&&(s=Math.min(s,Math.abs(c-h)||s)),h=c)};for(r=0,o=t.length;r<o;++r)c=e.getPixelForValue(t[r]),d();for(h=void 0,r=0,o=e.ticks.length;r<o;++r)c=e.getPixelForTick(r),d();return s}function $A(i,e,t,s){const r=t.barThickness;let o,c;return ze(r)?(o=e.min*t.categoryPercentage,c=t.barPercentage):(o=r*s,c=1),{chunk:o/s,ratio:c,start:e.pixels[i]-o/2}}function GA(i,e,t,s){const r=e.pixels,o=r[i];let c=i>0?r[i-1]:null,h=i<r.length-1?r[i+1]:null;const d=t.categoryPercentage;c===null&&(c=o-(h===null?e.end-e.start:h-o)),h===null&&(h=o+o-c);const f=o-(o-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/s,ratio:t.barPercentage,start:f}}function VA(i,e,t,s){const r=t.parse(i[0],s),o=t.parse(i[1],s),c=Math.min(r,o),h=Math.max(r,o);let d=c,f=h;Math.abs(c)>Math.abs(h)&&(d=h,f=c),e[t.axis]=f,e._custom={barStart:d,barEnd:f,start:r,end:o,min:c,max:h}}function I_(i,e,t,s){return gt(i)?VA(i,e,t,s):e[t.axis]=t.parse(i,s),e}function ev(i,e,t,s){const r=i.iScale,o=i.vScale,c=r.getLabels(),h=r===o,d=[];let f,m,b,v;for(f=t,m=t+s;f<m;++f)v=e[f],b={},b[r.axis]=h||r.parse(c[f],f),d.push(I_(v,b,o,f));return d}function xd(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function YA(i,e,t){return i!==0?Nn(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function WA(i){let e,t,s,r,o;return i.horizontal?(e=i.base>i.x,t="left",s="right"):(e=i.base<i.y,t="bottom",s="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:s,reverse:e,top:r,bottom:o}}function KA(i,e,t,s){let r=e.borderSkipped;const o={};if(!r){i.borderSkipped=o;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:f,bottom:m}=WA(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===s?r=f:(t._bottom||0)===s?r=m:(o[tv(m,c,h,d)]=!0,r=f)),o[tv(r,c,h,d)]=!0,i.borderSkipped=o}function tv(i,e,t,s){return s?(i=XA(i,e,t),i=nv(i,t,e)):i=nv(i,e,t),i}function XA(i,e,t){return i===e?t:i===t?e:i}function nv(i,e,t){return i==="start"?e:i==="end"?t:i}function QA(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class JA extends zc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,r){return ev(e,t,s,r)}parseArrayData(e,t,s,r){return ev(e,t,s,r)}parseObjectData(e,t,s,r){const{iScale:o,vScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=o.axis==="x"?h:d,m=c.axis==="x"?h:d,b=[];let v,x,S,E;for(v=s,x=s+r;v<x;++v)E=t[v],S={},S[o.axis]=o.parse(js(E,f),v),b.push(I_(js(E,m),S,c,v));return b}updateRangeFromParsed(e,t,s,r){super.updateRangeFromParsed(e,t,s,r);const o=s._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:r}=t,o=this.getParsed(e),c=o._custom,h=xd(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),f=h.isHorizontal(),m=this._getRuler(),{sharedOptions:b,includeOptions:v}=this._getSharedOptions(t,r);for(let x=t;x<t+s;x++){const S=this.getParsed(x),E=o||ze(S[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(x),w=this._calculateBarIndexPixels(x,m),C=(S._stacks||{})[h.axis],j={horizontal:f,base:E.base,enableBorderRadius:!C||xd(S._custom)||c===C._top||c===C._bottom,x:f?E.head:w.center,y:f?w.center:E.head,height:f?w.size:Math.abs(E.size),width:f?Math.abs(E.size):w.size};v&&(j.options=b||this.resolveDataElementOptions(x,e[x].active?"active":r));const A=j.options||e[x].options;KA(j,A,C,c),QA(j,A,m.ratio),this.updateElement(e[x],x,j,r)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=s.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(t),d=h&&h[s.axis],f=m=>{const b=m._parsed.find(x=>x[s.axis]===d),v=b&&b[m.vScale.axis];if(ze(v)||isNaN(v))return!0};for(const m of r)if(!(t!==void 0&&f(m))&&((o===!1||c.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Te(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const r=this._getStacks(e,s),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,r=[];let o,c;for(o=0,c=t.data.length;o<c;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const h=e.barThickness;return{min:h||qA(t),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,d=this.getParsed(e),f=d._custom,m=xd(f);let b=d[t.axis],v=0,x=s?this.applyStack(t,d,s):b,S,E;x!==b&&(v=x-b,x=b),m&&(b=f.barStart,x=f.barEnd-f.barStart,b!==0&&Nn(b)!==Nn(f.barEnd)&&(v=0),v+=b);const w=!ze(o)&&!m?o:v;let C=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(v+x):S=C,E=S-C,Math.abs(E)<c){E=YA(E,t,h)*c,b===h&&(C-=E/2);const j=t.getPixelForDecimal(0),A=t.getPixelForDecimal(1),D=Math.min(j,A),k=Math.max(j,A);C=Math.max(Math.min(C,k),D),S=C+E,s&&!m&&(d._stacks[t.axis]._visualValues[r]=t.getValueForPixel(S)-t.getValueForPixel(C))}if(C===t.getPixelForValue(h)){const j=Nn(E)*t.getLineWidthForValue(h)/2;C+=j,E-=j}return{size:E,base:C,head:S,center:S+E/2}}_calculateBarIndexPixels(e,t){const s=t.scale,r=this.options,o=r.skipNull,c=Te(r.maxBarThickness,1/0);let h,d;const f=this._getAxisCount();if(t.grouped){const m=o?this._getStackCount(e):t.stackCount,b=r.barThickness==="flex"?GA(e,t,r,m*f):$A(e,t,r,m*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Te(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+x;h=b.start+b.chunk*S+b.chunk/2,d=Math.min(c,b.chunk*b.ratio)}else h=s.getPixelForValue(this.getParsed(e)[s.axis],e),d=Math.min(c,t.min*t.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,r=s.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}function ZA(i,e,t){let s=1,r=1,o=0,c=0;if(e<nt){const h=i,d=h+e,f=Math.cos(h),m=Math.sin(h),b=Math.cos(d),v=Math.sin(d),x=(A,D,k)=>so(A,h,d,!0)?1:Math.max(D,D*t,k,k*t),S=(A,D,k)=>so(A,h,d,!0)?-1:Math.min(D,D*t,k,k*t),E=x(0,f,b),w=x(pt,m,v),C=S(Fe,f,b),j=S(Fe+pt,m,v);s=(E-C)/2,r=(w-j)/2,o=-(E+C)/2,c=-(w+j)/2}return{ratioX:s,ratioY:r,offsetX:o,offsetY:c}}class eO extends zc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,f)=>{const b=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:b.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(f),lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,textAlign:r,pointStyle:s,borderRadius:c&&(h||b.borderRadius),index:f}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let o=d=>+s[d];if(De(s[e])){const{key:d="value"}=this._parsing;o=f=>+js(s[f],d)}let c,h;for(c=e,h=e+t;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return oi(this.options.rotation-90)}_getCircumference(){return oi(this.options.circumference)}_getRotationExtents(){let e=nt,t=-nt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,o=r._getRotation(),c=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+c)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-c)/2,0),d=Math.min(ij(this.options.cutout,h),1),f=this._getRingWeight(this.index),{circumference:m,rotation:b}=this._getRotationExtents(),{ratioX:v,ratioY:x,offsetX:S,offsetY:E}=ZA(b,m,d),w=(s.width-c)/v,C=(s.height-c)/x,j=Math.max(Math.min(w,C)/2,0),A=x_(this.options.radius,j),D=Math.max(A*d,0),k=(A-D)/this._getVisibleDatasetWeightTotal();this.offsetX=S*A,this.offsetY=E*A,r.total=this.calculateTotal(),this.outerRadius=A-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const s=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/nt)}updateElements(e,t,s,r){const o=r==="reset",c=this.chart,h=c.chartArea,f=c.options.animation,m=(h.left+h.right)/2,b=(h.top+h.bottom)/2,v=o&&f.animateScale,x=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:E,includeOptions:w}=this._getSharedOptions(t,r);let C=this._getRotation(),j;for(j=0;j<t;++j)C+=this._circumference(j,o);for(j=t;j<t+s;++j){const A=this._circumference(j,o),D=e[j],k={x:m+this.offsetX,y:b+this.offsetY,startAngle:C,endAngle:C+A,circumference:A,outerRadius:S,innerRadius:x};w&&(k.options=E||this.resolveDataElementOptions(j,D.active?"active":r)),C+=A,this.updateElement(D,j,k,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,r;for(r=0;r<t.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?nt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,r=s.data.labels||[],o=wf(t._parsed[e],s.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const s=this.chart;let r,o,c,h,d;if(!e){for(r=0,o=s.data.datasets.length;r<o;++r)if(s.isDatasetVisible(r)){c=s.getDatasetMeta(r),e=c.data,h=c.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)d=h.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,r=e.length;s<r;++s){const o=this.resolveDataElementOptions(s);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Te(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class tO extends zc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=t,c=this.chart._animationsDisabled;let{start:h,count:d}=wj(t,r,c);this._drawStart=h,this._drawCount=d,Ej(t)&&(h=0,d=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:f},e),this.updateElements(r,h,d,e)}updateElements(e,t,s,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(t,r),v=c.axis,x=h.axis,{spanGaps:S,segment:E}=this.options,w=io(S)?S:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||r==="none",j=t+s,A=e.length;let D=t>0&&this.getParsed(t-1);for(let k=0;k<A;++k){const z=e[k],P=C?z:{};if(k<t||k>=j){P.skip=!0;continue}const $=this.getParsed(k),ee=ze($[x]),X=P[v]=c.getPixelForValue($[v],k),G=P[x]=o||ee?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,$,d):$[x],k);P.skip=isNaN(X)||isNaN(G)||ee,P.stop=k>0&&Math.abs($[v]-D[v])>w,E&&(P.parsed=$,P.raw=f.data[k]),b&&(P.options=m||this.resolveDataElementOptions(k,z.active?"active":r)),C||this.updateElement(z,k,P,r),D=$}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function ms(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kf{static override(e){Object.assign(kf.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ms()}parse(){return ms()}format(){return ms()}add(){return ms()}diff(){return ms()}startOf(){return ms()}endOf(){return ms()}}var nO={_date:kf};function iO(i,e,t,s){const{controller:r,data:o,_sorted:c}=i,h=r._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&o.length){const f=h._reversePixels?bj:Ts;if(s){if(r._sharedOptions){const m=o[0],b=typeof m.getRange=="function"&&m.getRange(e);if(b){const v=f(o,e,t-b),x=f(o,e,t+b);return{lo:v.lo,hi:x.hi}}}}else{const m=f(o,e,t);if(d){const{vScale:b}=r._cachedMeta,{_parsed:v}=i,x=v.slice(0,m.lo+1).reverse().findIndex(E=>!ze(E[b.axis]));m.lo-=Math.max(0,x);const S=v.slice(m.hi).findIndex(E=>!ze(E[b.axis]));m.hi+=Math.max(0,S)}return m}}return{lo:0,hi:o.length-1}}function Bc(i,e,t,s,r){const o=i.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,d=o.length;h<d;++h){const{index:f,data:m}=o[h],{lo:b,hi:v}=iO(o[h],e,c,r);for(let x=b;x<=v;++x){const S=m[x];S.skip||s(S,f,x)}}}function sO(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(s,r){const o=e?Math.abs(s.x-r.x):0,c=t?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Sd(i,e,t,s,r){const o=[];return!r&&!i.isPointInArea(e)||Bc(i,t,e,function(h,d,f){!r&&!ao(h,i.chartArea,0)||h.inRange(e.x,e.y,s)&&o.push({element:h,datasetIndex:d,index:f})},!0),o}function aO(i,e,t,s){let r=[];function o(c,h,d){const{startAngle:f,endAngle:m}=c.getProps(["startAngle","endAngle"],s),{angle:b}=E_(c,{x:e.x,y:e.y});so(b,f,m)&&r.push({element:c,datasetIndex:h,index:d})}return Bc(i,t,e,o),r}function rO(i,e,t,s,r,o){let c=[];const h=sO(t);let d=Number.POSITIVE_INFINITY;function f(m,b,v){const x=m.inRange(e.x,e.y,r);if(s&&!x)return;const S=m.getCenterPoint(r);if(!(!!o||i.isPointInArea(S))&&!x)return;const w=h(e,S);w<d?(c=[{element:m,datasetIndex:b,index:v}],d=w):w===d&&c.push({element:m,datasetIndex:b,index:v})}return Bc(i,t,e,f),c}function wd(i,e,t,s,r,o){return!o&&!i.isPointInArea(e)?[]:t==="r"&&!s?aO(i,e,t,r):rO(i,e,t,s,r,o)}function iv(i,e,t,s,r){const o=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return Bc(i,t,e,(d,f,m)=>{d[c]&&d[c](e[t],r)&&(o.push({element:d,datasetIndex:f,index:m}),h=h||d.inRange(e.x,e.y,r))}),s&&!h?[]:o}var oO={modes:{index(i,e,t,s){const r=_s(e,i),o=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?Sd(i,r,o,s,c):wd(i,r,o,!1,s,c),d=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(f=>{const m=h[0].index,b=f.data[m];b&&!b.skip&&d.push({element:b,datasetIndex:f.index,index:m})}),d):[]},dataset(i,e,t,s){const r=_s(e,i),o=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?Sd(i,r,o,s,c):wd(i,r,o,!1,s,c);if(h.length>0){const d=h[0].datasetIndex,f=i.getDatasetMeta(d).data;h=[];for(let m=0;m<f.length;++m)h.push({element:f[m],datasetIndex:d,index:m})}return h},point(i,e,t,s){const r=_s(e,i),o=t.axis||"xy",c=t.includeInvisible||!1;return Sd(i,r,o,s,c)},nearest(i,e,t,s){const r=_s(e,i),o=t.axis||"xy",c=t.includeInvisible||!1;return wd(i,r,o,t.intersect,s,c)},x(i,e,t,s){const r=_s(e,i);return iv(i,r,"x",t.intersect,s)},y(i,e,t,s){const r=_s(e,i);return iv(i,r,"y",t.intersect,s)}}};const q_=["left","top","right","bottom"];function Lr(i,e){return i.filter(t=>t.pos===e)}function sv(i,e){return i.filter(t=>q_.indexOf(t.pos)===-1&&t.box.axis===e)}function zr(i,e){return i.sort((t,s)=>{const r=e?s:t,o=e?t:s;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function lO(i){const e=[];let t,s,r,o,c,h;for(t=0,s=(i||[]).length;t<s;++t)r=i[t],{position:o,options:{stack:c,stackWeight:h=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return e}function cO(i){const e={};for(const t of i){const{stack:s,pos:r,stackWeight:o}=t;if(!s||!q_.includes(r))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function uO(i,e){const t=cO(i),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let o,c,h;for(o=0,c=i.length;o<c;++o){h=i[o];const{fullSize:d}=h.box,f=t[h.stack],m=f&&h.stackWeight/f.weight;h.horizontal?(h.width=m?m*s:d&&e.availableWidth,h.height=r):(h.width=s,h.height=m?m*r:d&&e.availableHeight)}return t}function hO(i){const e=lO(i),t=zr(e.filter(f=>f.box.fullSize),!0),s=zr(Lr(e,"left"),!0),r=zr(Lr(e,"right")),o=zr(Lr(e,"top"),!0),c=zr(Lr(e,"bottom")),h=sv(e,"x"),d=sv(e,"y");return{fullSize:t,leftAndTop:s.concat(o),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:Lr(e,"chartArea"),vertical:s.concat(r).concat(d),horizontal:o.concat(c).concat(h)}}function av(i,e,t,s){return Math.max(i[t],e[t])+Math.max(i[s],e[s])}function $_(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function dO(i,e,t,s){const{pos:r,box:o}=t,c=i.maxPadding;if(!De(r)){t.size&&(i[r]-=t.size);const b=s[t.stack]||{size:0,count:1};b.size=Math.max(b.size,t.horizontal?o.height:o.width),t.size=b.size/b.count,i[r]+=t.size}o.getPadding&&$_(c,o.getPadding());const h=Math.max(0,e.outerWidth-av(c,i,"left","right")),d=Math.max(0,e.outerHeight-av(c,i,"top","bottom")),f=h!==i.w,m=d!==i.h;return i.w=h,i.h=d,t.horizontal?{same:f,other:m}:{same:m,other:f}}function fO(i){const e=i.maxPadding;function t(s){const r=Math.max(e[s]-i[s],0);return i[s]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function gO(i,e){const t=e.maxPadding;function s(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}return s(i?["left","right"]:["top","bottom"])}function $r(i,e,t,s){const r=[];let o,c,h,d,f,m;for(o=0,c=i.length,f=0;o<c;++o){h=i[o],d=h.box,d.update(h.width||e.w,h.height||e.h,gO(h.horizontal,e));const{same:b,other:v}=dO(e,t,h,s);f|=b&&r.length,m=m||v,d.fullSize||r.push(h)}return f&&$r(r,e,t,s)||m}function Xl(i,e,t,s,r){i.top=t,i.left=e,i.right=e+s,i.bottom=t+r,i.width=s,i.height=r}function rv(i,e,t,s){const r=t.padding;let{x:o,y:c}=e;for(const h of i){const d=h.box,f=s[h.stack]||{placed:0,weight:1},m=h.stackWeight/f.weight||1;if(h.horizontal){const b=e.w*m,v=f.size||d.height;no(f.start)&&(c=f.start),d.fullSize?Xl(d,r.left,c,t.outerWidth-r.right-r.left,v):Xl(d,e.left+f.placed,c,b,v),f.start=c,f.placed+=b,c=d.bottom}else{const b=e.h*m,v=f.size||d.width;no(f.start)&&(o=f.start),d.fullSize?Xl(d,o,r.top,v,t.outerHeight-r.bottom-r.top):Xl(d,o,e.top+f.placed,v,b),f.start=o,f.placed+=b,o=d.right}}e.x=o,e.y=c}var pn={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,s){if(!i)return;const r=yn(i.options.layout.padding),o=Math.max(e-r.width,0),c=Math.max(t-r.height,0),h=hO(i.boxes),d=h.vertical,f=h.horizontal;He(i.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const m=d.reduce((E,w)=>w.box.options&&w.box.options.display===!1?E:E+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/m,hBoxMaxHeight:c/2}),v=Object.assign({},r);$_(v,yn(s));const x=Object.assign({maxPadding:v,w:o,h:c,x:r.left,y:r.top},r),S=uO(d.concat(f),b);$r(h.fullSize,x,b,S),$r(d,x,b,S),$r(f,x,b,S)&&$r(d,x,b,S),fO(x),rv(h.leftAndTop,x,b,S),x.x+=x.w,x.y+=x.h,rv(h.rightAndBottom,x,b,S),i.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},He(h.chartArea,E=>{const w=E.box;Object.assign(w,i.chartArea),w.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class G_{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,r){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):s)}}isAttached(e){return!0}updateConfig(e){}}class pO extends G_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const hc="$chartjs",mO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ov=i=>i===null||i==="";function yO(i,e){const t=i.style,s=i.getAttribute("height"),r=i.getAttribute("width");if(i[hc]={initial:{height:s,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ov(r)){const o=$b(i,"width");o!==void 0&&(i.width=o)}if(ov(s))if(i.style.height==="")i.height=i.width/(e||2);else{const o=$b(i,"height");o!==void 0&&(i.height=o)}return i}const V_=fA?{passive:!0}:!1;function bO(i,e,t){i&&i.addEventListener(e,t,V_)}function vO(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,V_)}function _O(i,e){const t=mO[i.type]||i.type,{x:s,y:r}=_s(i,e);return{type:t,chart:e,native:i,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Ac(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function xO(i,e,t){const s=i.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Ac(h.addedNodes,s),c=c&&!Ac(h.removedNodes,s);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function SO(i,e,t){const s=i.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Ac(h.removedNodes,s),c=c&&!Ac(h.addedNodes,s);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const oo=new Map;let lv=0;function Y_(){const i=window.devicePixelRatio;i!==lv&&(lv=i,oo.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function wO(i,e){oo.size||window.addEventListener("resize",Y_),oo.set(i,e)}function EO(i){oo.delete(i),oo.size||window.removeEventListener("resize",Y_)}function TO(i,e,t){const s=i.canvas,r=s&&Mf(s);if(!r)return;const o=A_((h,d)=>{const f=r.clientWidth;t(h,d),f<r.clientWidth&&t()},window),c=new ResizeObserver(h=>{const d=h[0],f=d.contentRect.width,m=d.contentRect.height;f===0&&m===0||o(f,m)});return c.observe(r),wO(i,o),c}function Ed(i,e,t){t&&t.disconnect(),e==="resize"&&EO(i)}function CO(i,e,t){const s=i.canvas,r=A_(o=>{i.ctx!==null&&t(_O(o,i))},i);return bO(s,e,r),r}class jO extends G_{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(yO(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[hc])return!1;const s=t[hc].initial;["height","width"].forEach(o=>{const c=s[o];ze(c)?t.removeAttribute(o):t.setAttribute(o,c)});const r=s.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[hc],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),c={attach:xO,detach:SO,resize:TO}[t]||CO;r[t]=c(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),r=s[t];if(!r)return;({attach:Ed,detach:Ed,resize:Ed}[t]||vO)(e,t,r),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,r){return dA(e,t,s,r)}isAttached(e){const t=e&&Mf(e);return!!(t&&t.isConnected)}}function AO(i){return!Rf()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?pO:jO}class di{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return io(this.x)&&io(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const r={};return e.forEach(o=>{r[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),r}}function OO(i,e){const t=i.options.ticks,s=RO(i),r=Math.min(t.maxTicksLimit||s,s),o=t.major.enabled?kO(e):[],c=o.length,h=o[0],d=o[c-1],f=[];if(c>r)return DO(e,f,o,c/r),f;const m=MO(o,e,r);if(c>0){let b,v;const x=c>1?Math.round((d-h)/(c-1)):null;for(Ql(e,f,m,ze(x)?0:h-x,h),b=0,v=c-1;b<v;b++)Ql(e,f,m,o[b],o[b+1]);return Ql(e,f,m,d,ze(x)?e.length:d+x),f}return Ql(e,f,m),f}function RO(i){const e=i.options.offset,t=i._tickSize(),s=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(s,r))}function MO(i,e,t){const s=NO(i),r=e.length/t;if(!s)return Math.max(r,1);const o=hj(s);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>r)return d}return Math.max(r,1)}function kO(i){const e=[];let t,s;for(t=0,s=i.length;t<s;t++)i[t].major&&e.push(t);return e}function DO(i,e,t,s){let r=0,o=t[0],c;for(s=Math.ceil(s),c=0;c<i.length;c++)c===o&&(e.push(i[c]),r++,o=t[r*s])}function Ql(i,e,t,s,r){const o=Te(s,0),c=Math.min(Te(r,i.length),i.length);let h=0,d,f,m;for(t=Math.ceil(t),r&&(d=r-s,t=d/Math.floor(d/t)),m=o;m<0;)h++,m=Math.round(o+h*t);for(f=Math.max(o,0);f<c;f++)f===m&&(e.push(i[f]),h++,m=Math.round(o+h*t))}function NO(i){const e=i.length;let t,s;if(e<2)return!1;for(s=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==s)return!1;return s}const PO=i=>i==="left"?"right":i==="right"?"left":i,cv=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,uv=(i,e)=>Math.min(e||i,i);function hv(i,e){const t=[],s=i.length/e,r=i.length;let o=0;for(;o<r;o+=s)t.push(i[Math.floor(o)]);return t}function LO(i,e,t){const s=i.ticks.length,r=Math.min(e,s-1),o=i._startPixel,c=i._endPixel,h=1e-6;let d=i.getPixelForTick(r),f;if(!(t&&(s===1?f=Math.max(d-o,c-d):e===0?f=(i.getPixelForTick(1)-d)/2:f=(d-i.getPixelForTick(r-1))/2,d+=r<e?f:-f,d<o-h||d>c+h)))return d}function zO(i,e){He(i,t=>{const s=t.gc,r=s.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[s[o]];s.splice(0,r)}})}function Br(i){return i.drawTicks?i.tickLength:0}function dv(i,e){if(!i.display)return 0;const t=Ot(i.font,e),s=yn(i.padding);return(gt(i.text)?i.text.length:1)*t.lineHeight+s.height}function BO(i,e){return Os(i,{scale:e,type:"scale"})}function UO(i,e,t){return Os(i,{tick:t,index:e,type:"tick"})}function HO(i,e,t){let s=xf(i);return(t&&e!=="right"||!t&&e==="right")&&(s=PO(s)),s}function FO(i,e,t,s){const{top:r,left:o,bottom:c,right:h,chart:d}=i,{chartArea:f,scales:m}=d;let b=0,v,x,S;const E=c-r,w=h-o;if(i.isHorizontal()){if(x=jt(s,o,h),De(t)){const C=Object.keys(t)[0],j=t[C];S=m[C].getPixelForValue(j)+E-e}else t==="center"?S=(f.bottom+f.top)/2+E-e:S=cv(i,t,e);v=h-o}else{if(De(t)){const C=Object.keys(t)[0],j=t[C];x=m[C].getPixelForValue(j)-w+e}else t==="center"?x=(f.left+f.right)/2-w+e:x=cv(i,t,e);S=jt(s,c,r),b=t==="left"?-pt:pt}return{titleX:x,titleY:S,maxWidth:v,rotation:b}}class La extends di{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:r}=this;return e=Rn(e,Number.POSITIVE_INFINITY),t=Rn(t,Number.NEGATIVE_INFINITY),s=Rn(s,Number.POSITIVE_INFINITY),r=Rn(r,Number.NEGATIVE_INFINITY),{min:Rn(e,s),max:Rn(t,r),minDefined:mn(e),maxDefined:mn(t)}}getMinMax(e){let{min:t,max:s,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:t,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,f=h.length;d<f;++d)c=h[d].controller.getMinMax(this,e),r||(t=Math.min(t,c.min)),o||(s=Math.max(s,c.max));return t=o&&t>s?s:t,s=r&&t>s?t:s,{min:Rn(t,Rn(s,t)),max:Rn(s,Rn(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ke(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$j(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?hv(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=OO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ke(this.options.afterUpdate,[this])}beforeSetDimensions(){Ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ke(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ke(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,r,o;for(s=0,r=e.length;s<r;s++)o=e[s],o.label=Ke(t.callback,[o.value,s,e],this)}afterTickToLabelConversion(){Ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=uv(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let c=r,h,d,f;if(!this._isVisible()||!t.display||r>=o||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),b=m.widest.width,v=m.highest.height,x=At(this.chart.width-b,0,this.maxWidth);h=e.offset?this.maxWidth/s:x/(s-1),b+6>h&&(h=x/(s-(e.offset?.5:1)),d=this.maxHeight-Br(e.grid)-t.padding-dv(e.title,this.chart.options.font),f=Math.sqrt(b*b+v*v),c=pj(Math.min(Math.asin(At((m.highest.height+6)/h,-1,1)),Math.asin(At(d/f,-1,1))-Math.asin(At(v/f,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ke(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=dv(r,t.options.font);if(h?(e.width=this.maxWidth,e.height=Br(o)+d):(e.height=this.maxHeight,e.width=Br(o)+d),s.display&&this.ticks.length){const{first:f,last:m,widest:b,highest:v}=this._getLabelSizes(),x=s.padding*2,S=oi(this.labelRotation),E=Math.cos(S),w=Math.sin(S);if(h){const C=s.mirror?0:w*b.width+E*v.height;e.height=Math.min(this.maxHeight,e.height+C+x)}else{const C=s.mirror?0:E*b.width+w*v.height;e.width=Math.min(this.maxWidth,e.width+C+x)}this._calculatePadding(f,m,w,E)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,r){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,f=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,x=0;d?f?(v=r*e.width,x=s*t.height):(v=s*e.height,x=r*t.width):o==="start"?x=t.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,x=t.width/2),this.paddingLeft=Math.max((v-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((x-b+c)*this.width/(this.width-b),0)}else{let m=t.height/2,b=e.height/2;o==="start"?(m=0,b=e.height):o==="end"&&(m=t.height,b=0),this.paddingTop=m+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ke(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)ze(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=hv(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(t/uv(t,s));let f=0,m=0,b,v,x,S,E,w,C,j,A,D,k;for(b=0;b<t;b+=d){if(S=e[b].label,E=this._resolveTickFontOptions(b),r.font=w=E.string,C=o[w]=o[w]||{data:{},gc:[]},j=E.lineHeight,A=D=0,!ze(S)&&!gt(S))A=Ub(r,C.data,C.gc,A,S),D=j;else if(gt(S))for(v=0,x=S.length;v<x;++v)k=S[v],!ze(k)&&!gt(k)&&(A=Ub(r,C.data,C.gc,A,k),D+=j);c.push(A),h.push(D),f=Math.max(A,f),m=Math.max(D,m)}zO(o,t);const z=c.indexOf(f),P=h.indexOf(m),$=ee=>({width:c[ee]||0,height:h[ee]||0});return{first:$(0),last:$(t-1),widest:$(z),highest:$(P),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return yj(this._alignToPixels?ps(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=UO(this.getContext(),e,s))}return this.$context||(this.$context=BO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=oi(this.labelRotation),s=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*s>h*r?h/s:d/r:d*r<h*s?d/s:h/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,r=this.options,{grid:o,position:c,border:h}=r,d=o.offset,f=this.isHorizontal(),b=this.ticks.length+(d?1:0),v=Br(o),x=[],S=h.setContext(this.getContext()),E=S.display?S.width:0,w=E/2,C=function(B){return ps(s,B,E)};let j,A,D,k,z,P,$,ee,X,G,Y,re;if(c==="top")j=C(this.bottom),P=this.bottom-v,ee=j-w,G=C(e.top)+w,re=e.bottom;else if(c==="bottom")j=C(this.top),G=e.top,re=C(e.bottom)-w,P=j+w,ee=this.top+v;else if(c==="left")j=C(this.right),z=this.right-v,$=j-w,X=C(e.left)+w,Y=e.right;else if(c==="right")j=C(this.left),X=e.left,Y=C(e.right)-w,z=j+w,$=this.left+v;else if(t==="x"){if(c==="center")j=C((e.top+e.bottom)/2+.5);else if(De(c)){const B=Object.keys(c)[0],L=c[B];j=C(this.chart.scales[B].getPixelForValue(L))}G=e.top,re=e.bottom,P=j+w,ee=P+v}else if(t==="y"){if(c==="center")j=C((e.left+e.right)/2);else if(De(c)){const B=Object.keys(c)[0],L=c[B];j=C(this.chart.scales[B].getPixelForValue(L))}z=j-w,$=z-v,X=e.left,Y=e.right}const de=Te(r.ticks.maxTicksLimit,b),ge=Math.max(1,Math.ceil(b/de));for(A=0;A<b;A+=ge){const B=this.getContext(A),L=o.setContext(B),te=h.setContext(B),ae=L.lineWidth,pe=L.color,O=te.dash||[],I=te.dashOffset,W=L.tickWidth,ie=L.tickColor,he=L.tickBorderDash||[],me=L.tickBorderDashOffset;D=LO(this,A,d),D!==void 0&&(k=ps(s,D,ae),f?z=$=X=Y=k:P=ee=G=re=k,x.push({tx1:z,ty1:P,tx2:$,ty2:ee,x1:X,y1:G,x2:Y,y2:re,width:ae,color:pe,borderDash:O,borderDashOffset:I,tickWidth:W,tickColor:ie,tickBorderDash:he,tickBorderDashOffset:me}))}return this._ticksLength=b,this._borderValue=j,x}_computeLabelItems(e){const t=this.axis,s=this.options,{position:r,ticks:o}=s,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:f,padding:m,mirror:b}=o,v=Br(s.grid),x=v+m,S=b?-m:x,E=-oi(this.labelRotation),w=[];let C,j,A,D,k,z,P,$,ee,X,G,Y,re="middle";if(r==="top")z=this.bottom-S,P=this._getXAxisLabelAlignment();else if(r==="bottom")z=this.top+S,P=this._getXAxisLabelAlignment();else if(r==="left"){const ge=this._getYAxisLabelAlignment(v);P=ge.textAlign,k=ge.x}else if(r==="right"){const ge=this._getYAxisLabelAlignment(v);P=ge.textAlign,k=ge.x}else if(t==="x"){if(r==="center")z=(e.top+e.bottom)/2+x;else if(De(r)){const ge=Object.keys(r)[0],B=r[ge];z=this.chart.scales[ge].getPixelForValue(B)+x}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")k=(e.left+e.right)/2-x;else if(De(r)){const ge=Object.keys(r)[0],B=r[ge];k=this.chart.scales[ge].getPixelForValue(B)}P=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?re="top":d==="end"&&(re="bottom"));const de=this._getLabelSizes();for(C=0,j=h.length;C<j;++C){A=h[C],D=A.label;const ge=o.setContext(this.getContext(C));$=this.getPixelForTick(C)+o.labelOffset,ee=this._resolveTickFontOptions(C),X=ee.lineHeight,G=gt(D)?D.length:1;const B=G/2,L=ge.color,te=ge.textStrokeColor,ae=ge.textStrokeWidth;let pe=P;c?(k=$,P==="inner"&&(C===j-1?pe=this.options.reverse?"left":"right":C===0?pe=this.options.reverse?"right":"left":pe="center"),r==="top"?f==="near"||E!==0?Y=-G*X+X/2:f==="center"?Y=-de.highest.height/2-B*X+X:Y=-de.highest.height+X/2:f==="near"||E!==0?Y=X/2:f==="center"?Y=de.highest.height/2-B*X:Y=de.highest.height-G*X,b&&(Y*=-1),E!==0&&!ge.showLabelBackdrop&&(k+=X/2*Math.sin(E))):(z=$,Y=(1-G)*X/2);let O;if(ge.showLabelBackdrop){const I=yn(ge.backdropPadding),W=de.heights[C],ie=de.widths[C];let he=Y-I.top,me=0-I.left;switch(re){case"middle":he-=W/2;break;case"bottom":he-=W;break}switch(P){case"center":me-=ie/2;break;case"right":me-=ie;break;case"inner":C===j-1?me-=ie:C>0&&(me-=ie/2);break}O={left:me,top:he,width:ie+I.width,height:W+I.height,color:ge.backdropColor}}w.push({label:D,font:ee,textOffset:Y,options:{rotation:E,color:L,strokeColor:te,strokeWidth:ae,textAlign:pe,textBaseline:re,translation:[k,z],backdrop:O}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-oi(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=e+o,d=c.widest.width;let f,m;return t==="left"?r?(m=this.right+o,s==="near"?f="left":s==="center"?(f="center",m+=d/2):(f="right",m+=d)):(m=this.right-h,s==="near"?f="right":s==="center"?(f="center",m-=d/2):(f="left",m=this.left)):t==="right"?r?(m=this.left+o,s==="near"?f="right":s==="center"?(f="center",m-=d/2):(f="left",m-=d)):(m=this.left+h,s==="near"?f="left":s==="center"?(f="center",m+=d/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:r,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,r,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const h=(d,f,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(t.display)for(o=0,c=r.length;o<c;++o){const d=r[o];t.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:r}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,m,b,v;this.isHorizontal()?(f=ps(e,this.left,c)-c/2,m=ps(e,this.right,h)+h/2,b=v=d):(b=ps(e,this.top,c)-c/2,v=ps(e,this.bottom,h)+h/2,f=m=d),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,b),t.lineTo(m,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Ef(s,r);const o=this.getLabelItems(e);for(const c of o){const h=c.options,d=c.font,f=c.label,m=c.textOffset;ro(s,f,0,m,d,h)}r&&Tf(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:r}}=this;if(!s.display)return;const o=Ot(s.font),c=yn(s.padding),h=s.align;let d=o.lineHeight/2;t==="bottom"||t==="center"||De(t)?(d+=c.bottom,gt(s.text)&&(d+=o.lineHeight*(s.text.length-1))):d+=c.top;const{titleX:f,titleY:m,maxWidth:b,rotation:v}=FO(this,d,t,h);ro(e,s.text,0,0,o,{color:s.color,maxWidth:b,rotation:v,textAlign:HO(h,t,r),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Te(e.grid&&e.grid.z,-1),r=Te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==La.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let o,c;for(o=0,c=t.length;o<c;++o){const h=t[o];h[s]===this.id&&(!e||h.type===e)&&r.push(h)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ot(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Jl{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;$O(t)&&(s=this.register(t));const r=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,IO(e,c,s),this.override&&at.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,r=this.scope;s in t&&delete t[s],r&&s in at[r]&&(delete at[r][s],this.override&&delete As[s])}}function IO(i,e,t){const s=to(Object.create(null),[t?at.get(t):{},at.get(e),i.defaults]);at.set(e,s),i.defaultRoutes&&qO(e,i.defaultRoutes),i.descriptors&&at.describe(e,i.descriptors)}function qO(i,e){Object.keys(e).forEach(t=>{const s=t.split("."),r=s.pop(),o=[i].concat(s).join("."),c=e[t].split("."),h=c.pop(),d=c.join(".");at.route(o,r,d,h)})}function $O(i){return"id"in i&&"defaults"in i}class GO{constructor(){this.controllers=new Jl(zc,"datasets",!0),this.elements=new Jl(di,"elements"),this.plugins=new Jl(Object,"plugins"),this.scales=new Jl(La,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(r=>{const o=s||this._getRegistryForType(r);s||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):He(r,c=>{const h=s||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,s){const r=vf(e);Ke(s["before"+r],[],s),t[e](s),Ke(s["after"+r],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var kn=new GO;class VO{constructor(){this._init=void 0}notify(e,t,s,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(o,e,t,s);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,t,s,r){r=r||{};for(const o of e){const c=o.plugin,h=c[s],d=[t,r,o.options];if(Ke(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,r=Te(s.options&&s.options.plugins,{}),o=YO(s);return r===!1&&!t?[]:KO(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,r=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(t,s),e,"stop"),this._notify(r(s,t),e,"start")}}function YO(i){const e={},t=[],s=Object.keys(kn.plugins.items);for(let o=0;o<s.length;o++)t.push(kn.getPlugin(s[o]));const r=i.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function WO(i,e){return!e&&i===!1?null:i===!0?{}:i}function KO(i,{plugins:e,localIds:t},s,r){const o=[],c=i.getContext();for(const h of e){const d=h.id,f=WO(s[d],r);f!==null&&o.push({plugin:h,options:XO(i.config,{plugin:h,local:t[d]},f,c)})}return o}function XO(i,{plugin:e,local:t},s,r){const o=i.pluginScopeKeys(e),c=i.getOptionScopes(s,o);return t&&e.defaults&&c.push(e.defaults),i.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xd(i,e){const t=at.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function QO(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function JO(i,e){return i===e?"_index_":"_value_"}function fv(i){if(i==="x"||i==="y"||i==="r")return i}function ZO(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Qd(i,...e){if(fv(i))return i;for(const t of e){const s=t.axis||ZO(t.position)||i.length>1&&fv(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function gv(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function eR(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(t.length)return gv(i,"x",t[0])||gv(i,"y",t[0])}return{}}function tR(i,e){const t=As[i.type]||{scales:{}},s=e.scales||{},r=Xd(i.type,e),o=Object.create(null);return Object.keys(s).forEach(c=>{const h=s[c];if(!De(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Qd(c,h,eR(c,i),at.scales[h.type]),f=JO(d,r),m=t.scales||{};o[c]=Yr(Object.create(null),[{axis:d},h,m[d],m[f]])}),i.data.datasets.forEach(c=>{const h=c.type||i.type,d=c.indexAxis||Xd(h,e),m=(As[h]||{}).scales||{};Object.keys(m).forEach(b=>{const v=QO(b,d),x=c[v+"AxisID"]||v;o[x]=o[x]||Object.create(null),Yr(o[x],[{axis:v},s[x],m[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];Yr(h,[at.scales[h.type],at.scale])}),o}function W_(i){const e=i.options||(i.options={});e.plugins=Te(e.plugins,{}),e.scales=tR(i,e)}function K_(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function nR(i){return i=i||{},i.data=K_(i.data),W_(i),i}const pv=new Map,X_=new Set;function Zl(i,e){let t=pv.get(i);return t||(t=e(),pv.set(i,t),X_.add(t)),t}const Ur=(i,e,t)=>{const s=js(e,t);s!==void 0&&i.add(s)};class iR{constructor(e){this._config=nR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=K_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),W_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Zl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Zl(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Zl(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return Zl(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let r=s.get(e);return(!r||t)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,t,s){const{options:r,type:o}=this,c=this._cachedScopes(e,s),h=c.get(t);if(h)return h;const d=new Set;t.forEach(m=>{e&&(d.add(e),m.forEach(b=>Ur(d,e,b))),m.forEach(b=>Ur(d,r,b)),m.forEach(b=>Ur(d,As[o]||{},b)),m.forEach(b=>Ur(d,at,b)),m.forEach(b=>Ur(d,Wd,b))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),X_.has(t)&&c.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,As[t]||{},at.datasets[t]||{},{type:t},at,Wd]}resolveNamedOptions(e,t,s,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=mv(this._resolverCache,e,r);let d=c;if(aR(c,t)){o.$shared=!1,s=Gi(s)?s():s;const f=this.createResolver(e,s,h);d=Ra(c,s,f)}for(const f of t)o[f]=d[f];return o}createResolver(e,t,s=[""],r){const{resolver:o}=mv(this._resolverCache,e,s);return De(t)?Ra(o,t,void 0,r):o}}function mv(i,e,t){let s=i.get(e);s||(s=new Map,i.set(e,s));const r=t.join();let o=s.get(r);return o||(o={resolver:jf(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},s.set(r,o)),o}const sR=i=>De(i)&&Object.getOwnPropertyNames(i).some(e=>Gi(i[e]));function aR(i,e){const{isScriptable:t,isIndexable:s}=k_(i);for(const r of e){const o=t(r),c=s(r),h=(c||o)&&i[r];if(o&&(Gi(h)||sR(h))||c&&gt(h))return!0}return!1}var rR="4.5.1";const oR=["top","bottom","left","right","chartArea"];function yv(i,e){return i==="top"||i==="bottom"||oR.indexOf(i)===-1&&e==="x"}function bv(i,e){return function(t,s){return t[i]===s[i]?t[e]-s[e]:t[i]-s[i]}}function vv(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ke(t&&t.onComplete,[i],e)}function lR(i){const e=i.chart,t=e.options.animation;Ke(t&&t.onProgress,[i],e)}function Q_(i){return Rf()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const dc={},_v=i=>{const e=Q_(i);return Object.values(dc).filter(t=>t.canvas===e).pop()};function cR(i,e,t){const s=Object.keys(i);for(const r of s){const o=+r;if(o>=e){const c=i[r];delete i[r],(t>0||o>e)&&(i[o+t]=c)}}}function uR(i,e,t,s){return!t||i.type==="mouseout"?null:s?e:i}let Uc=class{static defaults=at;static instances=dc;static overrides=As;static registry=kn;static version=rR;static getChart=_v;static register(...e){kn.add(...e),xv()}static unregister(...e){kn.remove(...e),xv()}constructor(e,t){const s=this.config=new iR(t),r=Q_(e),o=_v(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||AO(r)),this.platform.updateConfig(s);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,f=d&&d.height,m=d&&d.width;if(this.id=nj(),this.ctx=h,this.canvas=d,this.width=m,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new VO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xj(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],dc[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}si.listen(this,"complete",vv),si.listen(this,"progress",lR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:r,_aspectRatio:o}=this;return ze(e)?t&&o?o:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return kn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hb(this.canvas,this.ctx),this}stop(){return si.stop(this),this}resize(e,t){si.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,t,o),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,qb(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Ke(s.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};He(t,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,r=Object.keys(s).reduce((c,h)=>(c[h]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const h=t[c],d=Qd(c,h),f=d==="r",m=d==="x";return{options:h,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),He(o,c=>{const h=c.options,d=h.id,f=Qd(d,h),m=Te(h.type,c.dtype);(h.position===void 0||yv(h.position,f)!==yv(c.dposition))&&(h.position=c.dposition),r[d]=!0;let b=null;if(d in s&&s[d].type===m)b=s[d];else{const v=kn.getScale(m);b=new v({id:d,type:m,ctx:this.ctx,chart:this}),s[b.id]=b}b.init(h,e)}),He(r,(c,h)=>{c||delete s[h]}),He(s,c=>{pn.configure(this,c,c.options),pn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((r,o)=>r.index-o.index),s>t){for(let r=t;r<s;++r)this._destroyDatasetMeta(r);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(bv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,r)=>{t.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=t.length;s<r;s++){const o=t[s];let c=this.getDatasetMeta(s);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=h,c.indexAxis=o.indexAxis||Xd(h,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const d=kn.getController(h),{datasetElementType:f,dataElementType:m}=at.datasets[h];Object.assign(d,{dataElementType:kn.getElement(m),datasetElementType:f&&kn.getElement(f)}),c.controller=new d(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){He(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:b}=this.getDatasetMeta(f),v=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(v),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),r||He(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(bv("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){He(this.scales,e=>{pn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Rb(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:o}of t){const c=s==="_removeElements"?-o:o;cR(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=o=>new Set(e.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=s(0);for(let o=1;o<t;o++)if(!Rb(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pn.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],He(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Gi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(si.has(this)?this.attached&&!si.running(this)&&si.start(this):(this.draw(),vv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let r,o;for(r=0,o=t.length;r<o;++r){const c=t[r];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=jA(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Ef(t,r),e.controller.draw(),r&&Tf(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ao(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,r){const o=oO.modes[t];return typeof o=="function"?o(this,e,s,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let r=s.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Os(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const r=s?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,r);no(t)?(o.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(o,{visible:s}),this.update(h=>h.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),si.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Hb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete dc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};He(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},r=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){He(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},He(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const r=s?"set":"remove";let o,c,h,d;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=e.length;h<d;++h){c=e[h];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!wc(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const r=this.options.hover,o=(d,f)=>d.filter(m=>!f.some(b=>m.datasetIndex===b.datasetIndex&&m.index===b.index)),c=o(t,e),h=s?e:o(e,t);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const o=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:r=[],options:o}=this,c=t,h=this._getActiveElements(e,r,s,c),d=lj(e),f=uR(e,this._lastEvent,s,d);s&&(this._lastEvent=null,Ke(o.onHover,[e,h,this],this),d&&Ke(o.onClick,[e,h,this],this));const m=!wc(h,r);return(m||t)&&(this._active=h,this._updateHoverStyles(h,r,t)),this._lastEvent=f,m}_getActiveElements(e,t,s,r){if(e.type==="mouseout")return[];if(!s)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}};function xv(){return He(Uc.instances,i=>i._plugins.invalidate())}function hR(i,e,t){const{startAngle:s,x:r,y:o,outerRadius:c,innerRadius:h,options:d}=e,{borderWidth:f,borderJoinStyle:m}=d,b=Math.min(f/c,En(s-t));if(i.beginPath(),i.arc(r,o,c-f/2,s+b/2,t-b/2),h>0){const v=Math.min(f/h,En(s-t));i.arc(r,o,h+f/2,t-v/2,s+v/2,!0)}else{const v=Math.min(f/2,c*En(s-t));if(m==="round")i.arc(r,o,v,t-Fe/2,s+Fe/2,!0);else if(m==="bevel"){const x=2*v*v,S=-x*Math.cos(t+Fe/2)+r,E=-x*Math.sin(t+Fe/2)+o,w=x*Math.cos(s+Fe/2)+r,C=x*Math.sin(s+Fe/2)+o;i.lineTo(S,E),i.lineTo(w,C)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function dR(i,e,t){const{startAngle:s,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:d}=e;let f=r/h;i.beginPath(),i.arc(o,c,h,s-f,t+f),d>r?(f=r/d,i.arc(o,c,d,t+f,s-f,!0)):i.arc(o,c,r,t+pt,s-pt),i.closePath(),i.clip()}function fR(i){return Cf(i,["outerStart","outerEnd","innerStart","innerEnd"])}function gR(i,e,t,s){const r=fR(i.options.borderRadius),o=(t-e)/2,c=Math.min(o,s*e/2),h=d=>{const f=(t-Math.min(o,d))*s/2;return At(d,0,Math.min(o,f))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:At(r.innerStart,0,c),innerEnd:At(r.innerEnd,0,c)}}function _a(i,e,t,s){return{x:t+i*Math.cos(e),y:s+i*Math.sin(e)}}function Oc(i,e,t,s,r,o){const{x:c,y:h,startAngle:d,pixelMargin:f,innerRadius:m}=e,b=Math.max(e.outerRadius+s+t-f,0),v=m>0?m+s+t+f:0;let x=0;const S=r-d;if(s){const ge=m>0?m-s:0,B=b>0?b-s:0,L=(ge+B)/2,te=L!==0?S*L/(L+s):S;x=(S-te)/2}const E=Math.max(.001,S*b-t/Fe)/b,w=(S-E)/2,C=d+w+x,j=r-w-x,{outerStart:A,outerEnd:D,innerStart:k,innerEnd:z}=gR(e,v,b,j-C),P=b-A,$=b-D,ee=C+A/P,X=j-D/$,G=v+k,Y=v+z,re=C+k/G,de=j-z/Y;if(i.beginPath(),o){const ge=(ee+X)/2;if(i.arc(c,h,b,ee,ge),i.arc(c,h,b,ge,X),D>0){const ae=_a($,X,c,h);i.arc(ae.x,ae.y,D,X,j+pt)}const B=_a(Y,j,c,h);if(i.lineTo(B.x,B.y),z>0){const ae=_a(Y,de,c,h);i.arc(ae.x,ae.y,z,j+pt,de+Math.PI)}const L=(j-z/v+(C+k/v))/2;if(i.arc(c,h,v,j-z/v,L,!0),i.arc(c,h,v,L,C+k/v,!0),k>0){const ae=_a(G,re,c,h);i.arc(ae.x,ae.y,k,re+Math.PI,C-pt)}const te=_a(P,C,c,h);if(i.lineTo(te.x,te.y),A>0){const ae=_a(P,ee,c,h);i.arc(ae.x,ae.y,A,C-pt,ee)}}else{i.moveTo(c,h);const ge=Math.cos(ee)*b+c,B=Math.sin(ee)*b+h;i.lineTo(ge,B);const L=Math.cos(X)*b+c,te=Math.sin(X)*b+h;i.lineTo(L,te)}i.closePath()}function pR(i,e,t,s,r){const{fullCircles:o,startAngle:c,circumference:h}=e;let d=e.endAngle;if(o){Oc(i,e,t,s,d,r);for(let f=0;f<o;++f)i.fill();isNaN(h)||(d=c+(h%nt||nt))}return Oc(i,e,t,s,d,r),i.fill(),d}function mR(i,e,t,s,r){const{fullCircles:o,startAngle:c,circumference:h,options:d}=e,{borderWidth:f,borderJoinStyle:m,borderDash:b,borderDashOffset:v,borderRadius:x}=d,S=d.borderAlign==="inner";if(!f)return;i.setLineDash(b||[]),i.lineDashOffset=v,S?(i.lineWidth=f*2,i.lineJoin=m||"round"):(i.lineWidth=f,i.lineJoin=m||"bevel");let E=e.endAngle;if(o){Oc(i,e,t,s,E,r);for(let w=0;w<o;++w)i.stroke();isNaN(h)||(E=c+(h%nt||nt))}S&&dR(i,e,E),d.selfJoin&&E-c>=Fe&&x===0&&m!=="miter"&&hR(i,e,E),o||(Oc(i,e,t,s,E,r),i.stroke())}class yR extends di{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const r=this.getProps(["x","y"],s),{angle:o,distance:c}=E_(r,{x:e,y:t}),{startAngle:h,endAngle:d,innerRadius:f,outerRadius:m,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),v=(this.options.spacing+this.options.borderWidth)/2,x=Te(b,d-h),S=so(o,h,d)&&h!==d,E=x>=nt||S,w=Fi(c,f+v,m+v);return E&&w}getCenterPoint(e){const{x:t,y:s,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,m=(r+o)/2,b=(c+h+f+d)/2;return{x:t+Math.cos(m)*b,y:s+Math.sin(m)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,r=(t.offset||0)/4,o=(t.spacing||0)/2,c=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>nt?Math.floor(s/nt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(Fe,s||0)),f=r*d;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,pR(e,this,f,o,c),mR(e,this,f,o,c),e.restore()}}function J_(i,e,t=e){i.lineCap=Te(t.borderCapStyle,e.borderCapStyle),i.setLineDash(Te(t.borderDash,e.borderDash)),i.lineDashOffset=Te(t.borderDashOffset,e.borderDashOffset),i.lineJoin=Te(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=Te(t.borderWidth,e.borderWidth),i.strokeStyle=Te(t.borderColor,e.borderColor)}function bR(i,e,t){i.lineTo(t.x,t.y)}function vR(i){return i.stepped?Pj:i.tension||i.cubicInterpolationMode==="monotone"?Lj:bR}function Z_(i,e,t={}){const s=i.length,{start:r=0,end:o=s-1}=t,{start:c,end:h}=e,d=Math.max(r,c),f=Math.min(o,h),m=r<c&&o<c||r>h&&o>h;return{count:s,start:d,loop:e.loop,ilen:f<d&&!m?s+f-d:f-d}}function _R(i,e,t,s){const{points:r,options:o}=e,{count:c,start:h,loop:d,ilen:f}=Z_(r,t,s),m=vR(o);let{move:b=!0,reverse:v}=s||{},x,S,E;for(x=0;x<=f;++x)S=r[(h+(v?f-x:x))%c],!S.skip&&(b?(i.moveTo(S.x,S.y),b=!1):m(i,E,S,v,o.stepped),E=S);return d&&(S=r[(h+(v?f:0))%c],m(i,E,S,v,o.stepped)),!!d}function xR(i,e,t,s){const r=e.points,{count:o,start:c,ilen:h}=Z_(r,t,s),{move:d=!0,reverse:f}=s||{};let m=0,b=0,v,x,S,E,w,C;const j=D=>(c+(f?h-D:D))%o,A=()=>{E!==w&&(i.lineTo(m,w),i.lineTo(m,E),i.lineTo(m,C))};for(d&&(x=r[j(0)],i.moveTo(x.x,x.y)),v=0;v<=h;++v){if(x=r[j(v)],x.skip)continue;const D=x.x,k=x.y,z=D|0;z===S?(k<E?E=k:k>w&&(w=k),m=(b*m+D)/++b):(A(),i.lineTo(D,k),S=z,b=0,E=w=k),C=k}A()}function Jd(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?xR:_R}function SR(i){return i.stepped?gA:i.tension||i.cubicInterpolationMode==="monotone"?pA:xs}function wR(i,e,t,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,s)&&r.closePath()),J_(i,e.options),i.stroke(r)}function ER(i,e,t,s){const{segments:r,options:o}=e,c=Jd(e);for(const h of r)J_(i,o,h.style),i.beginPath(),c(i,e,h,{start:t,end:t+s-1})&&i.closePath(),i.stroke()}const TR=typeof Path2D=="function";function CR(i,e,t,s){TR&&!e.options.segment?wR(i,e,t,s):ER(i,e,t,s)}class jR extends di{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;rA(this._points,s,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wA(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,r=e[t],o=this.points,c=_A(this,{property:t,start:r,end:r});if(!c.length)return;const h=[],d=SR(s);let f,m;for(f=0,m=c.length;f<m;++f){const{start:b,end:v}=c[f],x=o[b],S=o[v];if(x===S){h.push(x);continue}const E=Math.abs((r-x[t])/(S[t]-x[t])),w=d(x,S,E,s.stepped);w[t]=e[t],h.push(w)}return h.length===1?h[0]:h}pathSegment(e,t,s){return Jd(this)(e,this,t,s)}path(e,t,s){const r=this.segments,o=Jd(this);let c=this._loop;t=t||0,s=s||this.points.length-t;for(const h of r)c&=o(e,this,h,{start:t,end:t+s-1});return!!c}draw(e,t,s,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),CR(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Sv(i,e,t,s){const r=i.options,{[t]:o}=i.getProps([t],s);return Math.abs(e-o)<r.radius+r.hitRadius}class AR extends di{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(t-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Sv(this,e,"x",t)}inYRange(e,t){return Sv(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!ao(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Kd(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function ex(i,e){const{x:t,y:s,base:r,width:o,height:c}=i.getProps(["x","y","base","width","height"],e);let h,d,f,m,b;return i.horizontal?(b=c/2,h=Math.min(t,r),d=Math.max(t,r),f=s-b,m=s+b):(b=o/2,h=t-b,d=t+b,f=Math.min(s,r),m=Math.max(s,r)),{left:h,top:f,right:d,bottom:m}}function qi(i,e,t,s){return i?0:At(e,t,s)}function OR(i,e,t){const s=i.options.borderWidth,r=i.borderSkipped,o=M_(s);return{t:qi(r.top,o.top,0,t),r:qi(r.right,o.right,0,e),b:qi(r.bottom,o.bottom,0,t),l:qi(r.left,o.left,0,e)}}function RR(i,e,t){const{enableBorderRadius:s}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,o=Ca(r),c=Math.min(e,t),h=i.borderSkipped,d=s||De(r);return{topLeft:qi(!d||h.top||h.left,o.topLeft,0,c),topRight:qi(!d||h.top||h.right,o.topRight,0,c),bottomLeft:qi(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:qi(!d||h.bottom||h.right,o.bottomRight,0,c)}}function MR(i){const e=ex(i),t=e.right-e.left,s=e.bottom-e.top,r=OR(i,t/2,s/2),o=RR(i,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Td(i,e,t,s){const r=e===null,o=t===null,h=i&&!(r&&o)&&ex(i,s);return h&&(r||Fi(e,h.left,h.right))&&(o||Fi(t,h.top,h.bottom))}function kR(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function DR(i,e){i.rect(e.x,e.y,e.w,e.h)}function Cd(i,e,t={}){const s=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,o=(i.x+i.w!==t.x+t.w?e:0)-s,c=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+s,y:i.y+r,w:i.w+o,h:i.h+c,radius:i.radius}}class NR extends di{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:r}}=this,{inner:o,outer:c}=MR(this),h=kR(c.radius)?Cc:DR;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),h(e,Cd(c,t,o)),e.clip(),h(e,Cd(o,-t,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),h(e,Cd(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,s){return Td(this,e,t,s)}inXRange(e,t){return Td(this,e,null,t)}inYRange(e,t){return Td(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const wv=(i,e)=>{let{boxHeight:t=e,boxWidth:s=e}=i;return i.usePointStyle&&(t=Math.min(t,e),s=i.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},PR=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class Ev extends di{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ke(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Ot(s.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=wv(s,o);let f,m;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(c,o,h,d)+10):(m=this.maxHeight,f=this._fitCols(c,r,h,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],m=r+h;let b=e;o.textAlign="left",o.textBaseline="middle";let v=-1,x=-m;return this.legendItems.forEach((S,E)=>{const w=s+t/2+o.measureText(S.text).width;(E===0||f[f.length-1]+w+2*h>c)&&(b+=m,f[f.length-(E>0?0:1)]=0,x+=m,v++),d[E]={left:0,top:x,row:v,width:w,height:r},f[f.length-1]+=w+h}),b}_fitCols(e,t,s,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],m=c-e;let b=h,v=0,x=0,S=0,E=0;return this.legendItems.forEach((w,C)=>{const{itemWidth:j,itemHeight:A}=LR(s,t,o,w,r);C>0&&x+A+2*h>m&&(b+=v+h,f.push({width:v,height:x}),S+=v+h,E++,v=x=0),d[C]={left:S,top:x,col:E,width:j,height:A},v=Math.max(v,j),x+=A+h}),b+=v,f.push({width:v,height:x}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:r},rtl:o}}=this,c=ja(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=jt(s,this.left+r,this.right-this.lineWidths[h]);for(const f of t)h!==f.row&&(h=f.row,d=jt(s,this.left+r,this.right-this.lineWidths[h])),f.top+=this.top+e+r,f.left=c.leftForLtr(c.x(d),f.width),d+=f.width+r}else{let h=0,d=jt(s,this.top+e+r,this.bottom-this.columnSizes[h].height);for(const f of t)f.col!==h&&(h=f.col,d=jt(s,this.top+e+r,this.bottom-this.columnSizes[h].height)),f.top=d,f.left+=this.left+r,f.left=c.leftForLtr(c.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ef(e,this),this._draw(),Tf(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:r}=this,{align:o,labels:c}=e,h=at.color,d=ja(e.rtl,this.left,this.width),f=Ot(c.font),{padding:m}=c,b=f.size,v=b/2;let x;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:S,boxHeight:E,itemHeight:w}=wv(c,b),C=function(z,P,$){if(isNaN(S)||S<=0||isNaN(E)||E<0)return;r.save();const ee=Te($.lineWidth,1);if(r.fillStyle=Te($.fillStyle,h),r.lineCap=Te($.lineCap,"butt"),r.lineDashOffset=Te($.lineDashOffset,0),r.lineJoin=Te($.lineJoin,"miter"),r.lineWidth=ee,r.strokeStyle=Te($.strokeStyle,h),r.setLineDash(Te($.lineDash,[])),c.usePointStyle){const X={radius:E*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:ee},G=d.xPlus(z,S/2),Y=P+v;R_(r,X,G,Y,c.pointStyleWidth&&S)}else{const X=P+Math.max((b-E)/2,0),G=d.leftForLtr(z,S),Y=Ca($.borderRadius);r.beginPath(),Object.values(Y).some(re=>re!==0)?Cc(r,{x:G,y:X,w:S,h:E,radius:Y}):r.rect(G,X,S,E),r.fill(),ee!==0&&r.stroke()}r.restore()},j=function(z,P,$){ro(r,$.text,z,P+w/2,f,{strikethrough:$.hidden,textAlign:d.textAlign($.textAlign)})},A=this.isHorizontal(),D=this._computeTitleHeight();A?x={x:jt(o,this.left+m,this.right-s[0]),y:this.top+m+D,line:0}:x={x:this.left+m,y:jt(o,this.top+D+m,this.bottom-t[0].height),line:0},z_(this.ctx,e.textDirection);const k=w+m;this.legendItems.forEach((z,P)=>{r.strokeStyle=z.fontColor,r.fillStyle=z.fontColor;const $=r.measureText(z.text).width,ee=d.textAlign(z.textAlign||(z.textAlign=c.textAlign)),X=S+v+$;let G=x.x,Y=x.y;d.setWidth(this.width),A?P>0&&G+X+m>this.right&&(Y=x.y+=k,x.line++,G=x.x=jt(o,this.left+m,this.right-s[x.line])):P>0&&Y+k>this.bottom&&(G=x.x=G+t[x.line].width+m,x.line++,Y=x.y=jt(o,this.top+D+m,this.bottom-t[x.line].height));const re=d.x(G);if(C(re,Y,z),G=Sj(ee,G+S+v,A?G+X:this.right,e.rtl),j(d.x(G),Y,z),A)x.x+=X+m;else if(typeof z.text!="string"){const de=f.lineHeight;x.y+=tx(z,de)+m}else x.y+=k}),B_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=Ot(t.font),r=yn(t.padding);if(!t.display)return;const o=ja(e.rtl,this.left,this.width),c=this.ctx,h=t.position,d=s.size/2,f=r.top+d;let m,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+f,b=jt(e.align,b,this.right-v);else{const S=this.columnSizes.reduce((E,w)=>Math.max(E,w.height),0);m=f+jt(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const x=jt(h,b,b+v);c.textAlign=o.textAlign(xf(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=s.string,ro(c,t.text,x,m,s)}_computeTitleHeight(){const e=this.options.title,t=Ot(e.font),s=yn(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,r,o;if(Fi(e,this.left,this.right)&&Fi(t,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(r=o[s],Fi(e,r.left,r.left+r.width)&&Fi(t,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!UR(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=PR(r,s);r&&!o&&Ke(t.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!o&&Ke(t.onHover,[e,s,this],this)}else s&&Ke(t.onClick,[e,s,this],this)}}function LR(i,e,t,s,r){const o=zR(s,i,e,t),c=BR(r,s,e.lineHeight);return{itemWidth:o,itemHeight:c}}function zR(i,e,t,s){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),e+t.size/2+s.measureText(r).width}function BR(i,e,t){let s=i;return typeof e.text!="string"&&(s=tx(e,t)),s}function tx(i,e){const t=i.text?i.text.length:0;return e*t}function UR(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var HR={id:"legend",_element:Ev,start(i,e,t){const s=i.legend=new Ev({ctx:i.ctx,options:t,chart:i});pn.configure(i,s,t),pn.addBox(i,s)},stop(i){pn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const s=i.legend;pn.configure(i,s,t),s.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const s=e.datasetIndex,r=t.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),m=yn(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:c&&(h||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class nx extends di{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=gt(s.text)?s.text.length:1;this._padding=yn(s.padding);const o=r*Ot(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:r,right:o,options:c}=this,h=c.align;let d=0,f,m,b;return this.isHorizontal()?(m=jt(h,s,o),b=t+e,f=o-s):(c.position==="left"?(m=s+e,b=jt(h,r,t),d=Fe*-.5):(m=o-e,b=jt(h,t,r),d=Fe*.5),f=r-t),{titleX:m,titleY:b,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=Ot(t.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:f}=this._drawArgs(o);ro(e,t.text,0,0,s,{color:t.color,maxWidth:d,rotation:f,textAlign:xf(t.align),textBaseline:"middle",translation:[c,h]})}}function FR(i,e){const t=new nx({ctx:i.ctx,options:e,chart:i});pn.configure(i,t,e),pn.addBox(i,t),i.titleBlock=t}var IR={id:"title",_element:nx,start(i,e,t){FR(i,t)},stop(i){const e=i.titleBlock;pn.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){const s=i.titleBlock;pn.configure(i,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gr={average(i){if(!i.length)return!1;let e,t,s=new Set,r=0,o=0;for(e=0,t=i.length;e<t;++e){const h=i[e].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),r+=d.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:r/o}},nearest(i,e){if(!i.length)return!1;let t=e.x,s=e.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=i.length;o<c;++o){const d=i[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),m=Yd(e,f);m<r&&(r=m,h=d)}}if(h){const d=h.tooltipPosition();t=d.x,s=d.y}return{x:t,y:s}}};function Mn(i,e){return e&&(gt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function ai(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function qR(i,e){const{element:t,datasetIndex:s,index:r}=e,o=i.getDatasetMeta(s).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:i,label:c,parsed:o.getParsed(r),raw:i.data.datasets[s].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:s,element:t}}function Tv(i,e){const t=i.chart.ctx,{body:s,footer:r,title:o}=i,{boxWidth:c,boxHeight:h}=e,d=Ot(e.bodyFont),f=Ot(e.titleFont),m=Ot(e.footerFont),b=o.length,v=r.length,x=s.length,S=yn(e.padding);let E=S.height,w=0,C=s.reduce((D,k)=>D+k.before.length+k.lines.length+k.after.length,0);if(C+=i.beforeBody.length+i.afterBody.length,b&&(E+=b*f.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),C){const D=e.displayColors?Math.max(h,d.lineHeight):d.lineHeight;E+=x*D+(C-x)*d.lineHeight+(C-1)*e.bodySpacing}v&&(E+=e.footerMarginTop+v*m.lineHeight+(v-1)*e.footerSpacing);let j=0;const A=function(D){w=Math.max(w,t.measureText(D).width+j)};return t.save(),t.font=f.string,He(i.title,A),t.font=d.string,He(i.beforeBody.concat(i.afterBody),A),j=e.displayColors?c+2+e.boxPadding:0,He(s,D=>{He(D.before,A),He(D.lines,A),He(D.after,A)}),j=0,t.font=m.string,He(i.footer,A),t.restore(),w+=S.width,{width:w,height:E}}function $R(i,e){const{y:t,height:s}=e;return t<s/2?"top":t>i.height-s/2?"bottom":"center"}function GR(i,e,t,s){const{x:r,width:o}=s,c=t.caretSize+t.caretPadding;if(i==="left"&&r+o+c>e.width||i==="right"&&r-o-c<0)return!0}function VR(i,e,t,s){const{x:r,width:o}=t,{width:c,chartArea:{left:h,right:d}}=i;let f="center";return s==="center"?f=r<=(h+d)/2?"left":"right":r<=o/2?f="left":r>=c-o/2&&(f="right"),GR(f,i,e,t)&&(f="center"),f}function Cv(i,e,t){const s=t.yAlign||e.yAlign||$R(i,t);return{xAlign:t.xAlign||e.xAlign||VR(i,e,t,s),yAlign:s}}function YR(i,e){let{x:t,width:s}=i;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function WR(i,e,t){let{y:s,height:r}=i;return e==="top"?s+=t:e==="bottom"?s-=r+t:s-=r/2,s}function jv(i,e,t,s){const{caretSize:r,caretPadding:o,cornerRadius:c}=i,{xAlign:h,yAlign:d}=t,f=r+o,{topLeft:m,topRight:b,bottomLeft:v,bottomRight:x}=Ca(c);let S=YR(e,h);const E=WR(e,d,f);return d==="center"?h==="left"?S+=f:h==="right"&&(S-=f):h==="left"?S-=Math.max(m,v)+r:h==="right"&&(S+=Math.max(b,x)+r),{x:At(S,0,s.width-e.width),y:At(E,0,s.height-e.height)}}function ec(i,e,t){const s=yn(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-s.right:i.x+s.left}function Av(i){return Mn([],ai(i))}function KR(i,e,t){return Os(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Ov(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const ix={beforeTitle:ii,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:ii,beforeBody:ii,beforeLabel:ii,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return ze(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ii,afterBody:ii,beforeFooter:ii,footer:ii,afterFooter:ii};function Ut(i,e,t,s){const r=i[e].call(t,s);return typeof r>"u"?ix[e].call(t,s):r}class Rv extends di{static positioners=Gr;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&t.options.animation&&s.animations,o=new H_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=KR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,r=Ut(s,"beforeTitle",this,e),o=Ut(s,"title",this,e),c=Ut(s,"afterTitle",this,e);let h=[];return h=Mn(h,ai(r)),h=Mn(h,ai(o)),h=Mn(h,ai(c)),h}getBeforeBody(e,t){return Av(Ut(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,r=[];return He(e,o=>{const c={before:[],lines:[],after:[]},h=Ov(s,o);Mn(c.before,ai(Ut(h,"beforeLabel",this,o))),Mn(c.lines,Ut(h,"label",this,o)),Mn(c.after,ai(Ut(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(e,t){return Av(Ut(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,r=Ut(s,"beforeFooter",this,e),o=Ut(s,"footer",this,e),c=Ut(s,"afterFooter",this,e);let h=[];return h=Mn(h,ai(r)),h=Mn(h,ai(o)),h=Mn(h,ai(c)),h}_createItems(e){const t=this._active,s=this.chart.data,r=[],o=[],c=[];let h=[],d,f;for(d=0,f=t.length;d<f;++d)h.push(qR(this.chart,t[d]));return e.filter&&(h=h.filter((m,b,v)=>e.filter(m,b,v,s))),e.itemSort&&(h=h.sort((m,b)=>e.itemSort(m,b,s))),He(h,m=>{const b=Ov(e.callbacks,m);r.push(Ut(b,"labelColor",this,m)),o.push(Ut(b,"labelPointStyle",this,m)),c.push(Ut(b,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const s=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Gr[s.position].call(this,r,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const d=this._size=Tv(this,s),f=Object.assign({},h,d),m=Cv(this.chart,s,f),b=jv(s,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,r){const o=this.getCaretPosition(e,s,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,s){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:b}=Ca(h),{x:v,y:x}=e,{width:S,height:E}=t;let w,C,j,A,D,k;return o==="center"?(D=x+E/2,r==="left"?(w=v,C=w-c,A=D+c,k=D-c):(w=v+S,C=w+c,A=D-c,k=D+c),j=w):(r==="left"?C=v+Math.max(d,m)+c:r==="right"?C=v+S-Math.max(f,b)-c:C=this.caretX,o==="top"?(A=x,D=A-c,w=C-c,j=C+c):(A=x+E,D=A+c,w=C+c,j=C-c),k=A),{x1:w,x2:C,x3:j,y1:A,y2:D,y3:k}}drawTitle(e,t,s){const r=this.title,o=r.length;let c,h,d;if(o){const f=ja(s.rtl,this.x,this.width);for(e.x=ec(this,s.titleAlign,s),t.textAlign=f.textAlign(s.titleAlign),t.textBaseline="middle",c=Ot(s.titleFont),h=s.titleSpacing,t.fillStyle=s.titleColor,t.font=c.string,d=0;d<o;++d)t.fillText(r[d],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,d+1===o&&(e.y+=s.titleMarginBottom-h)}}_drawColorBox(e,t,s,r,o){const c=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:f}=o,m=Ot(o.bodyFont),b=ec(this,"left",o),v=r.x(b),x=d<m.lineHeight?(m.lineHeight-d)/2:0,S=t.y+x;if(o.usePointStyle){const E={radius:Math.min(f,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},w=r.leftForLtr(v,f)+f/2,C=S+d/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Kd(e,E,w,C),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Kd(e,E,w,C)}else{e.lineWidth=De(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const E=r.leftForLtr(v,f),w=r.leftForLtr(r.xPlus(v,1),f-2),C=Ca(c.borderRadius);Object.values(C).some(j=>j!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Cc(e,{x:E,y:S,w:f,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Cc(e,{x:w,y:S+1,w:f-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(E,S,f,d),e.strokeRect(E,S,f,d),e.fillStyle=c.backgroundColor,e.fillRect(w,S+1,f-2,d-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:f,boxPadding:m}=s,b=Ot(s.bodyFont);let v=b.lineHeight,x=0;const S=ja(s.rtl,this.x,this.width),E=function($){t.fillText($,S.x(e.x+x),e.y+v/2),e.y+=v+o},w=S.textAlign(c);let C,j,A,D,k,z,P;for(t.textAlign=c,t.textBaseline="middle",t.font=b.string,e.x=ec(this,w,s),t.fillStyle=s.bodyColor,He(this.beforeBody,E),x=h&&w!=="right"?c==="center"?f/2+m:f+2+m:0,D=0,z=r.length;D<z;++D){for(C=r[D],j=this.labelTextColors[D],t.fillStyle=j,He(C.before,E),A=C.lines,h&&A.length&&(this._drawColorBox(t,e,D,S,s),v=Math.max(b.lineHeight,d)),k=0,P=A.length;k<P;++k)E(A[k]),v=b.lineHeight;He(C.after,E)}x=0,v=b.lineHeight,He(this.afterBody,E),e.y-=o}drawFooter(e,t,s){const r=this.footer,o=r.length;let c,h;if(o){const d=ja(s.rtl,this.x,this.width);for(e.x=ec(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=d.textAlign(s.footerAlign),t.textBaseline="middle",c=Ot(s.footerFont),t.fillStyle=s.footerColor,t.font=c.string,h=0;h<o;++h)t.fillText(r[h],d.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,t,s,r){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=e,{width:f,height:m}=s,{topLeft:b,topRight:v,bottomLeft:x,bottomRight:S}=Ca(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(h+b,d),c==="top"&&this.drawCaret(e,t,s,r),t.lineTo(h+f-v,d),t.quadraticCurveTo(h+f,d,h+f,d+v),c==="center"&&o==="right"&&this.drawCaret(e,t,s,r),t.lineTo(h+f,d+m-S),t.quadraticCurveTo(h+f,d+m,h+f-S,d+m),c==="bottom"&&this.drawCaret(e,t,s,r),t.lineTo(h+x,d+m),t.quadraticCurveTo(h,d+m,h,d+m-x),c==="center"&&o==="left"&&this.drawCaret(e,t,s,r),t.lineTo(h,d+b),t.quadraticCurveTo(h,d,h+b,d),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const c=Gr[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Tv(this,e),d=Object.assign({},c,this._size),f=Cv(t,e,d),m=jv(e,d,f,t);(r._to!==m.x||o._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=yn(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,t),z_(e,t.textDirection),o.y+=c.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),B_(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,r=e.map(({datasetIndex:h,index:d})=>{const f=this.chart.getDatasetMeta(h);if(!f)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:f.data[d],index:d}}),o=!wc(s,r),c=this._positionChanged(r,t);(o||c)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(e,o,t,s),h=this._positionChanged(c,e),d=t||!wc(c,o)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,s,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:s,caretY:r,options:o}=this,c=Gr[o.position].call(this,e,t);return c!==!1&&(s!==c.x||r!==c.y)}}var XR={id:"tooltip",_element:Rv,positioners:Gr,afterInit(i,e,t){t&&(i.tooltip=new Rv({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ix},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QR=(i,e,t,s)=>(typeof e=="string"?(t=i.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function JR(i,e,t,s){const r=i.indexOf(e);if(r===-1)return QR(i,e,t,s);const o=i.lastIndexOf(e);return r!==o?t:r}const ZR=(i,e)=>i===null?null:At(Math.round(i),0,e);function Mv(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class e2 extends La{static id="category";static defaults={ticks:{callback:Mv}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:r,label:o}of t)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ze(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:JR(s,e,Te(t,e),this._addedLabels),ZR(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=t;c++)r.push({value:c});return r}getLabelForValue(e){return Mv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function t2(i,e){const t=[],{bounds:r,step:o,min:c,max:h,precision:d,count:f,maxTicks:m,maxDigits:b,includeBounds:v}=i,x=o||1,S=m-1,{min:E,max:w}=e,C=!ze(c),j=!ze(h),A=!ze(f),D=(w-E)/(b+1);let k=kb((w-E)/S/x)*x,z,P,$,ee;if(k<1e-14&&!C&&!j)return[{value:E},{value:w}];ee=Math.ceil(w/k)-Math.floor(E/k),ee>S&&(k=kb(ee*k/S/x)*x),ze(d)||(z=Math.pow(10,d),k=Math.ceil(k*z)/z),r==="ticks"?(P=Math.floor(E/k)*k,$=Math.ceil(w/k)*k):(P=E,$=w),C&&j&&o&&fj((h-c)/o,k/1e3)?(ee=Math.round(Math.min((h-c)/k,m)),k=(h-c)/ee,P=c,$=h):A?(P=C?c:P,$=j?h:$,ee=f-1,k=($-P)/ee):(ee=($-P)/k,Wr(ee,Math.round(ee),k/1e3)?ee=Math.round(ee):ee=Math.ceil(ee));const X=Math.max(Db(k),Db(P));z=Math.pow(10,ze(d)?X:d),P=Math.round(P*z)/z,$=Math.round($*z)/z;let G=0;for(C&&(v&&P!==c?(t.push({value:c}),P<c&&G++,Wr(Math.round((P+G*k)*z)/z,c,kv(c,D,i))&&G++):P<c&&G++);G<ee;++G){const Y=Math.round((P+G*k)*z)/z;if(j&&Y>h)break;t.push({value:Y})}return j&&v&&$!==h?t.length&&Wr(t[t.length-1].value,h,kv(h,D,i))?t[t.length-1].value=h:t.push({value:h}):(!j||$===h)&&t.push({value:$}),t}function kv(i,e,{horizontal:t,minRotation:s}){const r=oi(s),o=(t?Math.sin(r):Math.cos(r))||.001,c=.75*e*(""+i).length;return Math.min(e/o,c)}class n2 extends La{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this;const c=d=>r=t?r:d,h=d=>o=s?o:d;if(e){const d=Nn(r),f=Nn(o);d<0&&f<0?h(0):d>0&&f>0&&c(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);h(o+d),e||c(r-d)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,c=t2(r,o);return e.bounds==="ticks"&&gj(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-t)/Math.max(e.length-1,1)/2;t-=r,s+=r}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return wf(e,this.chart.options.locale,this.options.ticks.format)}}class i2 extends n2{static id="linear";static defaults={ticks:{callback:O_.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=mn(e)?e:0,this.max=mn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=oi(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Hc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},It=Object.keys(Hc);function Dv(i,e){return i-e}function Nv(i,e){if(ze(e))return null;const t=i._adapter,{parser:s,round:r,isoWeekday:o}=i._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),mn(c)||(c=typeof s=="string"?t.parse(c,s):t.parse(c)),c===null?null:(r&&(c=r==="week"&&(io(o)||o===!0)?t.startOf(c,"isoWeek",o):t.startOf(c,r)),+c)}function Pv(i,e,t,s){const r=It.length;for(let o=It.indexOf(i);o<r-1;++o){const c=Hc[It[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=s)return It[o]}return It[r-1]}function s2(i,e,t,s,r){for(let o=It.length-1;o>=It.indexOf(t);o--){const c=It[o];if(Hc[c].common&&i._adapter.diff(r,s,c)>=e-1)return c}return It[t?It.indexOf(t):0]}function a2(i){for(let e=It.indexOf(i)+1,t=It.length;e<t;++e)if(Hc[It[e]].common)return It[e]}function Lv(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:s,hi:r}=_f(t,e),o=t[s]>=e?t[s]:t[r];i[o]=!0}}function r2(i,e,t,s){const r=i._adapter,o=+r.startOf(e[0].value,s),c=e[e.length-1].value;let h,d;for(h=o;h<=c;h=+r.add(h,1,s))d=t[h],d>=0&&(e[d].major=!0);return e}function zv(i,e,t){const s=[],r={},o=e.length;let c,h;for(c=0;c<o;++c)h=e[c],r[h]=c,s.push({value:h,major:!1});return o===0||!t?s:r2(i,s,r,t)}class Bv extends La{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),r=this._adapter=new nO._date(e.adapters.date);r.init(t),Yr(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Nv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(f){!c&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!h&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!h)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=mn(r)&&!isNaN(r)?r:+t.startOf(Date.now(),s),o=mn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=vj(r,o,c);return this._unit=t.unit||(s.autoSkip?Pv(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):s2(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:a2(this._unit),this.initOffsets(r),e.reverse&&h.reverse(),zv(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=At(t,0,c),s=At(s,0,c),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,r=this.options,o=r.time,c=o.unit||Pv(o.minUnit,t,s,this._getLabelCapacity(t)),h=Te(r.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,f=io(d)||d===!0,m={};let b=t,v,x;if(f&&(b=+e.startOf(b,"isoWeek",d)),b=+e.startOf(b,f?"day":c),e.diff(s,t,c)>1e5*h)throw new Error(t+" and "+s+" are too far apart with stepSize of "+h+" "+c);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(v=b,x=0;v<s;v=+e.add(v,h,c),x++)Lv(m,v,S);return(v===s||r.bounds==="ticks"||x===1)&&Lv(m,v,S),Object.keys(m).sort(Dv).map(E=>+E)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,c=t||r[o];return this._adapter.format(e,c)}_tickFormatFunction(e,t,s,r){const o=this.options,c=o.ticks.callback;if(c)return Ke(c,[e,t,s],this);const h=o.time.displayFormats,d=this._unit,f=this._majorUnit,m=d&&h[d],b=f&&h[f],v=s[t],x=f&&b&&v&&v.major;return this._adapter.format(e,r||(x?b:m))}generateTickLabels(e){let t,s,r;for(t=0,s=e.length;t<s;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,r=oi(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:s*o+h*c,h:s*c+h*o}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,r=s[t.unit]||s.millisecond,o=this._tickFormatFunction(e,0,zv(this,[e],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,s=r.length;t<s;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const r=this.getLabels();for(t=0,s=r.length;t<s;++t)e.push(Nv(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return C_(e.sort(Dv))}}function tc(i,e,t){let s=0,r=i.length-1,o,c,h,d;t?(e>=i[s].pos&&e<=i[r].pos&&({lo:s,hi:r}=Ts(i,"pos",e)),{pos:o,time:h}=i[s],{pos:c,time:d}=i[r]):(e>=i[s].time&&e<=i[r].time&&({lo:s,hi:r}=Ts(i,"time",e)),{time:o,pos:h}=i[s],{time:c,pos:d}=i[r]);const f=c-o;return f?h+(d-h)*(e-o)/f:h}class NM extends Bv{static id="timeseries";static defaults=Bv.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=tc(t,this.min),this._tableRange=tc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,r=[],o=[];let c,h,d,f,m;for(c=0,h=e.length;c<h;++c)f=e[c],f>=t&&f<=s&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(c=0,h=r.length;c<h;++c)m=r[c+1],d=r[c-1],f=r[c],Math.round((m+d)/2)!==f&&o.push({time:f,pos:c/(h-1)});return o}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(tc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return tc(this._table,s*this._tableRange+this._minPos,!0)}}const sx="label";function Uv(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function o2(i,e){const t=i.options;t&&e&&Object.assign(t,e)}function ax(i,e){i.labels=e}function rx(i,e,t=sx){const s=[];i.datasets=e.map(r=>{const o=i.datasets.find(c=>c[t]===r[t]);return!o||!r.data||s.includes(o)?{...r}:(s.push(o),Object.assign(o,r),o)})}function l2(i,e=sx){const t={labels:[],datasets:[]};return ax(t,i.labels),rx(t,i.datasets,e),t}function c2(i,e){const{height:t=150,width:s=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:f=[],fallbackContent:m,updateMode:b,...v}=i,x=F.useRef(null),S=F.useRef(null),E=()=>{x.current&&(S.current=new Uc(x.current,{type:c,data:l2(h,o),options:d&&{...d},plugins:f}),Uv(e,S.current))},w=()=>{Uv(e,null),S.current&&(S.current.destroy(),S.current=null)};return F.useEffect(()=>{!r&&S.current&&d&&o2(S.current,d)},[r,d]),F.useEffect(()=>{!r&&S.current&&ax(S.current.config.data,h.labels)},[r,h.labels]),F.useEffect(()=>{!r&&S.current&&h.datasets&&rx(S.current.config.data,h.datasets,o)},[r,h.datasets]),F.useEffect(()=>{S.current&&(r?(w(),setTimeout(E)):S.current.update(b))},[r,d,h.labels,h.datasets,b]),F.useEffect(()=>{S.current&&(w(),setTimeout(E))},[c]),F.useEffect(()=>(E(),()=>w()),[]),y.jsx("canvas",{ref:x,role:"img",height:t,width:s,...v,children:m})}const u2=F.forwardRef(c2);function Df(i,e){return Uc.register(e),F.forwardRef((t,s)=>y.jsx(u2,{...t,ref:s,type:i}))}const h2=Df("line",tO),d2=Df("bar",JA),f2=Df("doughnut",eO);Uc.register(e2,i2,AR,jR,NR,yR,IR,XR,HR);const g2=()=>{const[i,e]=F.useState(!0),[t,s]=F.useState(null),[r,o]=F.useState([]),[c,h]=F.useState([]),[d,f]=F.useState([]),[m,b]=F.useState([]),[v,x]=F.useState("30days"),[S,E]=F.useState([]),[w,C]=F.useState(null),[j,A]=F.useState(!1);F.useEffect(()=>{D(),G()},[v]);const D=async()=>{e(!0);try{await Promise.all([z(),P(),$(),ee(),X()])}catch(L){console.error("Error loading analytics:",L)}finally{e(!1)}},k=()=>{const L=new Date;switch(v){case"7days":return new Date(L.getTime()-10080*60*1e3).toISOString();case"30days":return new Date(L.getTime()-720*60*60*1e3).toISOString();case"90days":return new Date(L.getTime()-2160*60*60*1e3).toISOString();default:return null}},z=async()=>{const L=k();let te=dt.from("invoices").select("total, status");L&&(te=te.gte("invoice_date",L));const{data:ae}=await te;let pe=dt.from("invoice_items").select("qty, invoice_id");if(L){const{data:ke}=await dt.from("invoices").select("id").gte("invoice_date",L),Me=ke?.map(tn=>tn.id)||[];Me.length>0&&(pe=pe.in("invoice_id",Me))}const{data:O}=await pe,I=ae?.reduce((ke,Me)=>ke+Number(Me.total),0)||0,W=ae?.length||0,ie=O?.reduce((ke,Me)=>ke+Number(Me.qty),0)||0,he=ae?.filter(ke=>ke.status==="draft").length||0,me=ae?.filter(ke=>ke.status==="paid").length||0,Ee=ae?.filter(ke=>ke.status==="sent").length||0;s({totalInvoices:W,totalRevenue:I,avgInvoiceValue:W>0?I/W:0,totalItemsSold:ie,draftCount:he,paidCount:me,sentCount:Ee})},P=async()=>{const L=k();let te=dt.from("invoices").select("invoice_date, total");L&&(te=te.gte("invoice_date",L));const{data:ae}=await te.order("invoice_date",{ascending:!0});if(!ae){o([]);return}const pe=ae.reduce((O,I)=>{const W=I.invoice_date;return O[W]||(O[W]={period:W,invoiceCount:0,revenue:0}),O[W].invoiceCount+=1,O[W].revenue+=Number(I.total),O},{});o(Object.values(pe))},$=async()=>{const L=k();let te=dt.from("invoice_items").select("category, qty, unit_price, invoice_id");if(L){const{data:O}=await dt.from("invoices").select("id").gte("invoice_date",L),I=O?.map(W=>W.id)||[];I.length>0&&(te=te.in("invoice_id",I))}const{data:ae}=await te;if(!ae){h([]);return}const pe=ae.reduce((O,I)=>{const W=I.category||"Uncategorized";return O[W]||(O[W]={category:W,itemCount:0,revenue:0}),O[W].itemCount+=Number(I.qty),O[W].revenue+=Number(I.qty)*Number(I.unit_price),O},{});h(Object.values(pe).sort((O,I)=>I.revenue-O.revenue))},ee=async()=>{const L=k();let te=dt.from("item_materials").select("material_name, unit, total_qty, invoice_item_id");if(L){const{data:O}=await dt.from("invoices").select("id").gte("invoice_date",L),I=O?.map(W=>W.id)||[];if(I.length>0){const{data:W}=await dt.from("invoice_items").select("id").in("invoice_id",I),ie=W?.map(he=>he.id)||[];ie.length>0&&(te=te.in("invoice_item_id",ie))}}const{data:ae}=await te;if(!ae){f([]);return}const pe=ae.reduce((O,I)=>{const W=`${I.material_name}_${I.unit}`;return O[W]||(O[W]={material_name:I.material_name,unit:I.unit,total_qty:0,usage_count:0}),O[W].total_qty+=Number(I.total_qty),O[W].usage_count+=1,O},{});f(Object.values(pe).sort((O,I)=>I.total_qty-O.total_qty).slice(0,10))},X=async()=>{const L=k();let te=dt.from("invoices").select("client_id, total, clients(name)");L&&(te=te.gte("invoice_date",L));const{data:ae}=await te;if(!ae){b([]);return}const pe=ae.reduce((O,I)=>{const W=I.clients?.name||"Unknown";return O[W]||(O[W]={client_name:W,invoice_count:0,total_revenue:0}),O[W].invoice_count+=1,O[W].total_revenue+=Number(I.total),O},{});b(Object.values(pe).sort((O,I)=>I.total_revenue-O.total_revenue).slice(0,5))},G=async()=>{const L=k();let te=dt.from("invoices").select("id, invoice_no, project_name, invoice_date, total, status, clients(name)").order("invoice_date",{ascending:!1});L&&(te=te.gte("invoice_date",L));const{data:ae}=await te,pe=(ae||[]).map(O=>({...O,clients:Array.isArray(O.clients)?O.clients[0]:O.clients}));E(pe)},Y=async L=>{const te=await CC(L);te.success?(C(te.data),A(!0)):alert("Failed to load invoice details")},re=()=>{A(!1),C(null)};if(i)return y.jsx("div",{style:{padding:40,textAlign:"center"},children:y.jsx("div",{style:{fontSize:18,color:"#9ca3af"},children:"Loading dashboard..."})});const de={labels:r.map(L=>L.period),datasets:[{label:"Revenue (EGP)",data:r.map(L=>L.revenue),borderColor:"#38bdf8",backgroundColor:"rgba(56, 189, 248, 0.1)",tension:.3}]},ge={labels:c.map(L=>L.category),datasets:[{label:"Items Sold",data:c.map(L=>L.itemCount),backgroundColor:["#38bdf8","#818cf8","#a78bfa","#f472b6","#fb923c","#fbbf24","#34d399","#4ade80"]}]},B={labels:d.map(L=>L.material_name),datasets:[{label:"Total Quantity",data:d.map(L=>L.total_qty),backgroundColor:"rgba(56, 189, 248, 0.6)"}]};return y.jsxs("div",{style:{minHeight:"100vh",background:"radial-gradient(circle at top, #020617 0%, #020617 40%, #000 100%)",padding:"24px"},children:[y.jsxs("div",{style:{maxWidth:1400,margin:"0 auto"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[y.jsx("h1",{style:{fontSize:28,fontWeight:600,color:"#e5e7eb",margin:0},children:"Analytics Dashboard"}),y.jsx("div",{style:{display:"flex",gap:8},children:["7days","30days","90days","all"].map(L=>y.jsx("button",{onClick:()=>x(L),style:{padding:"8px 16px",borderRadius:8,border:v===L?"1px solid #38bdf8":"1px solid #374151",background:v===L?"#38bdf8":"#020617",color:v===L?"#020617":"#e5e7eb",fontSize:13,fontWeight:500,cursor:"pointer"},children:L==="all"?"All Time":L.replace("days"," Days")},L))})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16,marginBottom:24},children:[y.jsx(nc,{title:"Total Revenue",value:`${t?.totalRevenue.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}`,subtitle:`${t?.totalInvoices} invoices`}),y.jsx(nc,{title:"Average Invoice",value:`${t?.avgInvoiceValue.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}`,subtitle:"per invoice"}),y.jsx(nc,{title:"Items Sold",value:t?.totalItemsSold.toString()||"0",subtitle:"total units"}),y.jsx(nc,{title:"Paid Invoices",value:`${t?.paidCount}/${t?.totalInvoices}`,subtitle:`${t?.draftCount} drafts, ${t?.sentCount} sent`})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:16,marginBottom:16},children:[y.jsx(xa,{title:"Revenue Over Time",children:r.length>0?y.jsx(h2,{data:de,options:{responsive:!0,plugins:{legend:{display:!1}}}}):y.jsx(ic,{message:"No invoice data available"})}),y.jsx(xa,{title:"Items by Category",children:c.length>0?y.jsx(f2,{data:ge,options:{responsive:!0,plugins:{legend:{position:"right"}}}}):y.jsx(ic,{message:"No category data available"})})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:16},children:[y.jsx(xa,{title:"Top Materials Used",children:d.length>0?y.jsx(d2,{data:B,options:{responsive:!0,indexAxis:"y",plugins:{legend:{display:!1}}}}):y.jsx(ic,{message:"No material data available"})}),y.jsx(xa,{title:"Top Clients",children:m.length>0?y.jsx("div",{style:{padding:"16px 0"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Client"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Invoices"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Revenue"})]})}),y.jsx("tbody",{children:m.map((L,te)=>y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:L.client_name}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:L.invoice_count}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:L.total_revenue.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]},te))})]})}):y.jsx(ic,{message:"No client data available"})})]}),d.length>0&&y.jsx(xa,{title:"Material Breakdown (Detailed)",style:{marginTop:16},children:y.jsx("div",{style:{padding:"16px 0"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Material"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Total Quantity"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Unit"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Used In"})]})}),y.jsx("tbody",{children:d.map((L,te)=>y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:L.material_name}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:L.total_qty.toFixed(2)}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:L.unit}),y.jsxs("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:[L.usage_count," items"]})]},te))})]})})}),y.jsx(xa,{title:"All Invoices",style:{marginTop:16},children:y.jsx("div",{style:{padding:"16px 0",maxHeight:500,overflowY:"auto"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Invoice No"}),y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Project"}),y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Client"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Date"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Total"}),y.jsx("th",{style:{textAlign:"center",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Status"}),y.jsx("th",{style:{textAlign:"center",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Action"})]})}),y.jsx("tbody",{children:S.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:7,style:{padding:40,textAlign:"center",color:"#6b7280"},children:"No invoices found"})}):S.map(L=>y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:L.invoice_no}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:L.project_name||"-"}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:L.clients?.name||"-"}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:L.invoice_date}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:Number(L.total).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}),y.jsx("td",{style:{padding:"12px 0",textAlign:"center"},children:y.jsx("span",{style:{padding:"4px 8px",borderRadius:4,fontSize:11,fontWeight:500,background:L.status==="paid"?"#065f46":L.status==="sent"?"#1e40af":"#374151",color:"#e5e7eb"},children:L.status})}),y.jsx("td",{style:{padding:"12px 0",textAlign:"center"},children:y.jsx("button",{onClick:()=>Y(L.id),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #38bdf8",background:"transparent",color:"#38bdf8",fontSize:12,fontWeight:500,cursor:"pointer"},children:"View Details"})})]},L.id))})]})})})]}),j&&w&&y.jsx(p2,{invoice:w.invoice,items:w.items,onClose:re})]})},nc=({title:i,value:e,subtitle:t})=>y.jsxs("div",{style:{background:"#020617",border:"1px solid #1f2937",borderRadius:12,padding:20},children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:8},children:i}),y.jsx("div",{style:{fontSize:24,fontWeight:600,color:"#e5e7eb",marginBottom:4},children:e}),t&&y.jsx("div",{style:{fontSize:11,color:"#6b7280"},children:t})]}),xa=({title:i,children:e,style:t})=>y.jsxs("div",{style:{background:"#020617",border:"1px solid #1f2937",borderRadius:12,padding:20,...t},children:[y.jsx("h3",{style:{fontSize:16,fontWeight:600,color:"#e5e7eb",marginTop:0,marginBottom:16},children:i}),e]}),ic=({message:i})=>y.jsx("div",{style:{padding:40,textAlign:"center",color:"#6b7280",fontSize:14},children:i}),p2=({invoice:i,items:e,onClose:t})=>{const s=(r,o)=>r.qty_per_item*o.qty*(o.unit_price/o.qty);return y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:20},onClick:t,children:y.jsxs("div",{style:{background:"#020617",border:"1px solid #1f2937",borderRadius:12,padding:32,maxWidth:1e3,width:"100%",maxHeight:"90vh",overflowY:"auto"},onClick:r=>r.stopPropagation(),children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[y.jsxs("h2",{style:{fontSize:24,fontWeight:600,color:"#e5e7eb",margin:0},children:["Invoice Details: ",i.invoice_no]}),y.jsx("button",{onClick:t,style:{background:"transparent",border:"none",color:"#9ca3af",fontSize:24,cursor:"pointer",padding:0},children:""})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:24},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:4},children:"Client"}),y.jsx("div",{style:{fontSize:14,color:"#e5e7eb"},children:i.clients?.name||"N/A"})]}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:4},children:"Project"}),y.jsx("div",{style:{fontSize:14,color:"#e5e7eb"},children:i.project_name||"N/A"})]}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:4},children:"Date"}),y.jsx("div",{style:{fontSize:14,color:"#e5e7eb"},children:i.invoice_date})]}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:4},children:"Status"}),y.jsx("div",{style:{fontSize:14,color:"#e5e7eb",textTransform:"capitalize"},children:i.status})]})]}),y.jsx("h3",{style:{fontSize:18,fontWeight:600,color:"#e5e7eb",marginTop:24,marginBottom:16},children:"Items & Materials Breakdown"}),e.map((r,o)=>y.jsxs("div",{style:{background:"#0f172a",border:"1px solid #1f2937",borderRadius:8,padding:16,marginBottom:16},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12},children:[y.jsxs("div",{children:[y.jsxs("div",{style:{fontSize:16,fontWeight:500,color:"#e5e7eb",marginBottom:4},children:[o+1,". ",r.code]}),y.jsxs("div",{style:{fontSize:13,color:"#9ca3af"},children:[r.description," | ",r.dimensions]})]}),y.jsxs("div",{style:{textAlign:"right"},children:[y.jsxs("div",{style:{fontSize:14,color:"#9ca3af"},children:["Qty: ",r.qty,"  ",Number(r.unit_price).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})]}),y.jsx("div",{style:{fontSize:16,fontWeight:500,color:"#38bdf8"},children:Number(r.line_total).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]})]}),r.materials&&r.materials.length>0&&y.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #1f2937"},children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:8,fontWeight:500},children:"Materials Used:"}),y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("th",{style:{textAlign:"left",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Material"}),y.jsx("th",{style:{textAlign:"right",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Qty/Item"}),y.jsx("th",{style:{textAlign:"right",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Unit"}),y.jsx("th",{style:{textAlign:"right",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Total Qty"}),y.jsx("th",{style:{textAlign:"right",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Est. Cost"})]})}),y.jsx("tbody",{children:r.materials.map((c,h)=>y.jsxs("tr",{style:{borderBottom:"1px solid #0f172a"},children:[y.jsx("td",{style:{padding:"8px 0",color:"#e5e7eb",fontSize:13},children:c.material_name}),y.jsx("td",{style:{padding:"8px 0",color:"#e5e7eb",fontSize:13,textAlign:"right"},children:c.qty_per_item}),y.jsx("td",{style:{padding:"8px 0",color:"#e5e7eb",fontSize:13,textAlign:"right"},children:c.unit}),y.jsx("td",{style:{padding:"8px 0",color:"#e5e7eb",fontSize:13,textAlign:"right"},children:c.total_qty}),y.jsx("td",{style:{padding:"8px 0",color:"#38bdf8",fontSize:13,textAlign:"right"},children:s(c,r).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]},h))})]})]})]},r.id)),y.jsxs("div",{style:{marginTop:24,paddingTop:24,borderTop:"2px solid #1f2937"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[y.jsx("span",{style:{fontSize:14,color:"#9ca3af"},children:"Subtotal"}),y.jsx("span",{style:{fontSize:14,color:"#e5e7eb"},children:Number(i.subtotal).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]}),i.discount>0&&y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[y.jsx("span",{style:{fontSize:14,color:"#9ca3af"},children:"Discount"}),y.jsxs("span",{style:{fontSize:14,color:"#e5e7eb"},children:["-",Number(i.discount).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})]})]}),i.vat_rate>0&&y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[y.jsxs("span",{style:{fontSize:14,color:"#9ca3af"},children:["VAT (",i.vat_rate,"%)"]}),y.jsx("span",{style:{fontSize:14,color:"#e5e7eb"},children:Number(i.vat_amount).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:12,paddingTop:12,borderTop:"1px solid #1f2937"},children:[y.jsx("span",{style:{fontSize:18,fontWeight:600,color:"#e5e7eb"},children:"Total"}),y.jsx("span",{style:{fontSize:18,fontWeight:600,color:"#38bdf8"},children:Number(i.total).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]})]})]})})},m2={name:"",logoUrl:"/Company%20Logo.svg",address:"",phone:"",email:""},y2={name:"",company:"",address:"",phone:"",email:"",siteAddress:""},b2={invoiceNo:"",date:"",dueDate:"",projectName:""},v2=()=>{const[i,e]=F.useState({company:m2,client:y2,meta:b2,items:[],vatRate:0,discount:0,notes:""});F.useEffect(()=>{try{const z=localStorage.getItem("invoice-preview");if(!z)return;const P=JSON.parse(z);e(P)}catch(z){console.error("Failed to load invoice-preview from localStorage",z)}},[]);const{company:t,client:s,meta:r,items:o,vatRate:c,discount:h,notes:d}=i,f=o.reduce((z,P)=>z+P.qty*P.unitPrice,0),m=Math.max(f-h,0),b=m*c/100,v=m+b,x=()=>{window.print()},S=()=>{window.print()},E=z=>{const P=String(z??"");return P.includes('"')||P.includes(",")||P.includes(`
`)?`"${P.replace(/"/g,'""')}"`:P},w=(z,P)=>{const $=new Blob([P],{type:"text/csv;charset=utf-8;"}),ee=URL.createObjectURL($),X=document.createElement("a");X.href=ee,X.setAttribute("download",z),document.body.appendChild(X),X.click(),X.remove(),URL.revokeObjectURL(ee)},C=()=>{if(!o.some(X=>X.materials&&X.materials.length>0)){alert("No material breakdown found on items.");return}const P=[];P.push(["Invoice No","Project","Client","Item #","Item Name","Category","Material","Unit","Qty per Item","Item Qty","Total Material Qty"].map(E).join(",")),o.forEach((X,G)=>{!X.materials||X.materials.length===0||X.materials.forEach(Y=>{const re=Y.qty*X.qty;P.push([r.invoiceNo||"",r.projectName||"",s.name||"",G+1,X.code||"Item",X.category,Y.name,Y.unit,Y.qty,X.qty,re].map(E).join(","))})});const $=P.join(`\r
`),ee=r.invoiceNo?`${r.invoiceNo}_materials.csv`:"invoice-materials.csv";w(ee,$)},j=h>0,A=c>0&&b>0,D=j||A,k=j||A;return y.jsxs("div",{className:"invoice-preview-root",children:[y.jsxs("div",{className:"invoice-toolbar no-print",children:[y.jsx("button",{className:"btn-outline",onClick:x,children:"Print Invoice"}),y.jsx("button",{className:"btn-outline",onClick:S,children:"Export PDF"}),y.jsx("button",{className:"btn-outline",onClick:C,children:"Export Excel"})]}),y.jsxs("div",{className:"invoice-page",children:[y.jsxs("header",{className:"invoice-header",children:[y.jsxs("div",{className:"header-left",children:[t.logoUrl&&y.jsx("img",{src:t.logoUrl,alt:"Company logo",className:"company-logo"}),y.jsxs("div",{children:[y.jsx("div",{className:"company-name",children:t.name||"Company Name"}),y.jsx("div",{className:"small-text",children:t.address&&y.jsx("span",{children:t.address})}),y.jsxs("div",{className:"small-text",children:[t.phone&&y.jsx("span",{children:t.phone}),t.phone&&t.email&&"  ",t.email&&y.jsx("span",{className:"email-line",children:t.email})]})]})]}),y.jsxs("div",{className:"header-right",children:[y.jsxs("div",{className:"invoice-meta-block",children:[y.jsx("div",{className:"invoice-title",children:"INVOICE"}),y.jsxs("div",{className:"small-text",children:[y.jsx("strong",{children:"Invoice No:"})," ",r.invoiceNo||"-"]}),y.jsxs("div",{className:"small-text",children:[y.jsx("strong",{children:"Date:"})," ",r.date||"-"]}),y.jsxs("div",{className:"small-text",children:[y.jsx("strong",{children:"Project:"})," ",r.projectName||"-"]})]}),y.jsxs("div",{className:"client-block",children:[y.jsx("div",{className:"section-label",children:"BILL TO"}),y.jsx("div",{className:"small-text bold",children:s.name||"Client Name"}),s.address&&y.jsx("div",{className:"small-text",children:s.address}),(s.phone||s.email)&&y.jsxs("div",{className:"small-text",children:[s.phone&&y.jsxs("span",{children:["Tel: ",s.phone]}),s.phone&&s.email&&"  ",s.email&&y.jsx("span",{children:s.email})]}),s.siteAddress&&y.jsxs("div",{className:"small-text",style:{marginTop:4},children:[y.jsx("span",{style:{fontWeight:600,fontSize:10},children:"Site / Delivery:"})," ",s.siteAddress]})]})]})]}),y.jsx("section",{className:"invoice-items",children:y.jsxs("table",{className:"items-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{className:"col-index",children:"#"}),y.jsx("th",{className:"col-item",children:"Item"}),y.jsx("th",{className:"col-material",children:"Material / Finish"}),y.jsx("th",{className:"col-dimensions",children:"Dimensions"}),y.jsx("th",{className:"col-photo",children:"Photo"}),y.jsx("th",{className:"col-qty",children:"Qty"}),y.jsx("th",{className:"col-unit",children:"Unit"}),y.jsx("th",{className:"col-total",children:"Total"})]})}),y.jsxs("tbody",{children:[o.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:8,style:{textAlign:"center",padding:24},children:"No items."})}),o.map((z,P)=>{const $=z.qty*z.unitPrice;return y.jsxs("tr",{children:[y.jsx("td",{className:"col-index",children:P+1}),y.jsx("td",{className:"col-item",children:y.jsx("div",{className:"item-name",children:z.code||"Item"})}),y.jsx("td",{className:"col-material",children:y.jsx("div",{className:"small-text",children:z.description||"-"})}),y.jsx("td",{className:"col-dimensions",children:y.jsx("div",{className:"small-text",children:z.dimensions||"-"})}),y.jsx("td",{className:"col-photo",children:z.image?y.jsx("img",{src:z.image,alt:"Item",className:"table-photo"}):"-"}),y.jsx("td",{className:"col-qty",children:z.qty}),y.jsx("td",{className:"col-unit",children:z.unitPrice.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})}),y.jsx("td",{className:"col-total",children:$.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]},z.id??P)})]})]})}),y.jsx("section",{className:"invoice-totals",children:y.jsxs("div",{className:"totals-box",children:[D&&y.jsxs("div",{className:"totals-row",children:[y.jsx("span",{children:"Subtotal"}),y.jsx("span",{children:f.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),j&&y.jsxs("div",{className:"totals-row",children:[y.jsx("span",{children:"Discount"}),y.jsx("span",{children:h.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),k&&y.jsxs("div",{className:"totals-row",children:[y.jsx("span",{children:"Taxable Amount"}),y.jsx("span",{children:m.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),A&&y.jsxs("div",{className:"totals-row",children:[y.jsxs("span",{children:["VAT (",c,"%)"]}),y.jsx("span",{children:b.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),y.jsxs("div",{className:"totals-row totals-row-strong",children:[y.jsx("span",{children:"Grand Total"}),y.jsx("span",{children:v.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]})]})}),y.jsxs("section",{className:"invoice-notes",children:[y.jsx("div",{className:"section-label",children:"NOTES / TERMS"}),y.jsx("pre",{className:"notes-text",children:d})]}),y.jsxs("section",{className:"invoice-footer",children:[y.jsx("div",{className:"footer-line",children:"Prepared By: ______________________"}),y.jsx("div",{className:"footer-line",children:"Approved By: ______________________"}),y.jsx("div",{className:"thankyou",children:"Thank you for your business."})]})]})]})},_2=()=>y.jsxs(tE,{children:[y.jsx(hE,{}),y.jsxs(k1,{children:[y.jsx(sc,{path:"/",element:y.jsx(jC,{})}),y.jsx(sc,{path:"/dashboard",element:y.jsx(g2,{})}),y.jsx(sc,{path:"/preview",element:y.jsx(v2,{})})]})]});Hw.createRoot(document.getElementById("root")).render(y.jsx(kw.StrictMode,{children:y.jsx(_2,{})}));
